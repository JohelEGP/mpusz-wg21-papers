<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="mpark/wg21" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="dcterms.date" content="2023-10-14" />
  <title>`std::quantity` as a numeric type</title>
  <style>
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
      div.csl-block{margin-left: 1.5em;}
      ul.task-list{list-style: none;}
      pre > code.sourceCode { white-space: pre; position: relative; }
      pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
      pre > code.sourceCode > span:empty { height: 1.2em; }
      .sourceCode { overflow: visible; }
      code.sourceCode > span { color: inherit; text-decoration: inherit; }
      div.sourceCode { margin: 1em 0; }
      pre.sourceCode { margin: 0; }
      @media screen {
      div.sourceCode { overflow: auto; }
      }
      @media print {
      pre > code.sourceCode { white-space: pre-wrap; }
      pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
      }
      pre.numberSource code
        { counter-reset: source-line 0; }
      pre.numberSource code > span
        { position: relative; left: -4em; counter-increment: source-line; }
      pre.numberSource code > span > a:first-child::before
        { content: counter(source-line);
          position: relative; left: -1em; text-align: right; vertical-align: baseline;
          border: none; display: inline-block;
          -webkit-touch-callout: none; -webkit-user-select: none;
          -khtml-user-select: none; -moz-user-select: none;
          -ms-user-select: none; user-select: none;
          padding: 0 4px; width: 4em;
          color: #aaaaaa;
        }
      pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
      div.sourceCode
        {  background-color: #f6f8fa; }
      @media screen {
      pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
      }
      code span { } /* Normal */
      code span.al { color: #ff0000; } /* Alert */
      code span.an { } /* Annotation */
      code span.at { } /* Attribute */
      code span.bn { color: #9f6807; } /* BaseN */
      code span.bu { color: #9f6807; } /* BuiltIn */
      code span.cf { color: #00607c; } /* ControlFlow */
      code span.ch { color: #9f6807; } /* Char */
      code span.cn { } /* Constant */
      code span.co { color: #008000; font-style: italic; } /* Comment */
      code span.cv { color: #008000; font-style: italic; } /* CommentVar */
      code span.do { color: #008000; } /* Documentation */
      code span.dt { color: #00607c; } /* DataType */
      code span.dv { color: #9f6807; } /* DecVal */
      code span.er { color: #ff0000; font-weight: bold; } /* Error */
      code span.ex { } /* Extension */
      code span.fl { color: #9f6807; } /* Float */
      code span.fu { } /* Function */
      code span.im { } /* Import */
      code span.in { color: #008000; } /* Information */
      code span.kw { color: #00607c; } /* Keyword */
      code span.op { color: #af1915; } /* Operator */
      code span.ot { } /* Other */
      code span.pp { color: #6f4e37; } /* Preprocessor */
      code span.re { } /* RegionMarker */
      code span.sc { color: #9f6807; } /* SpecialChar */
      code span.ss { color: #9f6807; } /* SpecialString */
      code span.st { color: #9f6807; } /* String */
      code span.va { } /* Variable */
      code span.vs { color: #9f6807; } /* VerbatimString */
      code span.wa { color: #008000; font-weight: bold; } /* Warning */
      code.diff {color: #898887}
      code.diff span.va {color: #006e28}
      code.diff span.st {color: #bf0303}
  </style>
  <style type="text/css">
body {
margin: 5em;
font-family: serif;

hyphens: auto;
line-height: 1.35;
text-align: justify;
}
@media screen and (max-width: 30em) {
body {
margin: 1.5em;
}
}
div.wrapper {
max-width: 60em;
margin: auto;
}
ul {
list-style-type: none;
padding-left: 2em;
margin-top: -0.2em;
margin-bottom: -0.2em;
}
a {
text-decoration: none;
color: #4183C4;
}
a.hidden_link {
text-decoration: none;
color: inherit;
}
li {
margin-top: 0.6em;
margin-bottom: 0.6em;
}
h1, h2, h3, h4 {
position: relative;
line-height: 1;
}
a.self-link {
position: absolute;
top: 0;
left: calc(-1 * (3.5rem - 26px));
width: calc(3.5rem - 26px);
height: 2em;
text-align: center;
border: none;
transition: opacity .2s;
opacity: .5;
font-family: sans-serif;
font-weight: normal;
font-size: 83%;
}
a.self-link:hover { opacity: 1; }
a.self-link::before { content: "§"; }
ul > li:before {
content: "\2014";
position: absolute;
margin-left: -1.5em;
}
:target { background-color: #C9FBC9; }
:target .codeblock { background-color: #C9FBC9; }
:target ul { background-color: #C9FBC9; }
.abbr_ref { float: right; }
.folded_abbr_ref { float: right; }
:target .folded_abbr_ref { display: none; }
:target .unfolded_abbr_ref { float: right; display: inherit; }
.unfolded_abbr_ref { display: none; }
.secnum { display: inline-block; min-width: 35pt; }
.header-section-number { display: inline-block; min-width: 35pt; }
.annexnum { display: block; }
div.sourceLinkParent {
float: right;
}
a.sourceLink {
position: absolute;
opacity: 0;
margin-left: 10pt;
}
a.sourceLink:hover {
opacity: 1;
}
a.itemDeclLink {
position: absolute;
font-size: 75%;
text-align: right;
width: 5em;
opacity: 0;
}
a.itemDeclLink:hover { opacity: 1; }
span.marginalizedparent {
position: relative;
left: -5em;
}
li span.marginalizedparent { left: -7em; }
li ul > li span.marginalizedparent { left: -9em; }
li ul > li ul > li span.marginalizedparent { left: -11em; }
li ul > li ul > li ul > li span.marginalizedparent { left: -13em; }
div.footnoteNumberParent {
position: relative;
left: -4.7em;
}
a.marginalized {
position: absolute;
font-size: 75%;
text-align: right;
width: 5em;
}
a.enumerated_item_num {
position: relative;
left: -3.5em;
display: inline-block;
margin-right: -3em;
text-align: right;
width: 3em;
}
div.para { margin-bottom: 0.6em; margin-top: 0.6em; text-align: justify; }
div.section { text-align: justify; }
div.sentence { display: inline; }
span.indexparent {
display: inline;
position: relative;
float: right;
right: -1em;
}
a.index {
position: absolute;
display: none;
}
a.index:before { content: "⟵"; }

a.index:target {
display: inline;
}
.indexitems {
margin-left: 2em;
text-indent: -2em;
}
div.itemdescr {
margin-left: 3em;
}
.bnf {
font-family: serif;
margin-left: 40pt;
margin-top: 0.5em;
margin-bottom: 0.5em;
}
.ncbnf {
font-family: serif;
margin-top: 0.5em;
margin-bottom: 0.5em;
margin-left: 40pt;
}
.ncsimplebnf {
font-family: serif;
font-style: italic;
margin-top: 0.5em;
margin-bottom: 0.5em;
margin-left: 40pt;
background: inherit; 
}
span.textnormal {
font-style: normal;
font-family: serif;
white-space: normal;
display: inline-block;
}
span.rlap {
display: inline-block;
width: 0px;
}
span.descr { font-style: normal; font-family: serif; }
span.grammarterm { font-style: italic; }
span.term { font-style: italic; }
span.terminal { font-family: monospace; font-style: normal; }
span.nonterminal { font-style: italic; }
span.tcode { font-family: monospace; font-style: normal; }
span.textbf { font-weight: bold; }
span.textsc { font-variant: small-caps; }
a.nontermdef { font-style: italic; font-family: serif; }
span.emph { font-style: italic; }
span.techterm { font-style: italic; }
span.mathit { font-style: italic; }
span.mathsf { font-family: sans-serif; }
span.mathrm { font-family: serif; font-style: normal; }
span.textrm { font-family: serif; }
span.textsl { font-style: italic; }
span.mathtt { font-family: monospace; font-style: normal; }
span.mbox { font-family: serif; font-style: normal; }
span.ungap { display: inline-block; width: 2pt; }
span.textit { font-style: italic; }
span.texttt { font-family: monospace; }
span.tcode_in_codeblock { font-family: monospace; font-style: normal; }
span.phantom { color: white; }

span.math { font-style: normal; }
span.mathblock {
display: block;
margin-left: auto;
margin-right: auto;
margin-top: 1.2em;
margin-bottom: 1.2em;
text-align: center;
}
span.mathalpha {
font-style: italic;
}
span.synopsis {
font-weight: bold;
margin-top: 0.5em;
display: block;
}
span.definition {
font-weight: bold;
display: block;
}
.codeblock {
margin-left: 1.2em;
line-height: 127%;
}
.outputblock {
margin-left: 1.2em;
line-height: 127%;
}
div.itemdecl {
margin-top: 2ex;
}
code.itemdeclcode {
white-space: pre;
display: block;
}
span.textsuperscript {
vertical-align: super;
font-size: smaller;
line-height: 0;
}
.footnotenum { vertical-align: super; font-size: smaller; line-height: 0; }
.footnote {
font-size: small;
margin-left: 2em;
margin-right: 2em;
margin-top: 0.6em;
margin-bottom: 0.6em;
}
div.minipage {
display: inline-block;
margin-right: 3em;
}
div.numberedTable {
text-align: center;
margin: 2em;
}
div.figure {
text-align: center;
margin: 2em;
}
table {
border: 1px solid black;
border-collapse: collapse;
margin-left: auto;
margin-right: auto;
margin-top: 0.8em;
text-align: left;
hyphens: none; 
}
td, th {
padding-left: 1em;
padding-right: 1em;
vertical-align: top;
}
td.empty {
padding: 0px;
padding-left: 1px;
}
td.left {
text-align: left;
}
td.right {
text-align: right;
}
td.center {
text-align: center;
}
td.justify {
text-align: justify;
}
td.border {
border-left: 1px solid black;
}
tr.rowsep, td.cline {
border-top: 1px solid black;
}
tr.even, tr.odd {
border-bottom: 1px solid black;
}
tr.capsep {
border-top: 3px solid black;
border-top-style: double;
}
tr.header {
border-bottom: 3px solid black;
border-bottom-style: double;
}
th {
border-bottom: 1px solid black;
}
span.centry {
font-weight: bold;
}
div.table {
display: block;
margin-left: auto;
margin-right: auto;
text-align: center;
width: 90%;
}
span.indented {
display: block;
margin-left: 2em;
margin-bottom: 1em;
margin-top: 1em;
}
ol.enumeratea { list-style-type: none; background: inherit; }
ol.enumerate { list-style-type: none; background: inherit; }

code.sourceCode > span { display: inline; }
</style>
  <link href="data:image/x-icon;base64,AAABAAIAEBAAAAEAIABoBAAAJgAAACAgAAABACAAqBAAAI4EAAAoAAAAEAAAACAAAAABACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AIJEAACCRAAAgkQAAIJEAACCRAAAgkQAVoJEAN6CRADegkQAWIJEAACCRAAAgkQAAIJEAACCRAAA////AP///wCCRAAAgkQAAIJEAACCRAAsgkQAvoJEAP+CRAD/gkQA/4JEAP+CRADAgkQALoJEAACCRAAAgkQAAP///wD///8AgkQAAIJEABSCRACSgkQA/IJEAP99PQD/dzMA/3czAP99PQD/gkQA/4JEAPyCRACUgkQAFIJEAAD///8A////AHw+AFiBQwDqgkQA/4BBAP9/PxP/uZd6/9rJtf/bybX/upd7/39AFP+AQQD/gkQA/4FDAOqAQgBc////AP///wDKklv4jlEa/3o7AP+PWC//8+3o///////////////////////z7un/kFox/35AAP+GRwD/mVYA+v///wD///8A0Zpk+NmibP+0d0T/8evj///////+/fv/1sKz/9bCs//9/fr//////+/m2/+NRwL/nloA/5xYAPj///8A////ANKaZPjRmGH/5cKh////////////k149/3UwAP91MQD/lmQ//86rhv+USg3/m1YA/5hSAP+bVgD4////AP///wDSmmT4zpJY/+/bx///////8+TV/8mLT/+TVx//gkIA/5lVAP+VTAD/x6B//7aEVv/JpH7/s39J+P///wD///8A0ppk+M6SWP/u2sf///////Pj1f/Nj1T/2KFs/8mOUv+eWhD/lEsA/8aee/+0glT/x6F7/7J8Rvj///8A////ANKaZPjRmGH/48Cf///////+/v7/2qt//82PVP/OkFX/37KJ/86siv+USg7/mVQA/5hRAP+bVgD4////AP///wDSmmT40ppk/9CVXP/69O////////7+/v/x4M//8d/P//7+/f//////9u7n/6tnJf+XUgD/nFgA+P///wD///8A0ppk+NKaZP/RmWL/1qNy//r07///////////////////////+vXw/9akdP/Wnmn/y5FY/6JfFvj///8A////ANKaZFTSmmTo0ppk/9GYYv/Ql1//5cWm//Hg0P/x4ND/5cWm/9GXYP/RmGH/0ppk/9KaZOjVnmpY////AP///wDSmmQA0ppkEtKaZI7SmmT60ppk/9CWX//OkVb/zpFW/9CWX//SmmT/0ppk/NKaZJDSmmQS0ppkAP///wD///8A0ppkANKaZADSmmQA0ppkKtKaZLrSmmT/0ppk/9KaZP/SmmT/0ppkvNKaZCrSmmQA0ppkANKaZAD///8A////ANKaZADSmmQA0ppkANKaZADSmmQA0ppkUtKaZNzSmmTc0ppkVNKaZADSmmQA0ppkANKaZADSmmQA////AP5/AAD4HwAA4AcAAMADAACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAMADAADgBwAA+B8AAP5/AAAoAAAAIAAAAEAAAAABACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AP///wCCRAAAgkQAAIJEAACCRAAAgkQAAIJEAACCRAAAgkQAAIJEAACCRAAAgkQAAIJEAAyCRACMgkQA6oJEAOqCRACQgkQAEIJEAACCRAAAgkQAAIJEAACCRAAAgkQAAIJEAACCRAAAgkQAAIJEAACCRAAA////AP///wD///8A////AIJEAACCRAAAgkQAAIJEAACCRAAAgkQAAIJEAACCRAAAgkQAAIJEAACCRABigkQA5oJEAP+CRAD/gkQA/4JEAP+CRADqgkQAZoJEAACCRAAAgkQAAIJEAACCRAAAgkQAAIJEAACCRAAAgkQAAIJEAAD///8A////AP///wD///8AgkQAAIJEAACCRAAAgkQAAIJEAACCRAAAgkQAAIJEAACCRAA4gkQAwoJEAP+CRAD/gkQA/4JEAP+CRAD/gkQA/4JEAP+CRAD/gkQAxIJEADyCRAAAgkQAAIJEAACCRAAAgkQAAIJEAACCRAAAgkQAAP///wD///8A////AP///wCCRAAAgkQAAIJEAACCRAAAgkQAAIJEAACCRAAWgkQAmIJEAP+CRAD/gkQA/4JEAP+CRAD/gkQA/4JEAP+CRAD/gkQA/4JEAP+CRAD/gkQA/4JEAJyCRAAYgkQAAIJEAACCRAAAgkQAAIJEAACCRAAA////AP///wD///8A////AIJEAACCRAAAgkQAAIJEAACCRAAAgkQAdIJEAPCCRAD/gkQA/4JEAP+CRAD/gkQA/4JEAP+CRAD/gkQA/4JEAP+CRAD/gkQA/4JEAP+CRAD/gkQA/4JEAPSCRAB4gkQAAIJEAACCRAAAgkQAAIJEAAD///8A////AP///wD///8AgkQAAIJEAACCRAAAgkQASoJEANKCRAD/gkQA/4JEAP+CRAD/g0YA/39AAP9zLgD/bSQA/2shAP9rIQD/bSQA/3MuAP9/PwD/g0YA/4JEAP+CRAD/gkQA/4JEAP+CRADUgkQAToJEAACCRAAAgkQAAP///wD///8A////AP///wB+PwAAgkUAIoJEAKiCRAD/gkQA/4JEAP+CRAD/hEcA/4BBAP9sIwD/dTAA/5RfKv+viF7/vp56/76ee/+wiF7/lWAr/3YxAP9sIwD/f0AA/4RHAP+CRAD/gkQA/4JEAP+CRAD/gkQArIJEACaBQwAA////AP///wD///8A////AIBCAEBzNAD6f0EA/4NFAP+CRAD/gkQA/4VIAP92MwD/bSUA/6N1Tv/ezsL/////////////////////////////////38/D/6V3Uv9uJgD/dTEA/4VJAP+CRAD/gkQA/4JEAP+BQwD/fUAA/4FDAEj///8A////AP///wD///8AzJRd5qBlKf91NgD/dDUA/4JEAP+FSQD/cy4A/3YyAP/PuKP//////////////////////////////////////////////////////9K7qP94NQD/ciwA/4VJAP+CRAD/fkEA/35BAP+LSwD/mlYA6v///wD///8A////AP///wDdpnL/4qx3/8KJUv+PUhf/cTMA/3AsAP90LgD/4dK+/////////////////////////////////////////////////////////////////+TYxf91MAD/dTIA/31CAP+GRwD/llQA/6FcAP+gWwD8////AP///wD///8A////ANGZY/LSm2X/4ap3/92mcP+wdT3/byQA/8mwj////////////////////////////////////////////////////////////////////////////+LYxv9zLgP/jUoA/59bAP+hXAD/nFgA/5xYAPL///8A////AP///wD///8A0ppk8tKaZP/RmWL/1p9q/9ubXv/XqXj////////////////////////////7+fD/vZyG/6BxS/+gcUr/vJuE//r37f//////////////////////3MOr/5dQBf+dVQD/nVkA/5xYAP+cWAD/nFgA8v///wD///8A////AP///wDSmmTy0ppk/9KaZP/SmWP/yohJ//jo2P//////////////////////4NTG/4JDFf9lGAD/bSQA/20kAP9kGAD/fz8S/+Xb0f//////5NG9/6txN/+LOgD/m1QA/51aAP+cWAD/m1cA/5xYAP+cWADy////AP///wD///8A////ANKaZPLSmmT/0ppk/8+TWf/Unmv//v37//////////////////////+TWRr/VwsA/35AAP+ERgD/g0UA/4JGAP9lHgD/kFga/8KXX/+TRwD/jT4A/49CAP+VTQD/n10A/5xYAP+OQQD/lk4A/55cAPL///8A////AP///wD///8A0ppk8tKaZP/SmmT/y4tO/92yiP//////////////////////8NnE/8eCQP+rcTT/ez0A/3IyAP98PgD/gEMA/5FSAP+USwD/jj8A/5lUAP+JNwD/yqV2/694Mf+HNQD/jkAA/82rf/+laBj/jT4A8v///wD///8A////AP///wDSmmTy0ppk/9KaZP/LiUr/4byY///////////////////////gupX/0I5P/+Wuev/Lklz/l1sj/308AP+QSwD/ol0A/59aAP+aVQD/k0oA/8yoh///////+fXv/6pwO//Lp3v///////Pr4f+oay7y////AP///wD///8A////ANKaZPLSmmT/0ppk/8uJSv/hvJj//////////////////////+G7l//Jhkb/0ppk/96nc//fqXX/x4xO/6dkFP+QSQD/llEA/5xXAP+USgD/yaOA///////38uv/qG05/8ijdv//////8efb/6ZpLPL///8A////AP///wD///8A0ppk8tKaZP/SmmT/zIxO/9yxh///////////////////////7dbA/8iEQf/Sm2X/0Zlj/9ScZv/eqHf/2KJv/7yAQf+XTgD/iToA/5lSAP+JNgD/yKFv/611LP+HNQD/jT8A/8qmeP+kZRT/jT4A8v///wD///8A////AP///wDSmmTy0ppk/9KaZP/Pk1n/1J5q//78+//////////////////+/fv/1aFv/8iEQv/Tm2b/0ppl/9GZY//Wn2z/1pZc/9eldf/Bl2b/kUcA/4w9AP+OQAD/lUwA/59eAP+cWQD/jT8A/5ZOAP+eXADy////AP///wD///8A////ANKaZPLSmmT/0ppk/9KZY//KiEn/8d/P///////////////////////47+f/05tm/8iCP//KiEj/yohJ/8eCP//RmGH//vfy///////n1sP/rXQ7/4k4AP+TTAD/nVoA/5xYAP+cVwD/nFgA/5xYAPL///8A////AP///wD///8A0ppk8tKaZP/SmmT/0ptl/8uLTf/aq37////////////////////////////+/fz/6c2y/961jv/etY7/6Myx//78+v//////////////////////3MWv/5xXD/+ORAD/mFQA/51ZAP+cWAD/nFgA8v///wD///8A////AP///wDSmmTy0ppk/9KaZP/SmmT/0ppk/8mFRP/s1b//////////////////////////////////////////////////////////////////////////////+PD/0JFU/7NzMv+WUQD/kUsA/5tXAP+dWQDy////AP///wD///8A////ANKaZP/SmmT/0ppk/9KaZP/Sm2X/z5NZ/8yMT//z5NX/////////////////////////////////////////////////////////////////9Ofa/8yNUP/UmGH/36p5/8yTWv+qaSD/kksA/5ROAPz///8A////AP///wD///8A0ppk5NKaZP/SmmT/0ppk/9KaZP/TnGf/zY9T/82OUv/t1sD//////////////////////////////////////////////////////+7Yw//OkFX/zI5R/9OcZ//SmmP/26V0/9ymdf/BhUf/ol8R6P///wD///8A////AP///wDSmmQ80ppk9tKaZP/SmmT/0ppk/9KaZP/TnGj/zpFW/8qJSv/dson/8uHS//////////////////////////////////Lj0//etIv/y4lL/86QVf/TnGj/0ppk/9KaZP/RmWP/05xn/9ymdfjUnWdC////AP///wD///8A////ANKaZADSmmQc0ppkotKaZP/SmmT/0ppk/9KaZP/Tm2b/0Zli/8qJSf/NjlH/16Z3/+G8mP/myKr/5siq/+G8mP/Xp3f/zY5S/8qISf/RmGH/05tm/9KaZP/SmmT/0ppk/9KaZP/SmmSm0pljINWdaQD///8A////AP///wD///8A0ppkANKaZADSmmQA0ppkQtKaZMrSmmT/0ppk/9KaZP/SmmT/0ptl/9GYYf/Nj1P/y4lL/8qISP/KiEj/y4lK/82PU//RmGH/0ptl/9KaZP/SmmT/0ppk/9KaZP/SmmTO0ppkRtKaZADSmmQA0ppkAP///wD///8A////AP///wDSmmQA0ppkANKaZADSmmQA0ppkANKaZGzSmmTu0ppk/9KaZP/SmmT/0ppk/9KaZP/SmmT/0ppk/9KaZP/SmmT/0ppk/9KaZP/SmmT/0ppk/9KaZP/SmmTw0ppkcNKaZADSmmQA0ppkANKaZADSmmQA////AP///wD///8A////ANKaZADSmmQA0ppkANKaZADSmmQA0ppkANKaZBLSmmSQ0ppk/9KaZP/SmmT/0ppk/9KaZP/SmmT/0ppk/9KaZP/SmmT/0ppk/9KaZP/SmmT/0ppklNKaZBTSmmQA0ppkANKaZADSmmQA0ppkANKaZAD///8A////AP///wD///8A0ppkANKaZADSmmQA0ppkANKaZADSmmQA0ppkANKaZADSmmQy0ppkutKaZP/SmmT/0ppk/9KaZP/SmmT/0ppk/9KaZP/SmmT/0ppkvtKaZDbSmmQA0ppkANKaZADSmmQA0ppkANKaZADSmmQA0ppkAP///wD///8A////AP///wDSmmQA0ppkANKaZADSmmQA0ppkANKaZADSmmQA0ppkANKaZADSmmQA0ppkXNKaZODSmmT/0ppk/9KaZP/SmmT/0ppk5NKaZGDSmmQA0ppkANKaZADSmmQA0ppkANKaZADSmmQA0ppkANKaZADSmmQA////AP///wD///8A////ANKaZADSmmQA0ppkANKaZADSmmQA0ppkANKaZADSmmQA0ppkANKaZADSmmQA0ppkBtKaZIbSmmTo0ppk6tKaZIrSmmQK0ppkANKaZADSmmQA0ppkANKaZADSmmQA0ppkANKaZADSmmQA0ppkANKaZAD///8A////AP/8P///+B///+AH//+AAf//AAD//AAAP/AAAA/gAAAHwAAAA8AAAAPAAAADwAAAA8AAAAPAAAADwAAAA8AAAAPAAAADwAAAA8AAAAPAAAADwAAAA8AAAAPAAAADwAAAA+AAAAfwAAAP/AAAP/8AAP//gAH//+AH///4H////D//" rel="icon" />
  
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div class="wrapper">
<header id="title-block-header">
<h1 class="title" style="text-align:center"><code class="sourceCode default">std::quantity</code>
as a numeric type</h1>
<table style="border:none;float:right">
  <tr>
    <td>Document #:</td>
    <td>P2982R0</td>
  </tr>
  <tr>
    <td>Date:</td>
    <td>2023-10-14</td>
  </tr>
  <tr>
    <td style="vertical-align:top">Project:</td>
    <td>Programming Language C++</td>
  </tr>
  <tr>
    <td style="vertical-align:top">Audience:</td>
    <td>
      SG6 Numerics<br>
    </td>
  </tr>
  <tr>
    <td style="vertical-align:top">Reply-to:</td>
    <td>
      Mateusz Pusz (<a href="http://www.epam.com">Epam
Systems</a>)<br>&lt;<a href="mailto:mateusz.pusz@gmail.com" class="email">mateusz.pusz@gmail.com</a>&gt;<br>
    </td>
  </tr>
</table>
</header>
<div style="clear:both">
<div id="TOC" role="doc-toc">
<h1 id="toctitle">Contents</h1>
<ul>
<li><a href="#introduction" id="toc-introduction"><span class="toc-section-number">1</span> Introduction<span></span></a></li>
<li><a href="#terms-and-definitions" id="toc-terms-and-definitions"><span class="toc-section-number">2</span>
Terms and definitions<span></span></a></li>
<li><a href="#systems-of-quantities" id="toc-systems-of-quantities"><span class="toc-section-number">3</span>
Systems of quantities<span></span></a>
<ul>
<li><a href="#dimension-is-not-enough-to-describe-a-quantity" id="toc-dimension-is-not-enough-to-describe-a-quantity"><span class="toc-section-number">3.1</span> Dimension is not enough to
describe a quantity<span></span></a></li>
<li><a href="#quantities-of-the-same-kind" id="toc-quantities-of-the-same-kind"><span class="toc-section-number">3.2</span> Quantities of the same
kind<span></span></a></li>
<li><a href="#system-of-quantities-is-not-only-about-kinds" id="toc-system-of-quantities-is-not-only-about-kinds"><span class="toc-section-number">3.3</span> System of quantities is not only
about kinds<span></span></a></li>
<li><a href="#converting-between-quantities-of-the-same-kind" id="toc-converting-between-quantities-of-the-same-kind"><span class="toc-section-number">3.4</span> Converting between quantities of
the same kind<span></span></a></li>
<li><a href="#comparing-adding-and-subtracting-quantities-of-the-same-kind" id="toc-comparing-adding-and-subtracting-quantities-of-the-same-kind"><span class="toc-section-number">3.5</span> Comparing, adding, and subtracting
quantities of the same kind<span></span></a></li>
<li><a href="#hierarchies-of-derived-quantities" id="toc-hierarchies-of-derived-quantities"><span class="toc-section-number">3.6</span> Hierarchies of derived
quantities<span></span></a></li>
<li><a href="#modeling-a-quantity-kind" id="toc-modeling-a-quantity-kind"><span class="toc-section-number">3.7</span> Modeling a quantity
kind<span></span></a></li>
</ul></li>
<li><a href="#systems-of-units" id="toc-systems-of-units"><span class="toc-section-number">4</span> Systems of units<span></span></a>
<ul>
<li><a href="#systems-of-units-are-based-on-systems-of-quantities" id="toc-systems-of-units-are-based-on-systems-of-quantities"><span class="toc-section-number">4.1</span> Systems of units are based on
systems of quantities<span></span></a></li>
<li><a href="#units-compose" id="toc-units-compose"><span class="toc-section-number">4.2</span> Units
compose<span></span></a></li>
<li><a href="#many-shades-of-the-same-unit" id="toc-many-shades-of-the-same-unit"><span class="toc-section-number">4.3</span> Many shades of the same
unit<span></span></a></li>
<li><a href="#constraining-a-derived-unit-to-work-only-with-a-specific-derived-quantity" id="toc-constraining-a-derived-unit-to-work-only-with-a-specific-derived-quantity"><span class="toc-section-number">4.4</span> Constraining a derived unit to
work only with a specific derived quantity<span></span></a></li>
<li><a href="#prefixed-units" id="toc-prefixed-units"><span class="toc-section-number">4.5</span> Prefixed
units<span></span></a></li>
<li><a href="#scaled-units" id="toc-scaled-units"><span class="toc-section-number">4.6</span> Scaled units<span></span></a></li>
<li><a href="#unit-symbols" id="toc-unit-symbols"><span class="toc-section-number">4.7</span> Unit symbols<span></span></a></li>
</ul></li>
<li><a href="#operations-on-units-dimensions-and-quantity-types" id="toc-operations-on-units-dimensions-and-quantity-types"><span class="toc-section-number">5</span> Operations on units, dimensions, and
quantity types<span></span></a>
<ul>
<li><a href="#expression-templates" id="toc-expression-templates"><span class="toc-section-number">5.1</span> Expression
templates<span></span></a>
<ul>
<li><a href="#derived-entities" id="toc-derived-entities"><span class="toc-section-number">5.1.1</span> Derived
entities<span></span></a></li>
<li><a href="#identities" id="toc-identities"><span class="toc-section-number">5.1.2</span> Identities<span></span></a></li>
<li><a href="#supported-operations-and-their-results" id="toc-supported-operations-and-their-results"><span class="toc-section-number">5.1.3</span> Supported operations and their
results<span></span></a></li>
<li><a href="#simplifying-the-resulting-expression-templates" id="toc-simplifying-the-resulting-expression-templates"><span class="toc-section-number">5.1.4</span> Simplifying the resulting
expression templates<span></span></a></li>
<li><a href="#example" id="toc-example"><span class="toc-section-number">5.1.5</span> Example<span></span></a></li>
</ul></li>
<li><a href="#scaled-units-1" id="toc-scaled-units-1"><span class="toc-section-number">5.2</span> Scaled units<span></span></a>
<ul>
<li><a href="#unit-magnitudes" id="toc-unit-magnitudes"><span class="toc-section-number">5.2.1</span> Unit
magnitudes<span></span></a></li>
<li><a href="#construction-helpers" id="toc-construction-helpers"><span class="toc-section-number">5.2.2</span> Construction
helpers<span></span></a></li>
<li><a href="#common-units" id="toc-common-units"><span class="toc-section-number">5.2.3</span> Common
units<span></span></a></li>
</ul></li>
<li><a href="#faster-than-lightspeed-constants" id="toc-faster-than-lightspeed-constants"><span class="toc-section-number">5.3</span> Faster than lightspeed
constants<span></span></a>
<ul>
<li><a href="#simplifying-constants-in-an-equation" id="toc-simplifying-constants-in-an-equation"><span class="toc-section-number">5.3.1</span> Simplifying constants in an
equation<span></span></a></li>
<li><a href="#physical-constants-as-units" id="toc-physical-constants-as-units"><span class="toc-section-number">5.3.2</span> Physical constants as
units<span></span></a></li>
<li><a href="#usage-examples" id="toc-usage-examples"><span class="toc-section-number">5.3.3</span> Usage
examples<span></span></a></li>
</ul></li>
<li><a href="#equivalence" id="toc-equivalence"><span class="toc-section-number">5.4</span> Equivalence<span></span></a>
<ul>
<li><a href="#dimensions" id="toc-dimensions"><span class="toc-section-number">5.4.1</span> Dimensions<span></span></a></li>
<li><a href="#quantity-types" id="toc-quantity-types"><span class="toc-section-number">5.4.2</span> Quantity
types<span></span></a></li>
<li><a href="#units" id="toc-units"><span class="toc-section-number">5.4.3</span> Units<span></span></a></li>
</ul></li>
<li><a href="#ordering" id="toc-ordering"><span class="toc-section-number">5.5</span> Ordering<span></span></a></li>
</ul></li>
<li><a href="#quantities" id="toc-quantities"><span class="toc-section-number">6</span> Quantities<span></span></a>
<ul>
<li><a href="#quantity-references" id="toc-quantity-references"><span class="toc-section-number">6.1</span> Quantity
references<span></span></a></li>
<li><a href="#quantity-class-template" id="toc-quantity-class-template"><span class="toc-section-number">6.2</span>
<code class="sourceCode default">quantity</code> class
template<span></span></a></li>
<li><a href="#quantity-construction-helpers" id="toc-quantity-construction-helpers"><span class="toc-section-number">6.3</span> Quantity construction
helpers<span></span></a></li>
<li><a href="#quantity-constructors-and-value-conversions" id="toc-quantity-constructors-and-value-conversions"><span class="toc-section-number">6.4</span> Quantity constructors and value
conversions<span></span></a>
<ul>
<li><a href="#value-preserving-conversions" id="toc-value-preserving-conversions"><span class="toc-section-number">6.4.1</span> Value-preserving
conversions<span></span></a></li>
<li><a href="#value-truncating-conversions" id="toc-value-truncating-conversions"><span class="toc-section-number">6.4.2</span> Value-truncating
conversions<span></span></a></li>
</ul></li>
<li><a href="#character-of-a-quantity" id="toc-character-of-a-quantity"><span class="toc-section-number">6.5</span> Character of a
quantity<span></span></a>
<ul>
<li><a href="#scalars-vectors-and-tensors" id="toc-scalars-vectors-and-tensors"><span class="toc-section-number">6.5.1</span> Scalars, vectors, and
tensors<span></span></a></li>
<li><a href="#isq-defines-quantities-of-all-characters" id="toc-isq-defines-quantities-of-all-characters"><span class="toc-section-number">6.5.2</span> ISQ defines quantities of all
characters<span></span></a></li>
<li><a href="#characters-dont-apply-to-dimensions-and-units" id="toc-characters-dont-apply-to-dimensions-and-units"><span class="toc-section-number">6.5.3</span> Characters don’t apply to
dimensions and units<span></span></a></li>
<li><a href="#defining-vector-and-tensor-quantities" id="toc-defining-vector-and-tensor-quantities"><span class="toc-section-number">6.5.4</span> Defining vector and tensor
quantities<span></span></a></li>
<li><a href="#representation-types-for-vector-and-tensor-quantities" id="toc-representation-types-for-vector-and-tensor-quantities"><span class="toc-section-number">6.5.5</span> Representation types for vector
and tensor quantities<span></span></a></li>
<li><a href="#hacking-the-character" id="toc-hacking-the-character"><span class="toc-section-number">6.5.6</span> Hacking the
character<span></span></a></li>
</ul></li>
<li><a href="#dimensionless-quantities" id="toc-dimensionless-quantities"><span class="toc-section-number">6.6</span> Dimensionless
quantities<span></span></a></li>
</ul></li>
<li><a href="#value-conversions" id="toc-value-conversions"><span class="toc-section-number">7</span> Value
conversions<span></span></a></li>
<li><a href="#the-affine-space" id="toc-the-affine-space"><span class="toc-section-number">8</span> The affine
space<span></span></a></li>
<li><a href="#unit-safe-math" id="toc-unit-safe-math"><span class="toc-section-number">9</span> Unit-safe math<span></span></a></li>
<li><a href="#acknowledgements" id="toc-acknowledgements"><span class="toc-section-number">10</span>
Acknowledgements<span></span></a></li>
<li><a href="#bibliography" id="toc-bibliography"><span class="toc-section-number">11</span> References<span></span></a></li>
</ul>
</div>
<h1 data-number="1" id="introduction"><span class="header-section-number">1</span> Introduction<a href="#introduction" class="self-link"></a></h1>
<p>This document discusses the numeric and arithmetic aspects of the
physical quantities and units library. This subject is broader than it
could be initially imagined. Arithmetic operations are not only defined
for user-facing types like
<code class="sourceCode default">quantity</code> and
<code class="sourceCode default">quantity_point</code>, but also for
units and their magnitudes, dimensions, quantity specifications, and
references. Each has its own requirements and constraints, and we will
describe them in the following chapters.</p>
<p><em>Note: The code examples presented in this paper may not exactly
reflect the final interface design that is going to be proposed in the
follow-up papers. We are still doing some small fine-tuning to improve
the library.</em></p>
<h1 data-number="2" id="terms-and-definitions"><span class="header-section-number">2</span> Terms and definitions<a href="#terms-and-definitions" class="self-link"></a></h1>
<p>This document consistently uses the official metrology vocabulary
defined in the <span class="citation" data-cites="ISO-GUIDE">[<a href="#ref-ISO-GUIDE" role="doc-biblioref">ISO/IEC Guide 99</a>]</span>
and <span class="citation" data-cites="BIPM-VIM">[<a href="#ref-BIPM-VIM" role="doc-biblioref">JCGM 200:2012</a>]</span>.</p>
<h1 data-number="3" id="systems-of-quantities"><span class="header-section-number">3</span> Systems of quantities<a href="#systems-of-quantities" class="self-link"></a></h1>
<p>The physical units libraries on the market typically only focus on
modeling one or more systems of units. However, this is not the only
system kind to model. Another, and maybe even more important is a system
of quantities. The most important example here is the International
System of Quantities (ISQ) defined by the series of <span class="citation" data-cites="ISO80000">[<a href="#ref-ISO80000" role="doc-biblioref">ISO 80000</a>]</span> documents.</p>
<h2 data-number="3.1" id="dimension-is-not-enough-to-describe-a-quantity"><span class="header-section-number">3.1</span> Dimension is not enough to
describe a quantity<a href="#dimension-is-not-enough-to-describe-a-quantity" class="self-link"></a></h2>
<p>Most of the products on the market are aware of physical dimensions.
However, a dimension is not enough to describe a quantity. This has been
known for a long time now.</p>
<p>A typical problem that most similar libraries struggle with is
supporting quantities of energy and a moment of force as independent,
strong types. The problem here arises from the fact that both of them
have exactly the same dimension
<code class="sourceCode default">L²MT⁻²</code>, but a totally different
physical meaning. As a result, it should not be possible to mix them in
one quantity equation.</p>
<p>A similar question that we could ask ourselves is what should be the
result of:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">auto</span> res <span class="op">=</span> <span class="dv">1</span> <span class="op">*</span> Hz <span class="op">+</span> <span class="dv">1</span> <span class="op">*</span> Bq <span class="op">+</span> <span class="dv">1</span> <span class="op">*</span> Bd;</span></code></pre></div>
<p>where:</p>
<ul>
<li><code class="sourceCode default">Hz</code> (hertz) - a unit of
frequency</li>
<li><code class="sourceCode default">Bq</code> (becquerel) - a unit of
activity</li>
<li><code class="sourceCode default">Bd</code> (baud) - a unit of
modulation rate</li>
</ul>
<p>All of those quantities have the same dimension, namely
<code class="sourceCode default">T⁻¹</code>, but it is probably not wise
to allow adding, subtracting, or comparing them, as they describe vastly
different physical properties.</p>
<p>Last but not least, let’s see the following implementation:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Box <span class="op">{</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  quantity<span class="op">&lt;</span>square<span class="op">(</span>si<span class="op">::</span>metre<span class="op">)&gt;</span> base_;</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  quantity<span class="op">&lt;</span>si<span class="op">::</span>metre<span class="op">&gt;</span> height_;</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span><span class="op">:</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  Box<span class="op">(</span>quantity<span class="op">&lt;</span>si<span class="op">::</span>metre<span class="op">&gt;</span> l, quantity<span class="op">&lt;</span>si<span class="op">::</span>metre<span class="op">&gt;</span> w, quantity<span class="op">&lt;</span>si<span class="op">::</span>metre<span class="op">&gt;</span> h<span class="op">)</span> <span class="op">:</span> base_<span class="op">(</span>l <span class="op">*</span> w<span class="op">)</span>, height_<span class="op">(</span>h<span class="op">)</span> <span class="op">{}</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ...</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span>;</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>Box my_box<span class="op">(</span><span class="dv">2</span> <span class="op">*</span> m, <span class="dv">3</span> <span class="op">*</span> m, <span class="dv">1</span> <span class="op">*</span> m<span class="op">)</span>;</span></code></pre></div>
<p>The above interface is far from being ideal. It does not provide any
type-safety and enables potentially severe errors caused by accidental
reordering of the constructor’s arguments.</p>
<p>It turns out that the above issues can’t be solved correctly without
proper modeling of systems of quantities.</p>
<h2 data-number="3.2" id="quantities-of-the-same-kind"><span class="header-section-number">3.2</span> Quantities of the same kind<a href="#quantities-of-the-same-kind" class="self-link"></a></h2>
<p>The <span class="citation" data-cites="ISO-GUIDE">[<a href="#ref-ISO-GUIDE" role="doc-biblioref">ISO/IEC Guide 99</a>]</span>
says:</p>
<ul>
<li>Quantities may be grouped together into categories of quantities
that are <strong>mutually comparable</strong></li>
<li>Mutually comparable quantities are called <strong>quantities of the
same kind</strong></li>
<li>Two or more quantities <strong>cannot be added or subtracted unless
they belong to the same category of mutually comparable
quantities</strong></li>
<li>Quantities of the <strong>same kind</strong> within a given system
of quantities <strong>have the same quantity dimension</strong></li>
<li>Quantities of the <strong>same dimension are not necessarily of the
same kind</strong></li>
</ul>
<p><span class="citation" data-cites="ISO80000">[<a href="#ref-ISO80000" role="doc-biblioref">ISO 80000</a>]</span> also explicitly notes:</p>
<blockquote>
<p><strong>Measurement units of quantities of the same quantity
dimension may be designated by the same name and symbol even when the
quantities are not of the same kind</strong>. For example, joule per
kelvin and J/K are respectively the name and symbol of both a
measurement unit of heat capacity and a measurement unit of entropy,
which are generally not considered to be quantities of the same kind.
<strong>However, in some cases special measurement unit names are
restricted to be used with quantities of specific kind only</strong>.
For example, the measurement unit ‘second to the power minus one’ (1/s)
is called hertz (Hz) when used for frequencies and becquerel (Bq) when
used for activities of radionuclides. As another example, the joule (J)
is used as a unit of energy, but never as a unit of moment of force,
i.e. the newton metre (N · m).</p>
</blockquote>
<p>Those provide answers to all the issues mentioned above. More than
one quantity may be defined for the same dimension:</p>
<ul>
<li>quantities of different kinds (e.g. frequency, modulation rate,
activity, …)</li>
<li>quantities of the same kind (e.g. length, width, altitude, distance,
radius, wavelength, position vector, …)</li>
</ul>
<p>Two quantities can’t be added, subtracted, or compared unless they
belong to the same quantity kind.</p>
<h2 data-number="3.3" id="system-of-quantities-is-not-only-about-kinds"><span class="header-section-number">3.3</span> System of quantities is not
only about kinds<a href="#system-of-quantities-is-not-only-about-kinds" class="self-link"></a></h2>
<p>The <span class="citation" data-cites="ISO80000">[<a href="#ref-ISO80000" role="doc-biblioref">ISO 80000</a>]</span>
specifies hundreds of different quantities. Plenty of various kinds are
provided, and often, each kind contains more than one quantity. It turns
out that such quantities form a hierarchy of quantities of the same
kind.</p>
<p>For example, here are all quantities of the kind length provided in
the <span class="citation" data-cites="ISO80000">[<a href="#ref-ISO80000" role="doc-biblioref">ISO 80000</a>]</span>:</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyBhcmlhLXJvbGVkZXNjcmlwdGlvbj0iZmxvd2NoYXJ0LXYyIiByb2xlPSJncmFwaGljcy1kb2N1bWVudCBkb2N1bWVudCIgdmlld0JveD0iLTggLTggMTA3Mi43ODUxNTYyNSAzNDYiIHN0eWxlPSJtYXgtd2lkdGg6IDEwMCU7IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAlIiBpZD0iZ3JhcGgtZGl2IiBoZWlnaHQ9IjEwMCUiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48c3R5bGU+QGltcG9ydCB1cmwoImh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2ZvbnQtYXdlc29tZS82LjQuMi9jc3MvYWxsLm1pbi5jc3MiKTsnPC9zdHlsZT48c3R5bGU+I2dyYXBoLWRpdntmb250LWZhbWlseToidHJlYnVjaGV0IG1zIix2ZXJkYW5hLGFyaWFsLHNhbnMtc2VyaWY7Zm9udC1zaXplOjE2cHg7ZmlsbDojMzMzO30jZ3JhcGgtZGl2IC5lcnJvci1pY29ue2ZpbGw6IzU1MjIyMjt9I2dyYXBoLWRpdiAuZXJyb3ItdGV4dHtmaWxsOiM1NTIyMjI7c3Ryb2tlOiM1NTIyMjI7fSNncmFwaC1kaXYgLmVkZ2UtdGhpY2tuZXNzLW5vcm1hbHtzdHJva2Utd2lkdGg6MnB4O30jZ3JhcGgtZGl2IC5lZGdlLXRoaWNrbmVzcy10aGlja3tzdHJva2Utd2lkdGg6My41cHg7fSNncmFwaC1kaXYgLmVkZ2UtcGF0dGVybi1zb2xpZHtzdHJva2UtZGFzaGFycmF5OjA7fSNncmFwaC1kaXYgLmVkZ2UtcGF0dGVybi1kYXNoZWR7c3Ryb2tlLWRhc2hhcnJheTozO30jZ3JhcGgtZGl2IC5lZGdlLXBhdHRlcm4tZG90dGVke3N0cm9rZS1kYXNoYXJyYXk6Mjt9I2dyYXBoLWRpdiAubWFya2Vye2ZpbGw6IzMzMzMzMztzdHJva2U6IzMzMzMzMzt9I2dyYXBoLWRpdiAubWFya2VyLmNyb3Nze3N0cm9rZTojMzMzMzMzO30jZ3JhcGgtZGl2IHN2Z3tmb250LWZhbWlseToidHJlYnVjaGV0IG1zIix2ZXJkYW5hLGFyaWFsLHNhbnMtc2VyaWY7Zm9udC1zaXplOjE2cHg7fSNncmFwaC1kaXYgLmxhYmVse2ZvbnQtZmFtaWx5OiJ0cmVidWNoZXQgbXMiLHZlcmRhbmEsYXJpYWwsc2Fucy1zZXJpZjtjb2xvcjojMzMzO30jZ3JhcGgtZGl2IC5jbHVzdGVyLWxhYmVsIHRleHR7ZmlsbDojMzMzO30jZ3JhcGgtZGl2IC5jbHVzdGVyLWxhYmVsIHNwYW4sI2dyYXBoLWRpdiBwe2NvbG9yOiMzMzM7fSNncmFwaC1kaXYgLmxhYmVsIHRleHQsI2dyYXBoLWRpdiBzcGFuLCNncmFwaC1kaXYgcHtmaWxsOiMzMzM7Y29sb3I6IzMzMzt9I2dyYXBoLWRpdiAubm9kZSByZWN0LCNncmFwaC1kaXYgLm5vZGUgY2lyY2xlLCNncmFwaC1kaXYgLm5vZGUgZWxsaXBzZSwjZ3JhcGgtZGl2IC5ub2RlIHBvbHlnb24sI2dyYXBoLWRpdiAubm9kZSBwYXRoe2ZpbGw6I0VDRUNGRjtzdHJva2U6IzkzNzBEQjtzdHJva2Utd2lkdGg6MXB4O30jZ3JhcGgtZGl2IC5mbG93Y2hhcnQtbGFiZWwgdGV4dHt0ZXh0LWFuY2hvcjptaWRkbGU7fSNncmFwaC1kaXYgLm5vZGUgLmxhYmVse3RleHQtYWxpZ246Y2VudGVyO30jZ3JhcGgtZGl2IC5ub2RlLmNsaWNrYWJsZXtjdXJzb3I6cG9pbnRlcjt9I2dyYXBoLWRpdiAuYXJyb3doZWFkUGF0aHtmaWxsOiMzMzMzMzM7fSNncmFwaC1kaXYgLmVkZ2VQYXRoIC5wYXRoe3N0cm9rZTojMzMzMzMzO3N0cm9rZS13aWR0aDoyLjBweDt9I2dyYXBoLWRpdiAuZmxvd2NoYXJ0LWxpbmt7c3Ryb2tlOiMzMzMzMzM7ZmlsbDpub25lO30jZ3JhcGgtZGl2IC5lZGdlTGFiZWx7YmFja2dyb3VuZC1jb2xvcjojZThlOGU4O3RleHQtYWxpZ246Y2VudGVyO30jZ3JhcGgtZGl2IC5lZGdlTGFiZWwgcmVjdHtvcGFjaXR5OjAuNTtiYWNrZ3JvdW5kLWNvbG9yOiNlOGU4ZTg7ZmlsbDojZThlOGU4O30jZ3JhcGgtZGl2IC5sYWJlbEJrZ3tiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMjMyLCAyMzIsIDIzMiwgMC41KTt9I2dyYXBoLWRpdiAuY2x1c3RlciByZWN0e2ZpbGw6I2ZmZmZkZTtzdHJva2U6I2FhYWEzMztzdHJva2Utd2lkdGg6MXB4O30jZ3JhcGgtZGl2IC5jbHVzdGVyIHRleHR7ZmlsbDojMzMzO30jZ3JhcGgtZGl2IC5jbHVzdGVyIHNwYW4sI2dyYXBoLWRpdiBwe2NvbG9yOiMzMzM7fSNncmFwaC1kaXYgZGl2Lm1lcm1haWRUb29sdGlwe3Bvc2l0aW9uOmFic29sdXRlO3RleHQtYWxpZ246Y2VudGVyO21heC13aWR0aDoyMDBweDtwYWRkaW5nOjJweDtmb250LWZhbWlseToidHJlYnVjaGV0IG1zIix2ZXJkYW5hLGFyaWFsLHNhbnMtc2VyaWY7Zm9udC1zaXplOjEycHg7YmFja2dyb3VuZDpoc2woODAsIDEwMCUsIDk2LjI3NDUwOTgwMzklKTtib3JkZXI6MXB4IHNvbGlkICNhYWFhMzM7Ym9yZGVyLXJhZGl1czoycHg7cG9pbnRlci1ldmVudHM6bm9uZTt6LWluZGV4OjEwMDt9I2dyYXBoLWRpdiAuZmxvd2NoYXJ0VGl0bGVUZXh0e3RleHQtYW5jaG9yOm1pZGRsZTtmb250LXNpemU6MThweDtmaWxsOiMzMzM7fSNncmFwaC1kaXYgOnJvb3R7LS1tZXJtYWlkLWZvbnQtZmFtaWx5OiJ0cmVidWNoZXQgbXMiLHZlcmRhbmEsYXJpYWwsc2Fucy1zZXJpZjt9PC9zdHlsZT48Zz48bWFya2VyIG9yaWVudD0iYXV0byIgbWFya2VySGVpZ2h0PSIxMiIgbWFya2VyV2lkdGg9IjEyIiBtYXJrZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIHJlZlk9IjUiIHJlZlg9IjYiIHZpZXdCb3g9IjAgMCAxMCAxMCIgY2xhc3M9Im1hcmtlciBmbG93Y2hhcnQiIGlkPSJncmFwaC1kaXZfZmxvd2NoYXJ0LXBvaW50RW5kIj48cGF0aCBzdHlsZT0ic3Ryb2tlLXdpZHRoOiAxOyBzdHJva2UtZGFzaGFycmF5OiAxLCAwOyIgY2xhc3M9ImFycm93TWFya2VyUGF0aCIgZD0iTSAwIDAgTCAxMCA1IEwgMCAxMCB6Ij48L3BhdGg+PC9tYXJrZXI+PG1hcmtlciBvcmllbnQ9ImF1dG8iIG1hcmtlckhlaWdodD0iMTIiIG1hcmtlcldpZHRoPSIxMiIgbWFya2VyVW5pdHM9InVzZXJTcGFjZU9uVXNlIiByZWZZPSI1IiByZWZYPSI0LjUiIHZpZXdCb3g9IjAgMCAxMCAxMCIgY2xhc3M9Im1hcmtlciBmbG93Y2hhcnQiIGlkPSJncmFwaC1kaXZfZmxvd2NoYXJ0LXBvaW50U3RhcnQiPjxwYXRoIHN0eWxlPSJzdHJva2Utd2lkdGg6IDE7IHN0cm9rZS1kYXNoYXJyYXk6IDEsIDA7IiBjbGFzcz0iYXJyb3dNYXJrZXJQYXRoIiBkPSJNIDAgNSBMIDEwIDEwIEwgMTAgMCB6Ij48L3BhdGg+PC9tYXJrZXI+PG1hcmtlciBvcmllbnQ9ImF1dG8iIG1hcmtlckhlaWdodD0iMTEiIG1hcmtlcldpZHRoPSIxMSIgbWFya2VyVW5pdHM9InVzZXJTcGFjZU9uVXNlIiByZWZZPSI1IiByZWZYPSIxMSIgdmlld0JveD0iMCAwIDEwIDEwIiBjbGFzcz0ibWFya2VyIGZsb3djaGFydCIgaWQ9ImdyYXBoLWRpdl9mbG93Y2hhcnQtY2lyY2xlRW5kIj48Y2lyY2xlIHN0eWxlPSJzdHJva2Utd2lkdGg6IDE7IHN0cm9rZS1kYXNoYXJyYXk6IDEsIDA7IiBjbGFzcz0iYXJyb3dNYXJrZXJQYXRoIiByPSI1IiBjeT0iNSIgY3g9IjUiPjwvY2lyY2xlPjwvbWFya2VyPjxtYXJrZXIgb3JpZW50PSJhdXRvIiBtYXJrZXJIZWlnaHQ9IjExIiBtYXJrZXJXaWR0aD0iMTEiIG1hcmtlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgcmVmWT0iNSIgcmVmWD0iLTEiIHZpZXdCb3g9IjAgMCAxMCAxMCIgY2xhc3M9Im1hcmtlciBmbG93Y2hhcnQiIGlkPSJncmFwaC1kaXZfZmxvd2NoYXJ0LWNpcmNsZVN0YXJ0Ij48Y2lyY2xlIHN0eWxlPSJzdHJva2Utd2lkdGg6IDE7IHN0cm9rZS1kYXNoYXJyYXk6IDEsIDA7IiBjbGFzcz0iYXJyb3dNYXJrZXJQYXRoIiByPSI1IiBjeT0iNSIgY3g9IjUiPjwvY2lyY2xlPjwvbWFya2VyPjxtYXJrZXIgb3JpZW50PSJhdXRvIiBtYXJrZXJIZWlnaHQ9IjExIiBtYXJrZXJXaWR0aD0iMTEiIG1hcmtlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgcmVmWT0iNS4yIiByZWZYPSIxMiIgdmlld0JveD0iMCAwIDExIDExIiBjbGFzcz0ibWFya2VyIGNyb3NzIGZsb3djaGFydCIgaWQ9ImdyYXBoLWRpdl9mbG93Y2hhcnQtY3Jvc3NFbmQiPjxwYXRoIHN0eWxlPSJzdHJva2Utd2lkdGg6IDI7IHN0cm9rZS1kYXNoYXJyYXk6IDEsIDA7IiBjbGFzcz0iYXJyb3dNYXJrZXJQYXRoIiBkPSJNIDEsMSBsIDksOSBNIDEwLDEgbCAtOSw5Ij48L3BhdGg+PC9tYXJrZXI+PG1hcmtlciBvcmllbnQ9ImF1dG8iIG1hcmtlckhlaWdodD0iMTEiIG1hcmtlcldpZHRoPSIxMSIgbWFya2VyVW5pdHM9InVzZXJTcGFjZU9uVXNlIiByZWZZPSI1LjIiIHJlZlg9Ii0xIiB2aWV3Qm94PSIwIDAgMTEgMTEiIGNsYXNzPSJtYXJrZXIgY3Jvc3MgZmxvd2NoYXJ0IiBpZD0iZ3JhcGgtZGl2X2Zsb3djaGFydC1jcm9zc1N0YXJ0Ij48cGF0aCBzdHlsZT0ic3Ryb2tlLXdpZHRoOiAyOyBzdHJva2UtZGFzaGFycmF5OiAxLCAwOyIgY2xhc3M9ImFycm93TWFya2VyUGF0aCIgZD0iTSAxLDEgbCA5LDkgTSAxMCwxIGwgLTksOSI+PC9wYXRoPjwvbWFya2VyPjxnIGNsYXNzPSJyb290Ij48ZyBjbGFzcz0iY2x1c3RlcnMiPjwvZz48ZyBjbGFzcz0iZWRnZVBhdGhzIj48cGF0aCBzdHlsZT0iZmlsbDpub25lOyIgY2xhc3M9ImVkZ2UtdGhpY2tuZXNzLW5vcm1hbCBlZGdlLXBhdHRlcm4tc29saWQgZmxvd2NoYXJ0LWxpbmsgTFMtbGVuZ3RoIExFLXdpZHRoIiBpZD0iTC1sZW5ndGgtd2lkdGgtMCIgZD0iTTYwNy4yODUsMjIuMTQ5TDUyNy44NzEsMjkuMTI0QzQ0OC40NTcsMzYuMDk5LDI4OS42MjksNTAuMDUsMjEwLjIxNSw2My4xOTFDMTMwLjgwMSw3Ni4zMzMsMTMwLjgwMSw4OC42NjcsMTMwLjgwMSw5NC44MzNMMTMwLjgwMSwxMDEiPjwvcGF0aD48cGF0aCBzdHlsZT0iZmlsbDpub25lOyIgY2xhc3M9ImVkZ2UtdGhpY2tuZXNzLW5vcm1hbCBlZGdlLXBhdHRlcm4tc29saWQgZmxvd2NoYXJ0LWxpbmsgTFMtbGVuZ3RoIExFLWhlaWdodCIgaWQ9IkwtbGVuZ3RoLWhlaWdodC0wIiBkPSJNNjA3LjI4NSwyMy44OTNMNTYxLjQwMiwzMC41NzhDNTE1LjUyLDM3LjI2Miw0MjMuNzU0LDUwLjYzMSwzNzcuODcxLDYzLjQ4MkMzMzEuOTg4LDc2LjMzMywzMzEuOTg4LDg4LjY2NywzMzEuOTg4LDk0LjgzM0wzMzEuOTg4LDEwMSI+PC9wYXRoPjxwYXRoIHN0eWxlPSJmaWxsOm5vbmU7IiBjbGFzcz0iZWRnZS10aGlja25lc3Mtbm9ybWFsIGVkZ2UtcGF0dGVybi1zb2xpZCBmbG93Y2hhcnQtbGluayBMUy13aWR0aCBMRS10aGlja25lc3MiIGlkPSJMLXdpZHRoLXRoaWNrbmVzcy0wIiBkPSJNOTkuNjQ2LDE0MEw4OS43OTMsMTQ2LjE2N0M3OS45NDEsMTUyLjMzMyw2MC4yMzYsMTY0LjY2Nyw1MC4zODQsMTc1QzQwLjUzMSwxODUuMzMzLDQwLjUzMSwxOTMuNjY3LDQwLjUzMSwxOTcuODMzTDQwLjUzMSwyMDIiPjwvcGF0aD48cGF0aCBzdHlsZT0iZmlsbDpub25lOyIgY2xhc3M9ImVkZ2UtdGhpY2tuZXNzLW5vcm1hbCBlZGdlLXBhdHRlcm4tc29saWQgZmxvd2NoYXJ0LWxpbmsgTFMtd2lkdGggTEUtZGlhbWV0ZXIiIGlkPSJMLXdpZHRoLWRpYW1ldGVyLTAiIGQ9Ik0xNDQuNzI5LDE0MEwxNDkuMTMzLDE0Ni4xNjdDMTUzLjUzOCwxNTIuMzMzLDE2Mi4zNDcsMTY0LjY2NywxNjYuNzUyLDE3NUMxNzEuMTU2LDE4NS4zMzMsMTcxLjE1NiwxOTMuNjY3LDE3MS4xNTYsMTk3LjgzM0wxNzEuMTU2LDIwMiI+PC9wYXRoPjxwYXRoIHN0eWxlPSJmaWxsOm5vbmU7IiBjbGFzcz0iZWRnZS10aGlja25lc3Mtbm9ybWFsIGVkZ2UtcGF0dGVybi1zb2xpZCBmbG93Y2hhcnQtbGluayBMUy13aWR0aCBMRS1yYWRpdXMiIGlkPSJMLXdpZHRoLXJhZGl1cy0wIiBkPSJNMTg1Ljg4OSwxNDBMMjAzLjMwOSwxNDYuMTY3QzIyMC43MywxNTIuMzMzLDI1NS41NzIsMTY0LjY2NywyNzIuOTkzLDE3NUMyOTAuNDE0LDE4NS4zMzMsMjkwLjQxNCwxOTMuNjY3LDI5MC40MTQsMTk3LjgzM0wyOTAuNDE0LDIwMiI+PC9wYXRoPjxwYXRoIHN0eWxlPSJmaWxsOm5vbmU7IiBjbGFzcz0iZWRnZS10aGlja25lc3Mtbm9ybWFsIGVkZ2UtcGF0dGVybi1zb2xpZCBmbG93Y2hhcnQtbGluayBMUy1sZW5ndGggTEUtcGF0aF9sZW5ndGgiIGlkPSJMLWxlbmd0aC1wYXRoX2xlbmd0aC0wIiBkPSJNNjA3LjI4NSwzMS4xNzZMNTkzLjE1NiwzNi42NDdDNTc5LjAyNyw0Mi4xMTgsNTUwLjc3LDUzLjA1OSw1MzYuNjQxLDY0LjY5NkM1MjIuNTEyLDc2LjMzMyw1MjIuNTEyLDg4LjY2Nyw1MjIuNTEyLDk0LjgzM0w1MjIuNTEyLDEwMSI+PC9wYXRoPjxwYXRoIHN0eWxlPSJmaWxsOm5vbmU7IiBjbGFzcz0iZWRnZS10aGlja25lc3Mtbm9ybWFsIGVkZ2UtcGF0dGVybi1zb2xpZCBmbG93Y2hhcnQtbGluayBMUy1wYXRoX2xlbmd0aCBMRS1kaXN0YW5jZSIgaWQ9IkwtcGF0aF9sZW5ndGgtZGlzdGFuY2UtMCIgZD0iTTUyMi41MTIsMTQwTDUyMi41MTIsMTQ2LjE2N0M1MjIuNTEyLDE1Mi4zMzMsNTIyLjUxMiwxNjQuNjY3LDUyMi41MTIsMTc1QzUyMi41MTIsMTg1LjMzMyw1MjIuNTEyLDE5My42NjcsNTIyLjUxMiwxOTcuODMzTDUyMi41MTIsMjAyIj48L3BhdGg+PHBhdGggc3R5bGU9ImZpbGw6bm9uZTsiIGNsYXNzPSJlZGdlLXRoaWNrbmVzcy1ub3JtYWwgZWRnZS1wYXR0ZXJuLXNvbGlkIGZsb3djaGFydC1saW5rIExTLWRpc3RhbmNlIExFLXJhZGlhbF9kaXN0YW5jZSIgaWQ9IkwtZGlzdGFuY2UtcmFkaWFsX2Rpc3RhbmNlLTAiIGQ9Ik01MjIuNTEyLDI0MUw1MjIuNTEyLDI0NS4xNjdDNTIyLjUxMiwyNDkuMzMzLDUyMi41MTIsMjU3LjY2Nyw1MjIuNTEyLDI2NkM1MjIuNTEyLDI3NC4zMzMsNTIyLjUxMiwyODIuNjY3LDUyMi41MTIsMjg2LjgzM0w1MjIuNTEyLDI5MSI+PC9wYXRoPjxwYXRoIHN0eWxlPSJmaWxsOm5vbmU7IiBjbGFzcz0iZWRnZS10aGlja25lc3Mtbm9ybWFsIGVkZ2UtcGF0dGVybi1zb2xpZCBmbG93Y2hhcnQtbGluayBMUy1sZW5ndGggTEUtd2F2ZWxlbmd0aCIgaWQ9IkwtbGVuZ3RoLXdhdmVsZW5ndGgtMCIgZD0iTTY1Mi40MzYsMzlMNjU1LjY0LDQzLjE2N0M2NTguODQ0LDQ3LjMzMyw2NjUuMjUyLDU1LjY2Nyw2NjguNDU2LDY2QzY3MS42Niw3Ni4zMzMsNjcxLjY2LDg4LjY2Nyw2NzEuNjYsOTQuODMzTDY3MS42NiwxMDEiPjwvcGF0aD48cGF0aCBzdHlsZT0iZmlsbDpub25lOyIgY2xhc3M9ImVkZ2UtdGhpY2tuZXNzLW5vcm1hbCBlZGdlLXBhdHRlcm4tc29saWQgZmxvd2NoYXJ0LWxpbmsgTFMtbGVuZ3RoIExFLXBvc2l0aW9uX3ZlY3RvciIgaWQ9IkwtbGVuZ3RoLXBvc2l0aW9uX3ZlY3Rvci0wIiBkPSJNNjY3LjU5OCwyNi4zNTdMNjk1LjE5LDMyLjYzMUM3MjIuNzgzLDM4LjkwNSw3NzcuOTY3LDUxLjQ1Miw4MDUuNTYsNjEuODkzQzgzMy4xNTIsNzIuMzMzLDgzMy4xNTIsODAuNjY3LDgzMy4xNTIsODQuODMzTDgzMy4xNTIsODkiPjwvcGF0aD48cGF0aCBzdHlsZT0iZmlsbDpub25lOyIgY2xhc3M9ImVkZ2UtdGhpY2tuZXNzLW5vcm1hbCBlZGdlLXBhdHRlcm4tc29saWQgZmxvd2NoYXJ0LWxpbmsgTFMtbGVuZ3RoIExFLWRpc3BsYWNlbWVudCIgaWQ9IkwtbGVuZ3RoLWRpc3BsYWNlbWVudC0wIiBkPSJNNjY3LjU5OCwyMy4xODdMNzIzLjIzNCwyOS45ODlDNzc4Ljg3MSwzNi43OTEsODkwLjE0NSw1MC4zOTYsOTQ1Ljc4MSw2MS4zNjRDMTAwMS40MTgsNzIuMzMzLDEwMDEuNDE4LDgwLjY2NywxMDAxLjQxOCw4NC44MzNMMTAwMS40MTgsODkiPjwvcGF0aD48cGF0aCBzdHlsZT0iZmlsbDpub25lOyIgY2xhc3M9ImVkZ2UtdGhpY2tuZXNzLW5vcm1hbCBlZGdlLXBhdHRlcm4tc29saWQgZmxvd2NoYXJ0LWxpbmsgTFMtcmFkaXVzIExFLXJhZGl1c19vZl9jdXJ2YXR1cmUiIGlkPSJMLXJhZGl1cy1yYWRpdXNfb2ZfY3VydmF0dXJlLTAiIGQ9Ik0yOTAuNDE0LDI0MUwyOTAuNDE0LDI0NS4xNjdDMjkwLjQxNCwyNDkuMzMzLDI5MC40MTQsMjU3LjY2NywyOTAuNDE0LDI2NkMyOTAuNDE0LDI3NC4zMzMsMjkwLjQxNCwyODIuNjY3LDI5MC40MTQsMjg2LjgzM0wyOTAuNDE0LDI5MSI+PC9wYXRoPjwvZz48ZyBjbGFzcz0iZWRnZUxhYmVscyI+PGcgY2xhc3M9ImVkZ2VMYWJlbCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwgMCkiIGNsYXNzPSJsYWJlbCI+PGZvcmVpZ25PYmplY3QgaGVpZ2h0PSIwIiB3aWR0aD0iMCI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aGl0ZS1zcGFjZTogbm93cmFwOyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPjxzcGFuIGNsYXNzPSJlZGdlTGFiZWwiPjwvc3Bhbj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjwvZz48ZyBjbGFzcz0iZWRnZUxhYmVsIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLCAwKSIgY2xhc3M9ImxhYmVsIj48Zm9yZWlnbk9iamVjdCBoZWlnaHQ9IjAiIHdpZHRoPSIwIj48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdoaXRlLXNwYWNlOiBub3dyYXA7IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCI+PHNwYW4gY2xhc3M9ImVkZ2VMYWJlbCI+PC9zcGFuPjwvZGl2PjwvZm9yZWlnbk9iamVjdD48L2c+PC9nPjxnIGNsYXNzPSJlZGdlTGFiZWwiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsIDApIiBjbGFzcz0ibGFiZWwiPjxmb3JlaWduT2JqZWN0IGhlaWdodD0iMCIgd2lkdGg9IjAiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgd2hpdGUtc3BhY2U6IG5vd3JhcDsiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIj48c3BhbiBjbGFzcz0iZWRnZUxhYmVsIj48L3NwYW4+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjwvZz48L2c+PGcgY2xhc3M9ImVkZ2VMYWJlbCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwgMCkiIGNsYXNzPSJsYWJlbCI+PGZvcmVpZ25PYmplY3QgaGVpZ2h0PSIwIiB3aWR0aD0iMCI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aGl0ZS1zcGFjZTogbm93cmFwOyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPjxzcGFuIGNsYXNzPSJlZGdlTGFiZWwiPjwvc3Bhbj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjwvZz48ZyBjbGFzcz0iZWRnZUxhYmVsIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLCAwKSIgY2xhc3M9ImxhYmVsIj48Zm9yZWlnbk9iamVjdCBoZWlnaHQ9IjAiIHdpZHRoPSIwIj48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdoaXRlLXNwYWNlOiBub3dyYXA7IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCI+PHNwYW4gY2xhc3M9ImVkZ2VMYWJlbCI+PC9zcGFuPjwvZGl2PjwvZm9yZWlnbk9iamVjdD48L2c+PC9nPjxnIGNsYXNzPSJlZGdlTGFiZWwiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsIDApIiBjbGFzcz0ibGFiZWwiPjxmb3JlaWduT2JqZWN0IGhlaWdodD0iMCIgd2lkdGg9IjAiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgd2hpdGUtc3BhY2U6IG5vd3JhcDsiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIj48c3BhbiBjbGFzcz0iZWRnZUxhYmVsIj48L3NwYW4+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjwvZz48L2c+PGcgY2xhc3M9ImVkZ2VMYWJlbCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwgMCkiIGNsYXNzPSJsYWJlbCI+PGZvcmVpZ25PYmplY3QgaGVpZ2h0PSIwIiB3aWR0aD0iMCI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aGl0ZS1zcGFjZTogbm93cmFwOyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPjxzcGFuIGNsYXNzPSJlZGdlTGFiZWwiPjwvc3Bhbj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjwvZz48ZyBjbGFzcz0iZWRnZUxhYmVsIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLCAwKSIgY2xhc3M9ImxhYmVsIj48Zm9yZWlnbk9iamVjdCBoZWlnaHQ9IjAiIHdpZHRoPSIwIj48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdoaXRlLXNwYWNlOiBub3dyYXA7IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCI+PHNwYW4gY2xhc3M9ImVkZ2VMYWJlbCI+PC9zcGFuPjwvZGl2PjwvZm9yZWlnbk9iamVjdD48L2c+PC9nPjxnIGNsYXNzPSJlZGdlTGFiZWwiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsIDApIiBjbGFzcz0ibGFiZWwiPjxmb3JlaWduT2JqZWN0IGhlaWdodD0iMCIgd2lkdGg9IjAiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgd2hpdGUtc3BhY2U6IG5vd3JhcDsiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIj48c3BhbiBjbGFzcz0iZWRnZUxhYmVsIj48L3NwYW4+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjwvZz48L2c+PGcgY2xhc3M9ImVkZ2VMYWJlbCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwgMCkiIGNsYXNzPSJsYWJlbCI+PGZvcmVpZ25PYmplY3QgaGVpZ2h0PSIwIiB3aWR0aD0iMCI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aGl0ZS1zcGFjZTogbm93cmFwOyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPjxzcGFuIGNsYXNzPSJlZGdlTGFiZWwiPjwvc3Bhbj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjwvZz48ZyBjbGFzcz0iZWRnZUxhYmVsIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLCAwKSIgY2xhc3M9ImxhYmVsIj48Zm9yZWlnbk9iamVjdCBoZWlnaHQ9IjAiIHdpZHRoPSIwIj48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdoaXRlLXNwYWNlOiBub3dyYXA7IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCI+PHNwYW4gY2xhc3M9ImVkZ2VMYWJlbCI+PC9zcGFuPjwvZGl2PjwvZm9yZWlnbk9iamVjdD48L2c+PC9nPjxnIGNsYXNzPSJlZGdlTGFiZWwiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsIDApIiBjbGFzcz0ibGFiZWwiPjxmb3JlaWduT2JqZWN0IGhlaWdodD0iMCIgd2lkdGg9IjAiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgd2hpdGUtc3BhY2U6IG5vd3JhcDsiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIj48c3BhbiBjbGFzcz0iZWRnZUxhYmVsIj48L3NwYW4+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjwvZz48L2c+PC9nPjxnIGNsYXNzPSJub2RlcyI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjM3LjQ0MTQwNjI1LCAxOS41KSIgaWQ9ImZsb3djaGFydC1sZW5ndGgtMjQ4IiBjbGFzcz0ibm9kZSBkZWZhdWx0IGRlZmF1bHQgZmxvd2NoYXJ0LWxhYmVsIj48cmVjdCBoZWlnaHQ9IjM5IiB3aWR0aD0iNjAuMzEyNSIgeT0iLTE5LjUiIHg9Ii0zMC4xNTYyNSIgcnk9IjAiIHJ4PSIwIiBzdHlsZT0iIiBjbGFzcz0iYmFzaWMgbGFiZWwtY29udGFpbmVyIj48L3JlY3Q+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyLjY1NjI1LCAtMTIpIiBzdHlsZT0iIiBjbGFzcz0ibGFiZWwiPjxyZWN0PjwvcmVjdD48Zm9yZWlnbk9iamVjdCBoZWlnaHQ9IjI0IiB3aWR0aD0iNDUuMzEyNSI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aGl0ZS1zcGFjZTogbm93cmFwOyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPjxzcGFuIGNsYXNzPSJub2RlTGFiZWwiPmxlbmd0aDwvc3Bhbj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzAuODAwNzgxMjUsIDEyMC41KSIgaWQ9ImZsb3djaGFydC13aWR0aC0yNDkiIGNsYXNzPSJub2RlIGRlZmF1bHQgZGVmYXVsdCBmbG93Y2hhcnQtbGFiZWwiPjxyZWN0IGhlaWdodD0iMzkiIHdpZHRoPSIxMjIuNDM3NSIgeT0iLTE5LjUiIHg9Ii02MS4yMTg3NSIgcnk9IjAiIHJ4PSIwIiBzdHlsZT0iIiBjbGFzcz0iYmFzaWMgbGFiZWwtY29udGFpbmVyIj48L3JlY3Q+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTUzLjcxODc1LCAtMTIpIiBzdHlsZT0iIiBjbGFzcz0ibGFiZWwiPjxyZWN0PjwvcmVjdD48Zm9yZWlnbk9iamVjdCBoZWlnaHQ9IjI0IiB3aWR0aD0iMTA3LjQzNzUiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgd2hpdGUtc3BhY2U6IG5vd3JhcDsiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIj48c3BhbiBjbGFzcz0ibm9kZUxhYmVsIj53aWR0aCwgYnJlYWR0aDwvc3Bhbj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMzEuOTg4MjgxMjUsIDEyMC41KSIgaWQ9ImZsb3djaGFydC1oZWlnaHQtMjUxIiBjbGFzcz0ibm9kZSBkZWZhdWx0IGRlZmF1bHQgZmxvd2NoYXJ0LWxhYmVsIj48cmVjdCBoZWlnaHQ9IjM5IiB3aWR0aD0iMTc5LjkzNzUiIHk9Ii0xOS41IiB4PSItODkuOTY4NzUiIHJ5PSIwIiByeD0iMCIgc3R5bGU9IiIgY2xhc3M9ImJhc2ljIGxhYmVsLWNvbnRhaW5lciI+PC9yZWN0PjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04Mi40Njg3NSwgLTEyKSIgc3R5bGU9IiIgY2xhc3M9ImxhYmVsIj48cmVjdD48L3JlY3Q+PGZvcmVpZ25PYmplY3QgaGVpZ2h0PSIyNCIgd2lkdGg9IjE2NC45Mzc1Ij48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdoaXRlLXNwYWNlOiBub3dyYXA7IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCI+PHNwYW4gY2xhc3M9Im5vZGVMYWJlbCI+aGVpZ2h0LCBkZXB0aCwgYWx0aXR1ZGU8L3NwYW4+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjwvZz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDAuNTMxMjUsIDIyMS41KSIgaWQ9ImZsb3djaGFydC10aGlja25lc3MtMjUzIiBjbGFzcz0ibm9kZSBkZWZhdWx0IGRlZmF1bHQgZmxvd2NoYXJ0LWxhYmVsIj48cmVjdCBoZWlnaHQ9IjM5IiB3aWR0aD0iODEuMDYyNSIgeT0iLTE5LjUiIHg9Ii00MC41MzEyNSIgcnk9IjAiIHJ4PSIwIiBzdHlsZT0iIiBjbGFzcz0iYmFzaWMgbGFiZWwtY29udGFpbmVyIj48L3JlY3Q+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMzLjAzMTI1LCAtMTIpIiBzdHlsZT0iIiBjbGFzcz0ibGFiZWwiPjxyZWN0PjwvcmVjdD48Zm9yZWlnbk9iamVjdCBoZWlnaHQ9IjI0IiB3aWR0aD0iNjYuMDYyNSI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aGl0ZS1zcGFjZTogbm93cmFwOyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPjxzcGFuIGNsYXNzPSJub2RlTGFiZWwiPnRoaWNrbmVzczwvc3Bhbj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNzEuMTU2MjUsIDIyMS41KSIgaWQ9ImZsb3djaGFydC1kaWFtZXRlci0yNTUiIGNsYXNzPSJub2RlIGRlZmF1bHQgZGVmYXVsdCBmbG93Y2hhcnQtbGFiZWwiPjxyZWN0IGhlaWdodD0iMzkiIHdpZHRoPSI4MC4xODc1IiB5PSItMTkuNSIgeD0iLTQwLjA5Mzc1IiByeT0iMCIgcng9IjAiIHN0eWxlPSIiIGNsYXNzPSJiYXNpYyBsYWJlbC1jb250YWluZXIiPjwvcmVjdD48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzIuNTkzNzUsIC0xMikiIHN0eWxlPSIiIGNsYXNzPSJsYWJlbCI+PHJlY3Q+PC9yZWN0Pjxmb3JlaWduT2JqZWN0IGhlaWdodD0iMjQiIHdpZHRoPSI2NS4xODc1Ij48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdoaXRlLXNwYWNlOiBub3dyYXA7IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCI+PHNwYW4gY2xhc3M9Im5vZGVMYWJlbCI+ZGlhbWV0ZXI8L3NwYW4+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjwvZz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjkwLjQxNDA2MjUsIDIyMS41KSIgaWQ9ImZsb3djaGFydC1yYWRpdXMtMjU3IiBjbGFzcz0ibm9kZSBkZWZhdWx0IGRlZmF1bHQgZmxvd2NoYXJ0LWxhYmVsIj48cmVjdCBoZWlnaHQ9IjM5IiB3aWR0aD0iNTguMzI4MTI1IiB5PSItMTkuNSIgeD0iLTI5LjE2NDA2MjUiIHJ5PSIwIiByeD0iMCIgc3R5bGU9IiIgY2xhc3M9ImJhc2ljIGxhYmVsLWNvbnRhaW5lciI+PC9yZWN0PjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMS42NjQwNjI1LCAtMTIpIiBzdHlsZT0iIiBjbGFzcz0ibGFiZWwiPjxyZWN0PjwvcmVjdD48Zm9yZWlnbk9iamVjdCBoZWlnaHQ9IjI0IiB3aWR0aD0iNDMuMzI4MTI1Ij48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdoaXRlLXNwYWNlOiBub3dyYXA7IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCI+PHNwYW4gY2xhc3M9Im5vZGVMYWJlbCI+cmFkaXVzPC9zcGFuPjwvZGl2PjwvZm9yZWlnbk9iamVjdD48L2c+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUyMi41MTE3MTg3NSwgMTIwLjUpIiBpZD0iZmxvd2NoYXJ0LXBhdGhfbGVuZ3RoLTI1OSIgY2xhc3M9Im5vZGUgZGVmYXVsdCBkZWZhdWx0IGZsb3djaGFydC1sYWJlbCI+PHJlY3QgaGVpZ2h0PSIzOSIgd2lkdGg9IjEwMS4xMDkzNzUiIHk9Ii0xOS41IiB4PSItNTAuNTU0Njg3NSIgcnk9IjAiIHJ4PSIwIiBzdHlsZT0iIiBjbGFzcz0iYmFzaWMgbGFiZWwtY29udGFpbmVyIj48L3JlY3Q+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQzLjA1NDY4NzUsIC0xMikiIHN0eWxlPSIiIGNsYXNzPSJsYWJlbCI+PHJlY3Q+PC9yZWN0Pjxmb3JlaWduT2JqZWN0IGhlaWdodD0iMjQiIHdpZHRoPSI4Ni4xMDkzNzUiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgd2hpdGUtc3BhY2U6IG5vd3JhcDsiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIj48c3BhbiBjbGFzcz0ibm9kZUxhYmVsIj5wYXRoX2xlbmd0aDwvc3Bhbj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MjIuNTExNzE4NzUsIDIyMS41KSIgaWQ9ImZsb3djaGFydC1kaXN0YW5jZS0yNjEiIGNsYXNzPSJub2RlIGRlZmF1bHQgZGVmYXVsdCBmbG93Y2hhcnQtbGFiZWwiPjxyZWN0IGhlaWdodD0iMzkiIHdpZHRoPSI3NS4wOTM3NSIgeT0iLTE5LjUiIHg9Ii0zNy41NDY4NzUiIHJ5PSIwIiByeD0iMCIgc3R5bGU9IiIgY2xhc3M9ImJhc2ljIGxhYmVsLWNvbnRhaW5lciI+PC9yZWN0PjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMC4wNDY4NzUsIC0xMikiIHN0eWxlPSIiIGNsYXNzPSJsYWJlbCI+PHJlY3Q+PC9yZWN0Pjxmb3JlaWduT2JqZWN0IGhlaWdodD0iMjQiIHdpZHRoPSI2MC4wOTM3NSI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aGl0ZS1zcGFjZTogbm93cmFwOyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPjxzcGFuIGNsYXNzPSJub2RlTGFiZWwiPmRpc3RhbmNlPC9zcGFuPjwvZGl2PjwvZm9yZWlnbk9iamVjdD48L2c+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUyMi41MTE3MTg3NSwgMzEwLjUpIiBpZD0iZmxvd2NoYXJ0LXJhZGlhbF9kaXN0YW5jZS0yNjMiIGNsYXNzPSJub2RlIGRlZmF1bHQgZGVmYXVsdCBmbG93Y2hhcnQtbGFiZWwiPjxyZWN0IGhlaWdodD0iMzkiIHdpZHRoPSIxMjQuNzE4NzUiIHk9Ii0xOS41IiB4PSItNjIuMzU5Mzc1IiByeT0iMCIgcng9IjAiIHN0eWxlPSIiIGNsYXNzPSJiYXNpYyBsYWJlbC1jb250YWluZXIiPjwvcmVjdD48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTQuODU5Mzc1LCAtMTIpIiBzdHlsZT0iIiBjbGFzcz0ibGFiZWwiPjxyZWN0PjwvcmVjdD48Zm9yZWlnbk9iamVjdCBoZWlnaHQ9IjI0IiB3aWR0aD0iMTA5LjcxODc1Ij48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdoaXRlLXNwYWNlOiBub3dyYXA7IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCI+PHNwYW4gY2xhc3M9Im5vZGVMYWJlbCI+cmFkaWFsX2Rpc3RhbmNlPC9zcGFuPjwvZGl2PjwvZm9yZWlnbk9iamVjdD48L2c+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDY3MS42NjAxNTYyNSwgMTIwLjUpIiBpZD0iZmxvd2NoYXJ0LXdhdmVsZW5ndGgtMjY1IiBjbGFzcz0ibm9kZSBkZWZhdWx0IGRlZmF1bHQgZmxvd2NoYXJ0LWxhYmVsIj48cmVjdCBoZWlnaHQ9IjM5IiB3aWR0aD0iOTcuMTg3NSIgeT0iLTE5LjUiIHg9Ii00OC41OTM3NSIgcnk9IjAiIHJ4PSIwIiBzdHlsZT0iIiBjbGFzcz0iYmFzaWMgbGFiZWwtY29udGFpbmVyIj48L3JlY3Q+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQxLjA5Mzc1LCAtMTIpIiBzdHlsZT0iIiBjbGFzcz0ibGFiZWwiPjxyZWN0PjwvcmVjdD48Zm9yZWlnbk9iamVjdCBoZWlnaHQ9IjI0IiB3aWR0aD0iODIuMTg3NSI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aGl0ZS1zcGFjZTogbm93cmFwOyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPjxzcGFuIGNsYXNzPSJub2RlTGFiZWwiPndhdmVsZW5ndGg8L3NwYW4+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjwvZz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODMzLjE1MjM0Mzc1LCAxMjAuNSkiIGlkPSJmbG93Y2hhcnQtcG9zaXRpb25fdmVjdG9yLTI2NyIgY2xhc3M9Im5vZGUgZGVmYXVsdCBkZWZhdWx0IGZsb3djaGFydC1sYWJlbCI+PHJlY3QgaGVpZ2h0PSI2MyIgd2lkdGg9IjEyNS43OTY4NzUiIHk9Ii0zMS41IiB4PSItNjIuODk4NDM3NSIgcnk9IjAiIHJ4PSIwIiBzdHlsZT0iIiBjbGFzcz0iYmFzaWMgbGFiZWwtY29udGFpbmVyIj48L3JlY3Q+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU1LjM5ODQzNzUsIC0yNCkiIHN0eWxlPSIiIGNsYXNzPSJsYWJlbCI+PHJlY3Q+PC9yZWN0Pjxmb3JlaWduT2JqZWN0IGhlaWdodD0iNDgiIHdpZHRoPSIxMTAuNzk2ODc1Ij48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdoaXRlLXNwYWNlOiBub3dyYXA7IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCI+PHNwYW4gY2xhc3M9Im5vZGVMYWJlbCI+cG9zaXRpb25fdmVjdG9yPGJyLz57dmVjdG9yfTwvc3Bhbj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDAxLjQxNzk2ODc1LCAxMjAuNSkiIGlkPSJmbG93Y2hhcnQtZGlzcGxhY2VtZW50LTI2OSIgY2xhc3M9Im5vZGUgZGVmYXVsdCBkZWZhdWx0IGZsb3djaGFydC1sYWJlbCI+PHJlY3QgaGVpZ2h0PSI2MyIgd2lkdGg9IjExMC43MzQzNzUiIHk9Ii0zMS41IiB4PSItNTUuMzY3MTg3NSIgcnk9IjAiIHJ4PSIwIiBzdHlsZT0iIiBjbGFzcz0iYmFzaWMgbGFiZWwtY29udGFpbmVyIj48L3JlY3Q+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQ3Ljg2NzE4NzUsIC0yNCkiIHN0eWxlPSIiIGNsYXNzPSJsYWJlbCI+PHJlY3Q+PC9yZWN0Pjxmb3JlaWduT2JqZWN0IGhlaWdodD0iNDgiIHdpZHRoPSI5NS43MzQzNzUiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgd2hpdGUtc3BhY2U6IG5vd3JhcDsiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIj48c3BhbiBjbGFzcz0ibm9kZUxhYmVsIj5kaXNwbGFjZW1lbnQ8YnIvPnt2ZWN0b3J9PC9zcGFuPjwvZGl2PjwvZm9yZWlnbk9iamVjdD48L2c+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI5MC40MTQwNjI1LCAzMTAuNSkiIGlkPSJmbG93Y2hhcnQtcmFkaXVzX29mX2N1cnZhdHVyZS0yNzEiIGNsYXNzPSJub2RlIGRlZmF1bHQgZGVmYXVsdCBmbG93Y2hhcnQtbGFiZWwiPjxyZWN0IGhlaWdodD0iMzkiIHdpZHRoPSIxNTguNzY1NjI1IiB5PSItMTkuNSIgeD0iLTc5LjM4MjgxMjUiIHJ5PSIwIiByeD0iMCIgc3R5bGU9IiIgY2xhc3M9ImJhc2ljIGxhYmVsLWNvbnRhaW5lciI+PC9yZWN0PjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC03MS44ODI4MTI1LCAtMTIpIiBzdHlsZT0iIiBjbGFzcz0ibGFiZWwiPjxyZWN0PjwvcmVjdD48Zm9yZWlnbk9iamVjdCBoZWlnaHQ9IjI0IiB3aWR0aD0iMTQzLjc2NTYyNSI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aGl0ZS1zcGFjZTogbm93cmFwOyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPjxzcGFuIGNsYXNzPSJub2RlTGFiZWwiPnJhZGl1c19vZl9jdXJ2YXR1cmU8L3NwYW4+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjwvZz48L2c+PC9nPjwvZz48L2c+PC9zdmc+" /></p>
<p>Each of the above quantities expresses some kind of length, and each
can be measured with meters which is the unit defined by the <span class="citation" data-cites="SI">[<a href="#ref-SI" role="doc-biblioref">SI</a>]</span> for quantities of length. However,
each has different properties, usage, and sometimes even a different
character (position vector and displacement are vector quantities).</p>
<p>The below presents how such a hierarchy tree can be defined in the
<span class="citation" data-cites="MP-UNITS">[<a href="#ref-MP-UNITS" role="doc-biblioref">mp-units</a>]</span> library:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> dim_length <span class="op">:</span> base_dimension<span class="op">&lt;</span><span class="st">&quot;L&quot;</span><span class="op">&gt;</span> <span class="op">{}</span> dim_length;</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> length <span class="op">:</span> quantity_spec<span class="op">&lt;</span>dim_length<span class="op">&gt;</span> <span class="op">{}</span> length;</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> width <span class="op">:</span> quantity_spec<span class="op">&lt;</span>length<span class="op">&gt;</span> <span class="op">{}</span> width;</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">auto</span> breadth <span class="op">=</span> width;</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> height <span class="op">:</span> quantity_spec<span class="op">&lt;</span>length<span class="op">&gt;</span> <span class="op">{}</span> height;</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">auto</span> depth <span class="op">=</span> height;</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">auto</span> altitude <span class="op">=</span> height;</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> thickness <span class="op">:</span> quantity_spec<span class="op">&lt;</span>width<span class="op">&gt;</span> <span class="op">{}</span> thickness;</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> diameter <span class="op">:</span> quantity_spec<span class="op">&lt;</span>width<span class="op">&gt;</span> <span class="op">{}</span> diameter;</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> radius <span class="op">:</span> quantity_spec<span class="op">&lt;</span>width<span class="op">&gt;</span> <span class="op">{}</span> radius;</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> radius_of_curvature <span class="op">:</span> quantity_spec<span class="op">&lt;</span>radius<span class="op">&gt;</span> <span class="op">{}</span> radius_of_curvature;</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> path_length <span class="op">:</span> quantity_spec<span class="op">&lt;</span>length<span class="op">&gt;</span> <span class="op">{}</span> path_length;</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">auto</span> arc_length <span class="op">=</span> path_length;</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> distance <span class="op">:</span> quantity_spec<span class="op">&lt;</span>path_length<span class="op">&gt;</span> <span class="op">{}</span> distance;</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> radial_distance <span class="op">:</span> quantity_spec<span class="op">&lt;</span>distance<span class="op">&gt;</span> <span class="op">{}</span> radial_distance;</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> wavelength <span class="op">:</span> quantity_spec<span class="op">&lt;</span>length<span class="op">&gt;</span> <span class="op">{}</span> wavelength;</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> position_vector <span class="op">:</span> quantity_spec<span class="op">&lt;</span>length, quantity_character<span class="op">::</span>vector<span class="op">&gt;</span> <span class="op">{}</span> position_vector;</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> displacement <span class="op">:</span> quantity_spec<span class="op">&lt;</span>length, quantity_character<span class="op">::</span>vector<span class="op">&gt;</span> <span class="op">{}</span> displacement;</span></code></pre></div>
<p>In the above code:</p>
<ul>
<li><code class="sourceCode default">length</code> takes the base
dimension to indicate that we are creating a base quantity that will
serve as a root for a tree of quantities of the same kind,</li>
<li><code class="sourceCode default">width</code> and following
quantities are branches and leaves of this tree with the parent always
provided as the argument to
<code class="sourceCode default">quantity_spec</code> class
template,</li>
<li><code class="sourceCode default">breadth</code> is an alias name for
the same quantity as <code class="sourceCode default">width</code>.</li>
</ul>
<p>Please note that some quantities
(e.g. <code class="sourceCode default">displacement</code>) may be
specified by the <span class="citation" data-cites="ISO80000">[<a href="#ref-ISO80000" role="doc-biblioref">ISO 80000</a>]</span> as
vector or tensor quantities.</p>
<h2 data-number="3.4" id="converting-between-quantities-of-the-same-kind"><span class="header-section-number">3.4</span> Converting between quantities
of the same kind<a href="#converting-between-quantities-of-the-same-kind" class="self-link"></a></h2>
<p>Quantity conversion rules can be defined based on the same hierarchy
of quantities of kind length.</p>
<ol type="1">
<li><p><strong>Implicit conversions</strong></p>
<ul>
<li>Every <code class="sourceCode default">width</code> is a
<code class="sourceCode default">length</code>.</li>
<li>Every <code class="sourceCode default">radius</code> is a
<code class="sourceCode default">width</code>.</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>implicitly_convertible<span class="op">(</span>isq<span class="op">::</span>width, isq<span class="op">::</span>length<span class="op">))</span>;</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>implicitly_convertible<span class="op">(</span>isq<span class="op">::</span>radius, isq<span class="op">::</span>length<span class="op">))</span>;</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>implicitly_convertible<span class="op">(</span>isq<span class="op">::</span>radius, isq<span class="op">::</span>width<span class="op">))</span>;</span></code></pre></div>
<p>In the <span class="citation" data-cites="MP-UNITS">[<a href="#ref-MP-UNITS" role="doc-biblioref">mp-units</a>]</span> library
implicit conversions are allowed on copy-initialization:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> foo<span class="op">(</span>quantity<span class="op">&lt;</span>isq<span class="op">::</span>length<span class="op">&lt;</span>m<span class="op">&gt;&gt;</span> q<span class="op">)</span>;</span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>quantity<span class="op">&lt;</span>isq<span class="op">::</span>width<span class="op">&lt;</span>m<span class="op">&gt;&gt;</span> q1 <span class="op">=</span> <span class="dv">42</span> <span class="op">*</span> m;</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>quantity<span class="op">&lt;</span>isq<span class="op">::</span>length<span class="op">&lt;</span>m<span class="op">&gt;&gt;</span> q2 <span class="op">=</span> q1;  <span class="co">// implicit quantity conversion</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>foo<span class="op">(</span>q1<span class="op">)</span>;                           <span class="co">// implicit quantity conversion</span></span></code></pre></div></li>
<li><p><strong>Explicit conversions</strong></p>
<ul>
<li>Not every <code class="sourceCode default">length</code> is a
<code class="sourceCode default">width</code>.</li>
<li>Not every <code class="sourceCode default">width</code> is a
<code class="sourceCode default">radius</code>.</li>
</ul>
<div class="sourceCode" id="cb7"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(!</span>implicitly_convertible<span class="op">(</span>isq<span class="op">::</span>length, isq<span class="op">::</span>width<span class="op">))</span>;</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(!</span>implicitly_convertible<span class="op">(</span>isq<span class="op">::</span>length, isq<span class="op">::</span>radius<span class="op">))</span>;</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(!</span>implicitly_convertible<span class="op">(</span>isq<span class="op">::</span>width, isq<span class="op">::</span>radius<span class="op">))</span>;</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>explicitly_convertible<span class="op">(</span>isq<span class="op">::</span>length, isq<span class="op">::</span>width<span class="op">))</span>;</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>explicitly_convertible<span class="op">(</span>isq<span class="op">::</span>length, isq<span class="op">::</span>radius<span class="op">))</span>;</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>explicitly_convertible<span class="op">(</span>isq<span class="op">::</span>width, isq<span class="op">::</span>radius<span class="op">))</span>;</span></code></pre></div>
<p>In the <span class="citation" data-cites="MP-UNITS">[<a href="#ref-MP-UNITS" role="doc-biblioref">mp-units</a>]</span> library
explicit conversions are forced by passing the quantity to a call
operator of a <code class="sourceCode default">quantity_spec</code>
type:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>quantity<span class="op">&lt;</span>isq<span class="op">::</span>length<span class="op">&lt;</span>m<span class="op">&gt;&gt;</span> q1 <span class="op">=</span> <span class="dv">42</span> <span class="op">*</span> m;</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>quantity<span class="op">&lt;</span>isq<span class="op">::</span>height<span class="op">&lt;</span>m<span class="op">&gt;&gt;</span> q2 <span class="op">=</span> isq<span class="op">::</span>height<span class="op">(</span>q1<span class="op">)</span>;  <span class="co">// explicit quantity conversion</span></span></code></pre></div></li>
<li><p><strong>Explicit casts</strong></p>
<ul>
<li><code class="sourceCode default">height</code> is not a
<code class="sourceCode default">width</code>.</li>
<li>Both <code class="sourceCode default">height</code> and
<code class="sourceCode default">width</code> are quantities of kind
<code class="sourceCode default">length</code>.</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(!</span>implicitly_convertible<span class="op">(</span>isq<span class="op">::</span>height, isq<span class="op">::</span>width<span class="op">))</span>;</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(!</span>explicitly_convertible<span class="op">(</span>isq<span class="op">::</span>height, isq<span class="op">::</span>width<span class="op">))</span>;</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>castable<span class="op">(</span>isq<span class="op">::</span>height, isq<span class="op">::</span>width<span class="op">))</span>;</span></code></pre></div>
<p>In the <span class="citation" data-cites="MP-UNITS">[<a href="#ref-MP-UNITS" role="doc-biblioref">mp-units</a>]</span> library
explicit casts are forced with a dedicated
<code class="sourceCode default">quantity_cast</code> function:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>quantity<span class="op">&lt;</span>isq<span class="op">::</span>width<span class="op">&lt;</span>m<span class="op">&gt;&gt;</span> q1 <span class="op">=</span> <span class="dv">42</span> <span class="op">*</span> m;</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>quantity<span class="op">&lt;</span>isq<span class="op">::</span>height<span class="op">&lt;</span>m<span class="op">&gt;&gt;</span> q2 <span class="op">=</span> quantity_cast<span class="op">&lt;</span>isq<span class="op">::</span>height<span class="op">&gt;(</span>q1<span class="op">)</span>;  <span class="co">// explicit quantity cast</span></span></code></pre></div></li>
<li><p><strong>No conversion</strong></p>
<ul>
<li><code class="sourceCode default">time</code> has nothing in common
with <code class="sourceCode default">length</code>.</li>
</ul>
<div class="sourceCode" id="cb11"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(!</span>implicitly_convertible<span class="op">(</span>isq<span class="op">::</span>time, isq<span class="op">::</span>length<span class="op">))</span>;</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(!</span>explicitly_convertible<span class="op">(</span>isq<span class="op">::</span>time, isq<span class="op">::</span>length<span class="op">))</span>;</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(!</span>castable<span class="op">(</span>isq<span class="op">::</span>time, isq<span class="op">::</span>length<span class="op">))</span>;</span></code></pre></div>
<p>In the <span class="citation" data-cites="MP-UNITS">[<a href="#ref-MP-UNITS" role="doc-biblioref">mp-units</a>]</span> library
even the explicit casts will not force such a conversion:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> foo<span class="op">(</span>quantity<span class="op">&lt;</span>isq<span class="op">::</span>length<span class="op">[</span>m<span class="op">]&gt;)</span>;</span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>foo<span class="op">(</span>quantity_cast<span class="op">&lt;</span>isq<span class="op">::</span>length<span class="op">&gt;(</span><span class="dv">42</span> <span class="op">*</span> s<span class="op">))</span>; <span class="co">// Compile-time error</span></span></code></pre></div></li>
</ol>
<p>With the above rules one can write a following short application to
calculate the fuel consumption:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> fuel_volume <span class="op">:</span> quantity_spec<span class="op">&lt;</span>isq<span class="op">::</span>volume<span class="op">&gt;</span> <span class="op">{}</span> fuel_volume;</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> fuel_consumption  <span class="op">:</span> quantity_spec<span class="op">&lt;</span>fuel_volume <span class="op">/</span> isq<span class="op">::</span>distance<span class="op">&gt;</span> <span class="op">{}</span> fuel_consumption;</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> quantity fuel <span class="op">=</span> fuel_volume<span class="op">(</span><span class="fl">40.</span> <span class="op">*</span> l<span class="op">)</span>;</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> quantity distance <span class="op">=</span> isq<span class="op">::</span>distance<span class="op">(</span><span class="fl">550.</span> <span class="op">*</span> km<span class="op">)</span>;</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> quantity<span class="op">&lt;</span>fuel_consumption<span class="op">[</span>l <span class="op">/</span> <span class="op">(</span>mag<span class="op">&lt;</span><span class="dv">100</span><span class="op">&gt;</span> <span class="op">*</span> km<span class="op">)]&gt;</span> q <span class="op">=</span> fuel <span class="op">/</span> distance;</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>std<span class="op">::</span>cout <span class="op">&lt;&lt;</span> <span class="st">&quot;Fuel consumption: &quot;</span> <span class="op">&lt;&lt;</span> q <span class="op">&lt;&lt;</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>;</span></code></pre></div>
<p>The above code prints:</p>
<pre class="text"><code>Fuel consumption: 7.27273 × 10⁻² l/km</code></pre>
<p>Please note that despite the dimensions of
<code class="sourceCode default">fuel_consumption</code> and
<code class="sourceCode default">isq::area</code> are the same
(<code class="sourceCode default">L²</code>), the constructor of a
quantity <code class="sourceCode default">q</code> below will fail to
compile when we pass an argument being the quantity of area:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>fuel_consumption<span class="op">.</span>dimension <span class="op">==</span> isq<span class="op">::</span>area<span class="op">.</span>dimension<span class="op">)</span>;</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> quantity<span class="op">&lt;</span>isq<span class="op">::</span>area<span class="op">[</span>m2<span class="op">]&gt;</span> football_field <span class="op">=</span> isq<span class="op">::</span>length<span class="op">(</span><span class="dv">105</span> <span class="op">*</span> m<span class="op">)</span> <span class="op">*</span> isq<span class="op">::</span>width<span class="op">(</span><span class="dv">68</span> <span class="op">*</span> m<span class="op">)</span>;</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> quantity<span class="op">&lt;</span>fuel_consumption<span class="op">[</span>l <span class="op">/</span> <span class="op">(</span>mag<span class="op">&lt;</span><span class="dv">100</span><span class="op">&gt;</span> <span class="op">*</span> km<span class="op">)]&gt;</span> q <span class="op">=</span> football_field;  <span class="co">// Compile-time error</span></span></code></pre></div>
<h2 data-number="3.5" id="comparing-adding-and-subtracting-quantities-of-the-same-kind"><span class="header-section-number">3.5</span> Comparing, adding, and
subtracting quantities of the same kind<a href="#comparing-adding-and-subtracting-quantities-of-the-same-kind" class="self-link"></a></h2>
<p><span class="citation" data-cites="ISO-GUIDE">[<a href="#ref-ISO-GUIDE" role="doc-biblioref">ISO/IEC Guide 99</a>]</span>
explicitly states that <code class="sourceCode default">width</code> and
<code class="sourceCode default">height</code> are quantities of the
same kind and as such they:</p>
<ul>
<li>are mutually comparable,</li>
<li>can be added and subtracted.</li>
</ul>
<p>If we take the above for granted, the only reasonable result of
<code class="sourceCode default">1 * width + 1 * height</code> is
<code class="sourceCode default">2 * length</code>, where the result of
<code class="sourceCode default">length</code> is known as a common
quantity type. A result of such an equation is always the first common
branch in a hierarchy tree of the same kind. For example:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>common_quantity_spec<span class="op">(</span>isq<span class="op">::</span>width, isq<span class="op">::</span>height<span class="op">)</span> <span class="op">==</span> isq<span class="op">::</span>length<span class="op">)</span>;</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>common_quantity_spec<span class="op">(</span>isq<span class="op">::</span>thickness, isq<span class="op">::</span>radius<span class="op">)</span> <span class="op">==</span> isq<span class="op">::</span>width<span class="op">)</span>;</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>common_quantity_spec<span class="op">(</span>isq<span class="op">::</span>distance, isq<span class="op">::</span>path_length<span class="op">)</span> <span class="op">==</span> isq<span class="op">::</span>path_length<span class="op">)</span>;</span></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>quantity q <span class="op">=</span> isq<span class="op">::</span>thickness<span class="op">(</span><span class="dv">1</span> <span class="op">*</span> m<span class="op">)</span> <span class="op">+</span> isq<span class="op">::</span>radius<span class="op">(</span><span class="dv">1</span> <span class="op">*</span> m<span class="op">)</span>;</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>q<span class="op">.</span>quantity_spec <span class="op">==</span> isq<span class="op">::</span>width<span class="op">)</span>;</span></code></pre></div>
<p>One could argue that allowing adding or comparing quantities of
height and width might be a safety issue, but we need to be consistent
with the requirements of the <span class="citation" data-cites="ISO-GUIDE">[<a href="#ref-ISO-GUIDE" role="doc-biblioref">ISO/IEC Guide 99</a>]</span>. Moreover, from our
experience, disallowing such operations and requiring an explicit cast
to a common quantity in every single place makes the code so cluttered
with casts that it nearly renders the library unusable.</p>
<p>Fortunately, the above-mentioned conversion rules make the code safe
by construction anyway. Let’s analyze the following example:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> horizontal_length <span class="op">:</span> quantity_spec<span class="op">&lt;</span>isq<span class="op">::</span>length<span class="op">&gt;</span> <span class="op">{}</span> horizontal_length;</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="kw">namespace</span> christmas <span class="op">{</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> gift <span class="op">{</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  quantity<span class="op">&lt;</span>horizontal_length<span class="op">[</span>m<span class="op">]&gt;</span> length;</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  quantity<span class="op">&lt;</span>isq<span class="op">::</span>width<span class="op">[</span>m<span class="op">]&gt;</span> width;</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  quantity<span class="op">&lt;</span>isq<span class="op">::</span>height<span class="op">[</span>m<span class="op">]&gt;</span> height;</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span>;</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>std<span class="op">::</span>array<span class="op">&lt;</span>quantity<span class="op">&lt;</span>isq<span class="op">::</span>length<span class="op">[</span>m<span class="op">]&gt;</span>, <span class="dv">2</span><span class="op">&gt;</span> gift_wrapping_paper_size<span class="op">(</span><span class="kw">const</span> gift<span class="op">&amp;</span> g<span class="op">)</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> <span class="kw">auto</span> dim1 <span class="op">=</span> <span class="dv">2</span> <span class="op">*</span> g<span class="op">.</span>width <span class="op">+</span> <span class="dv">2</span> <span class="op">*</span> g<span class="op">.</span>height <span class="op">+</span> <span class="fl">0.5</span> <span class="op">*</span> g<span class="op">.</span>width;</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> <span class="kw">auto</span> dim2 <span class="op">=</span> g<span class="op">.</span>length <span class="op">+</span> <span class="dv">2</span> <span class="op">*</span> <span class="fl">0.75</span> <span class="op">*</span> g<span class="op">.</span>height;</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="op">{</span> dim1, dim2 <span class="op">}</span>;</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a><span class="op">}</span>  <span class="co">// namespace christmas</span></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> christmas<span class="op">::</span>gift lego <span class="op">=</span> <span class="op">{</span> horizontal_length<span class="op">(</span><span class="dv">40</span> <span class="op">*</span> cm<span class="op">)</span>, isq<span class="op">::</span>width<span class="op">(</span><span class="dv">30</span> <span class="op">*</span> cm<span class="op">)</span>, isq<span class="op">::</span>height<span class="op">(</span><span class="dv">15</span> <span class="op">*</span> cm<span class="op">)</span> <span class="op">}</span>;</span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>  <span class="kw">auto</span> paper <span class="op">=</span> christmas<span class="op">::</span>gift_wrapping_paper_size<span class="op">(</span>lego<span class="op">)</span>;</span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>  std<span class="op">::</span>cout <span class="op">&lt;&lt;</span> <span class="st">&quot;Paper needed to pack a lego box:</span><span class="sc">\n</span><span class="st">&quot;</span>;</span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a>  std<span class="op">::</span>cout <span class="op">&lt;&lt;</span> <span class="st">&quot;- &quot;</span> <span class="op">&lt;&lt;</span> paper<span class="op">[</span><span class="dv">0</span><span class="op">]</span> <span class="op">&lt;&lt;</span> <span class="st">&quot; X &quot;</span> <span class="op">&lt;&lt;</span> paper<span class="op">[</span><span class="dv">1</span><span class="op">]</span> <span class="op">&lt;&lt;</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>;  <span class="co">// - 1.05 m X 0.625 m</span></span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a>  std<span class="op">::</span>cout <span class="op">&lt;&lt;</span> <span class="st">&quot;- area = &quot;</span> <span class="op">&lt;&lt;</span> paper<span class="op">[</span><span class="dv">0</span><span class="op">]</span> <span class="op">*</span> paper<span class="op">[</span><span class="dv">1</span><span class="op">]</span> <span class="op">&lt;&lt;</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>;     <span class="co">// - area = 0.65625 m²</span></span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>In the beginning, we introduce a custom quantity
<code class="sourceCode default">horizontal_length</code> of a kind
length, which then, together with
<code class="sourceCode default">isq::width</code> and
<code class="sourceCode default">isq::height</code> are used to define
the dimensions of a Christmas gift. Next, we provide a function that
calculates the dimensions of a gift wrapping paper with some wraparound.
The result of both those expressions is a quantity of
<code class="sourceCode default">isq::length</code> as this is the
closest common quantity for the arguments used in this quantity
equation.</p>
<p>Regarding safety, it is important to mention here, that thanks to the
conversion rules provided above, it would be impossible to accidentally
do the following:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> foo<span class="op">(</span>quantity<span class="op">&lt;</span>horizontal_length<span class="op">[</span>m<span class="op">]&gt;</span> q<span class="op">)</span>;</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>quantity<span class="op">&lt;</span>isq<span class="op">::</span>width<span class="op">[</span>m<span class="op">]&gt;</span> q1 <span class="op">=</span> dim1;  <span class="co">// Compile-time error</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>quantity<span class="op">&lt;</span>isq<span class="op">::</span>height<span class="op">[</span>m<span class="op">]&gt;</span> q2<span class="op">{</span>dim1<span class="op">}</span>;  <span class="co">// Compile-time error</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>foo<span class="op">(</span>dim1<span class="op">)</span>;                          <span class="co">// Compile-time error</span></span></code></pre></div>
<p>The reason of compilation errors above is the fact that
<code class="sourceCode default">isq::length</code> is not implicitly
convertible to the quantities defined based on it. To make the above
code compile, an explicit conversion of a quantity type is needed:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> foo<span class="op">(</span>quantity<span class="op">&lt;</span>horizontal_length<span class="op">[</span>m<span class="op">]&gt;</span> q<span class="op">)</span>;</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>quantity<span class="op">&lt;</span>isq<span class="op">::</span>width<span class="op">[</span>m<span class="op">]&gt;</span> q1 <span class="op">=</span> isq<span class="op">::</span>width<span class="op">(</span>dim1<span class="op">)</span>;</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>quantity<span class="op">&lt;</span>isq<span class="op">::</span>height<span class="op">[</span>m<span class="op">]&gt;</span> q2<span class="op">{</span>isq<span class="op">::</span>height<span class="op">(</span>dim1<span class="op">)}</span>;</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>foo<span class="op">(</span>horizontal_length<span class="op">(</span>dim1<span class="op">))</span>;</span></code></pre></div>
<p>To summarize, rules for addition, subtraction, and comparison of
quantities improve the library usability, while the conversion rules
enhance the safety of the library compared to the libraries that do not
model quantity kinds.</p>
<h2 data-number="3.6" id="hierarchies-of-derived-quantities"><span class="header-section-number">3.6</span> Hierarchies of derived
quantities<a href="#hierarchies-of-derived-quantities" class="self-link"></a></h2>
<p>The same rules propagate to derived quantities. For example, we can
define strongly typed horizontal length and area:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> horizontal_length <span class="op">:</span> quantity_spec<span class="op">&lt;</span>isq<span class="op">::</span>length<span class="op">&gt;</span> <span class="op">{}</span> horizontal_length;</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> horizontal_area <span class="op">:</span> quantity_spec<span class="op">&lt;</span>isq<span class="op">::</span>area, horizontal_length <span class="op">*</span> isq<span class="op">::</span>width<span class="op">&gt;</span> <span class="op">{}</span> horizontal_area;</span></code></pre></div>
<p>The first definition says that a horizontal length is a more
specialized quantity than length and belongs to the same quantity kind.
The second line defines a horizontal area, which is a more specialized
quantity than area, so it has a more constrained recipe as well. Thanks
to that:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>implicitly_convertible<span class="op">(</span>horizontal_length, isq<span class="op">::</span>length<span class="op">))</span>;</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(!</span>implicitly_convertible<span class="op">(</span>isq<span class="op">::</span>length, horizontal_length<span class="op">))</span>;</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>explicitly_convertible<span class="op">(</span>isq<span class="op">::</span>length, horizontal_length<span class="op">))</span>;</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>implicitly_convertible<span class="op">(</span>horizontal_area, isq<span class="op">::</span>area<span class="op">))</span>;</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(!</span>implicitly_convertible<span class="op">(</span>isq<span class="op">::</span>area, horizontal_area<span class="op">))</span>;</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>explicitly_convertible<span class="op">(</span>isq<span class="op">::</span>area, horizontal_area<span class="op">))</span>;</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>implicitly_convertible<span class="op">(</span>isq<span class="op">::</span>length <span class="op">*</span> isq<span class="op">::</span>length, isq<span class="op">::</span>area<span class="op">))</span>;</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(!</span>implicitly_convertible<span class="op">(</span>isq<span class="op">::</span>length <span class="op">*</span> isq<span class="op">::</span>length, horizontal_area<span class="op">))</span>;</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>explicitly_convertible<span class="op">(</span>isq<span class="op">::</span>length <span class="op">*</span> isq<span class="op">::</span>length, horizontal_area<span class="op">))</span>;</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>implicitly_convertible<span class="op">(</span>horizontal_length <span class="op">*</span> isq<span class="op">::</span>width, isq<span class="op">::</span>area<span class="op">))</span>;</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>implicitly_convertible<span class="op">(</span>horizontal_length <span class="op">*</span> isq<span class="op">::</span>width, horizontal_area<span class="op">))</span>;</span></code></pre></div>
<p>Unfortunately, derived quantity equations often do not automatically
form a hierarchy tree. This is why it is sometimes not obvious what such
a tree should look like. Also, the <span class="citation" data-cites="ISO-GUIDE">[<a href="#ref-ISO-GUIDE" role="doc-biblioref">ISO/IEC Guide 99</a>]</span> explicitly states:</p>
<blockquote>
<p>The division of ‘quantity’ according to ‘kind of quantity’ is, to
some extent, arbitrary.</p>
</blockquote>
<p>The below presents some arbitrary hierarchy of derived quantities of
kind energy:</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyBhcmlhLXJvbGVkZXNjcmlwdGlvbj0iZmxvd2NoYXJ0LXYyIiByb2xlPSJncmFwaGljcy1kb2N1bWVudCBkb2N1bWVudCIgdmlld0JveD0iLTggLTggMTQwNy43MjY1NjI1IDM5NCIgc3R5bGU9Im1heC13aWR0aDogMTAwJTsiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGlkPSJncmFwaC1kaXYiIGhlaWdodD0iMTAwJSIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxzdHlsZT5AaW1wb3J0IHVybCgiaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvZm9udC1hd2Vzb21lLzYuNC4yL2Nzcy9hbGwubWluLmNzcyIpOyc8L3N0eWxlPjxzdHlsZT4jZ3JhcGgtZGl2e2ZvbnQtZmFtaWx5OiJ0cmVidWNoZXQgbXMiLHZlcmRhbmEsYXJpYWwsc2Fucy1zZXJpZjtmb250LXNpemU6MTZweDtmaWxsOiMzMzM7fSNncmFwaC1kaXYgLmVycm9yLWljb257ZmlsbDojNTUyMjIyO30jZ3JhcGgtZGl2IC5lcnJvci10ZXh0e2ZpbGw6IzU1MjIyMjtzdHJva2U6IzU1MjIyMjt9I2dyYXBoLWRpdiAuZWRnZS10aGlja25lc3Mtbm9ybWFse3N0cm9rZS13aWR0aDoycHg7fSNncmFwaC1kaXYgLmVkZ2UtdGhpY2tuZXNzLXRoaWNre3N0cm9rZS13aWR0aDozLjVweDt9I2dyYXBoLWRpdiAuZWRnZS1wYXR0ZXJuLXNvbGlke3N0cm9rZS1kYXNoYXJyYXk6MDt9I2dyYXBoLWRpdiAuZWRnZS1wYXR0ZXJuLWRhc2hlZHtzdHJva2UtZGFzaGFycmF5OjM7fSNncmFwaC1kaXYgLmVkZ2UtcGF0dGVybi1kb3R0ZWR7c3Ryb2tlLWRhc2hhcnJheToyO30jZ3JhcGgtZGl2IC5tYXJrZXJ7ZmlsbDojMzMzMzMzO3N0cm9rZTojMzMzMzMzO30jZ3JhcGgtZGl2IC5tYXJrZXIuY3Jvc3N7c3Ryb2tlOiMzMzMzMzM7fSNncmFwaC1kaXYgc3Zne2ZvbnQtZmFtaWx5OiJ0cmVidWNoZXQgbXMiLHZlcmRhbmEsYXJpYWwsc2Fucy1zZXJpZjtmb250LXNpemU6MTZweDt9I2dyYXBoLWRpdiAubGFiZWx7Zm9udC1mYW1pbHk6InRyZWJ1Y2hldCBtcyIsdmVyZGFuYSxhcmlhbCxzYW5zLXNlcmlmO2NvbG9yOiMzMzM7fSNncmFwaC1kaXYgLmNsdXN0ZXItbGFiZWwgdGV4dHtmaWxsOiMzMzM7fSNncmFwaC1kaXYgLmNsdXN0ZXItbGFiZWwgc3BhbiwjZ3JhcGgtZGl2IHB7Y29sb3I6IzMzMzt9I2dyYXBoLWRpdiAubGFiZWwgdGV4dCwjZ3JhcGgtZGl2IHNwYW4sI2dyYXBoLWRpdiBwe2ZpbGw6IzMzMztjb2xvcjojMzMzO30jZ3JhcGgtZGl2IC5ub2RlIHJlY3QsI2dyYXBoLWRpdiAubm9kZSBjaXJjbGUsI2dyYXBoLWRpdiAubm9kZSBlbGxpcHNlLCNncmFwaC1kaXYgLm5vZGUgcG9seWdvbiwjZ3JhcGgtZGl2IC5ub2RlIHBhdGh7ZmlsbDojRUNFQ0ZGO3N0cm9rZTojOTM3MERCO3N0cm9rZS13aWR0aDoxcHg7fSNncmFwaC1kaXYgLmZsb3djaGFydC1sYWJlbCB0ZXh0e3RleHQtYW5jaG9yOm1pZGRsZTt9I2dyYXBoLWRpdiAubm9kZSAubGFiZWx7dGV4dC1hbGlnbjpjZW50ZXI7fSNncmFwaC1kaXYgLm5vZGUuY2xpY2thYmxle2N1cnNvcjpwb2ludGVyO30jZ3JhcGgtZGl2IC5hcnJvd2hlYWRQYXRoe2ZpbGw6IzMzMzMzMzt9I2dyYXBoLWRpdiAuZWRnZVBhdGggLnBhdGh7c3Ryb2tlOiMzMzMzMzM7c3Ryb2tlLXdpZHRoOjIuMHB4O30jZ3JhcGgtZGl2IC5mbG93Y2hhcnQtbGlua3tzdHJva2U6IzMzMzMzMztmaWxsOm5vbmU7fSNncmFwaC1kaXYgLmVkZ2VMYWJlbHtiYWNrZ3JvdW5kLWNvbG9yOiNlOGU4ZTg7dGV4dC1hbGlnbjpjZW50ZXI7fSNncmFwaC1kaXYgLmVkZ2VMYWJlbCByZWN0e29wYWNpdHk6MC41O2JhY2tncm91bmQtY29sb3I6I2U4ZThlODtmaWxsOiNlOGU4ZTg7fSNncmFwaC1kaXYgLmxhYmVsQmtne2JhY2tncm91bmQtY29sb3I6cmdiYSgyMzIsIDIzMiwgMjMyLCAwLjUpO30jZ3JhcGgtZGl2IC5jbHVzdGVyIHJlY3R7ZmlsbDojZmZmZmRlO3N0cm9rZTojYWFhYTMzO3N0cm9rZS13aWR0aDoxcHg7fSNncmFwaC1kaXYgLmNsdXN0ZXIgdGV4dHtmaWxsOiMzMzM7fSNncmFwaC1kaXYgLmNsdXN0ZXIgc3BhbiwjZ3JhcGgtZGl2IHB7Y29sb3I6IzMzMzt9I2dyYXBoLWRpdiBkaXYubWVybWFpZFRvb2x0aXB7cG9zaXRpb246YWJzb2x1dGU7dGV4dC1hbGlnbjpjZW50ZXI7bWF4LXdpZHRoOjIwMHB4O3BhZGRpbmc6MnB4O2ZvbnQtZmFtaWx5OiJ0cmVidWNoZXQgbXMiLHZlcmRhbmEsYXJpYWwsc2Fucy1zZXJpZjtmb250LXNpemU6MTJweDtiYWNrZ3JvdW5kOmhzbCg4MCwgMTAwJSwgOTYuMjc0NTA5ODAzOSUpO2JvcmRlcjoxcHggc29saWQgI2FhYWEzMztib3JkZXItcmFkaXVzOjJweDtwb2ludGVyLWV2ZW50czpub25lO3otaW5kZXg6MTAwO30jZ3JhcGgtZGl2IC5mbG93Y2hhcnRUaXRsZVRleHR7dGV4dC1hbmNob3I6bWlkZGxlO2ZvbnQtc2l6ZToxOHB4O2ZpbGw6IzMzMzt9I2dyYXBoLWRpdiA6cm9vdHstLW1lcm1haWQtZm9udC1mYW1pbHk6InRyZWJ1Y2hldCBtcyIsdmVyZGFuYSxhcmlhbCxzYW5zLXNlcmlmO308L3N0eWxlPjxnPjxtYXJrZXIgb3JpZW50PSJhdXRvIiBtYXJrZXJIZWlnaHQ9IjEyIiBtYXJrZXJXaWR0aD0iMTIiIG1hcmtlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgcmVmWT0iNSIgcmVmWD0iNiIgdmlld0JveD0iMCAwIDEwIDEwIiBjbGFzcz0ibWFya2VyIGZsb3djaGFydCIgaWQ9ImdyYXBoLWRpdl9mbG93Y2hhcnQtcG9pbnRFbmQiPjxwYXRoIHN0eWxlPSJzdHJva2Utd2lkdGg6IDE7IHN0cm9rZS1kYXNoYXJyYXk6IDEsIDA7IiBjbGFzcz0iYXJyb3dNYXJrZXJQYXRoIiBkPSJNIDAgMCBMIDEwIDUgTCAwIDEwIHoiPjwvcGF0aD48L21hcmtlcj48bWFya2VyIG9yaWVudD0iYXV0byIgbWFya2VySGVpZ2h0PSIxMiIgbWFya2VyV2lkdGg9IjEyIiBtYXJrZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIHJlZlk9IjUiIHJlZlg9IjQuNSIgdmlld0JveD0iMCAwIDEwIDEwIiBjbGFzcz0ibWFya2VyIGZsb3djaGFydCIgaWQ9ImdyYXBoLWRpdl9mbG93Y2hhcnQtcG9pbnRTdGFydCI+PHBhdGggc3R5bGU9InN0cm9rZS13aWR0aDogMTsgc3Ryb2tlLWRhc2hhcnJheTogMSwgMDsiIGNsYXNzPSJhcnJvd01hcmtlclBhdGgiIGQ9Ik0gMCA1IEwgMTAgMTAgTCAxMCAwIHoiPjwvcGF0aD48L21hcmtlcj48bWFya2VyIG9yaWVudD0iYXV0byIgbWFya2VySGVpZ2h0PSIxMSIgbWFya2VyV2lkdGg9IjExIiBtYXJrZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIHJlZlk9IjUiIHJlZlg9IjExIiB2aWV3Qm94PSIwIDAgMTAgMTAiIGNsYXNzPSJtYXJrZXIgZmxvd2NoYXJ0IiBpZD0iZ3JhcGgtZGl2X2Zsb3djaGFydC1jaXJjbGVFbmQiPjxjaXJjbGUgc3R5bGU9InN0cm9rZS13aWR0aDogMTsgc3Ryb2tlLWRhc2hhcnJheTogMSwgMDsiIGNsYXNzPSJhcnJvd01hcmtlclBhdGgiIHI9IjUiIGN5PSI1IiBjeD0iNSI+PC9jaXJjbGU+PC9tYXJrZXI+PG1hcmtlciBvcmllbnQ9ImF1dG8iIG1hcmtlckhlaWdodD0iMTEiIG1hcmtlcldpZHRoPSIxMSIgbWFya2VyVW5pdHM9InVzZXJTcGFjZU9uVXNlIiByZWZZPSI1IiByZWZYPSItMSIgdmlld0JveD0iMCAwIDEwIDEwIiBjbGFzcz0ibWFya2VyIGZsb3djaGFydCIgaWQ9ImdyYXBoLWRpdl9mbG93Y2hhcnQtY2lyY2xlU3RhcnQiPjxjaXJjbGUgc3R5bGU9InN0cm9rZS13aWR0aDogMTsgc3Ryb2tlLWRhc2hhcnJheTogMSwgMDsiIGNsYXNzPSJhcnJvd01hcmtlclBhdGgiIHI9IjUiIGN5PSI1IiBjeD0iNSI+PC9jaXJjbGU+PC9tYXJrZXI+PG1hcmtlciBvcmllbnQ9ImF1dG8iIG1hcmtlckhlaWdodD0iMTEiIG1hcmtlcldpZHRoPSIxMSIgbWFya2VyVW5pdHM9InVzZXJTcGFjZU9uVXNlIiByZWZZPSI1LjIiIHJlZlg9IjEyIiB2aWV3Qm94PSIwIDAgMTEgMTEiIGNsYXNzPSJtYXJrZXIgY3Jvc3MgZmxvd2NoYXJ0IiBpZD0iZ3JhcGgtZGl2X2Zsb3djaGFydC1jcm9zc0VuZCI+PHBhdGggc3R5bGU9InN0cm9rZS13aWR0aDogMjsgc3Ryb2tlLWRhc2hhcnJheTogMSwgMDsiIGNsYXNzPSJhcnJvd01hcmtlclBhdGgiIGQ9Ik0gMSwxIGwgOSw5IE0gMTAsMSBsIC05LDkiPjwvcGF0aD48L21hcmtlcj48bWFya2VyIG9yaWVudD0iYXV0byIgbWFya2VySGVpZ2h0PSIxMSIgbWFya2VyV2lkdGg9IjExIiBtYXJrZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIHJlZlk9IjUuMiIgcmVmWD0iLTEiIHZpZXdCb3g9IjAgMCAxMSAxMSIgY2xhc3M9Im1hcmtlciBjcm9zcyBmbG93Y2hhcnQiIGlkPSJncmFwaC1kaXZfZmxvd2NoYXJ0LWNyb3NzU3RhcnQiPjxwYXRoIHN0eWxlPSJzdHJva2Utd2lkdGg6IDI7IHN0cm9rZS1kYXNoYXJyYXk6IDEsIDA7IiBjbGFzcz0iYXJyb3dNYXJrZXJQYXRoIiBkPSJNIDEsMSBsIDksOSBNIDEwLDEgbCAtOSw5Ij48L3BhdGg+PC9tYXJrZXI+PGcgY2xhc3M9InJvb3QiPjxnIGNsYXNzPSJjbHVzdGVycyI+PC9nPjxnIGNsYXNzPSJlZGdlUGF0aHMiPjxwYXRoIHN0eWxlPSJmaWxsOm5vbmU7IiBjbGFzcz0iZWRnZS10aGlja25lc3Mtbm9ybWFsIGVkZ2UtcGF0dGVybi1zb2xpZCBmbG93Y2hhcnQtbGluayBMUy1lbmVyZ3kgTEUtbWVjaGFuaWNhbF9lbmVyZ3kiIGlkPSJMLWVuZXJneS1tZWNoYW5pY2FsX2VuZXJneS0wIiBkPSJNMTAxNi4xOTksNDAuMTk5TDkyMS41NDQsNDguMTY2QzgyNi44ODksNTYuMTMzLDYzNy41NzksNzIuMDY2LDU0Mi45MjQsODQuMkM0NDguMjcsOTYuMzMzLDQ0OC4yNywxMDQuNjY3LDQ0OC4yNywxMDguODMzTDQ0OC4yNywxMTMiPjwvcGF0aD48cGF0aCBzdHlsZT0iZmlsbDpub25lOyIgY2xhc3M9ImVkZ2UtdGhpY2tuZXNzLW5vcm1hbCBlZGdlLXBhdHRlcm4tc29saWQgZmxvd2NoYXJ0LWxpbmsgTFMtbWVjaGFuaWNhbF9lbmVyZ3kgTEUtcG90ZW50aWFsX2VuZXJneSIgaWQ9IkwtbWVjaGFuaWNhbF9lbmVyZ3ktcG90ZW50aWFsX2VuZXJneS0wIiBkPSJNNDA3LjQ1OSwxNTJMMzk4LjczOCwxNTYuMTY3QzM5MC4wMTgsMTYwLjMzMywzNzIuNTc3LDE2OC42NjcsMzYzLjg1NywxNzlDMzU1LjEzNywxODkuMzMzLDM1NS4xMzcsMjAxLjY2NywzNTUuMTM3LDIwNy44MzNMMzU1LjEzNywyMTQiPjwvcGF0aD48cGF0aCBzdHlsZT0iZmlsbDpub25lOyIgY2xhc3M9ImVkZ2UtdGhpY2tuZXNzLW5vcm1hbCBlZGdlLXBhdHRlcm4tc29saWQgZmxvd2NoYXJ0LWxpbmsgTFMtcG90ZW50aWFsX2VuZXJneSBMRS1ncmF2aXRhdGlvbmFsX3BvdGVudGlhbF9lbmVyZ3kiIGlkPSJMLXBvdGVudGlhbF9lbmVyZ3ktZ3Jhdml0YXRpb25hbF9wb3RlbnRpYWxfZW5lcmd5LTAiIGQ9Ik0yODguNjM1LDI1M0wyNjcuNjA1LDI1OS4xNjdDMjQ2LjU3NSwyNjUuMzMzLDIwNC41MTQsMjc3LjY2NywxODMuNDgzLDI4OEMxNjIuNDUzLDI5OC4zMzMsMTYyLjQ1MywzMDYuNjY3LDE2Mi40NTMsMzEwLjgzM0wxNjIuNDUzLDMxNSI+PC9wYXRoPjxwYXRoIHN0eWxlPSJmaWxsOm5vbmU7IiBjbGFzcz0iZWRnZS10aGlja25lc3Mtbm9ybWFsIGVkZ2UtcGF0dGVybi1zb2xpZCBmbG93Y2hhcnQtbGluayBMUy1wb3RlbnRpYWxfZW5lcmd5IExFLWVsYXN0aWNfcG90ZW50aWFsX2VuZXJneSIgaWQ9IkwtcG90ZW50aWFsX2VuZXJneS1lbGFzdGljX3BvdGVudGlhbF9lbmVyZ3ktMCIgZD0iTTQyMS42MzgsMjUzTDQ0Mi42NjgsMjU5LjE2N0M0NjMuNjk5LDI2NS4zMzMsNTA1Ljc2LDI3Ny42NjcsNTI2Ljc5LDI4OEM1NDcuODIsMjk4LjMzMyw1NDcuODIsMzA2LjY2Nyw1NDcuODIsMzEwLjgzM0w1NDcuODIsMzE1Ij48L3BhdGg+PHBhdGggc3R5bGU9ImZpbGw6bm9uZTsiIGNsYXNzPSJlZGdlLXRoaWNrbmVzcy1ub3JtYWwgZWRnZS1wYXR0ZXJuLXNvbGlkIGZsb3djaGFydC1saW5rIExTLW1lY2hhbmljYWxfZW5lcmd5IExFLWtpbmV0aWNfZW5lcmd5IiBpZD0iTC1tZWNoYW5pY2FsX2VuZXJneS1raW5ldGljX2VuZXJneS0wIiBkPSJNNTI0Ljg0OCwxNDYuNTQ0TDU1Mi41MjcsMTUxLjYyQzU4MC4yMDYsMTU2LjY5Niw2MzUuNTY0LDE2Ni44NDgsNjYzLjI0MywxNzYuMDkxQzY5MC45MjIsMTg1LjMzMyw2OTAuOTIyLDE5My42NjcsNjkwLjkyMiwxOTcuODMzTDY5MC45MjIsMjAyIj48L3BhdGg+PHBhdGggc3R5bGU9ImZpbGw6bm9uZTsiIGNsYXNzPSJlZGdlLXRoaWNrbmVzcy1ub3JtYWwgZWRnZS1wYXR0ZXJuLXNvbGlkIGZsb3djaGFydC1saW5rIExTLWVuZXJneSBMRS1lbnRoYWxweSIgaWQ9IkwtZW5lcmd5LWVudGhhbHB5LTAiIGQ9Ik0xMTE5LjU1OSw2M0wxMTE5LjU1OSw2Ny4xNjdDMTExOS41NTksNzEuMzMzLDExMTkuNTU5LDc5LjY2NywxMTE5LjU1OSw4OEMxMTE5LjU1OSw5Ni4zMzMsMTExOS41NTksMTA0LjY2NywxMTE5LjU1OSwxMDguODMzTDExMTkuNTU5LDExMyI+PC9wYXRoPjxwYXRoIHN0eWxlPSJmaWxsOm5vbmU7IiBjbGFzcz0iZWRnZS10aGlja25lc3Mtbm9ybWFsIGVkZ2UtcGF0dGVybi1zb2xpZCBmbG93Y2hhcnQtbGluayBMUy1lbnRoYWxweSBMRS1pbnRlcm5hbF9lbmVyZ3kiIGlkPSJMLWVudGhhbHB5LWludGVybmFsX2VuZXJneS0wIiBkPSJNMTA4MC44MTYsMTQzLjM5M0wxMDYwLjg5NSwxNDguOTk0QzEwNDAuOTc0LDE1NC41OTUsMTAwMS4xMzIsMTY1Ljc5OCw5ODEuMjEsMTc3LjU2NUM5NjEuMjg5LDE4OS4zMzMsOTYxLjI4OSwyMDEuNjY3LDk2MS4yODksMjA3LjgzM0w5NjEuMjg5LDIxNCI+PC9wYXRoPjxwYXRoIHN0eWxlPSJmaWxsOm5vbmU7IiBjbGFzcz0iZWRnZS10aGlja25lc3Mtbm9ybWFsIGVkZ2UtcGF0dGVybi1zb2xpZCBmbG93Y2hhcnQtbGluayBMUy1pbnRlcm5hbF9lbmVyZ3kgTEUtSGVsbWhvbHR6X2VuZXJneSIgaWQ9IkwtaW50ZXJuYWxfZW5lcmd5LUhlbG1ob2x0el9lbmVyZ3ktMCIgZD0iTTk2MS4yODksMjUzTDk2MS4yODksMjU5LjE2N0M5NjEuMjg5LDI2NS4zMzMsOTYxLjI4OSwyNzcuNjY3LDk2MS4yODksMjkwQzk2MS4yODksMzAyLjMzMyw5NjEuMjg5LDMxNC42NjcsOTYxLjI4OSwzMjAuODMzTDk2MS4yODksMzI3Ij48L3BhdGg+PHBhdGggc3R5bGU9ImZpbGw6bm9uZTsiIGNsYXNzPSJlZGdlLXRoaWNrbmVzcy1ub3JtYWwgZWRnZS1wYXR0ZXJuLXNvbGlkIGZsb3djaGFydC1saW5rIExTLWVudGhhbHB5IExFLUdpYmJzX2VuZXJneSIgaWQ9IkwtZW50aGFscHktR2liYnNfZW5lcmd5LTAiIGQ9Ik0xMTU4LjMwMSwxNDMuMzkzTDExNzguMjIyLDE0OC45OTRDMTE5OC4xNDMsMTU0LjU5NSwxMjM3Ljk4NiwxNjUuNzk4LDEyNTcuOTA3LDE3Ny41NjVDMTI3Ny44MjgsMTg5LjMzMywxMjc3LjgyOCwyMDEuNjY3LDEyNzcuODI4LDIwNy44MzNMMTI3Ny44MjgsMjE0Ij48L3BhdGg+PHBhdGggc3R5bGU9ImZpbGw6bm9uZTsiIGNsYXNzPSJlZGdlLXRoaWNrbmVzcy1ub3JtYWwgZWRnZS1wYXR0ZXJuLXNvbGlkIGZsb3djaGFydC1saW5rIExTLWVuZXJneSBMRS1hY3RpdmVfZW5lcmd5IiBpZD0iTC1lbmVyZ3ktYWN0aXZlX2VuZXJneS0wIiBkPSJNMTIwMS4yNCw2M0wxMjEyLjA0NCw2Ny4xNjdDMTIyMi44NDksNzEuMzMzLDEyNDQuNDU4LDc5LjY2NywxMjU1LjI2Miw4OEMxMjY2LjA2Niw5Ni4zMzMsMTI2Ni4wNjYsMTA0LjY2NywxMjY2LjA2NiwxMDguODMzTDEyNjYuMDY2LDExMyI+PC9wYXRoPjwvZz48ZyBjbGFzcz0iZWRnZUxhYmVscyI+PGcgY2xhc3M9ImVkZ2VMYWJlbCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwgMCkiIGNsYXNzPSJsYWJlbCI+PGZvcmVpZ25PYmplY3QgaGVpZ2h0PSIwIiB3aWR0aD0iMCI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aGl0ZS1zcGFjZTogbm93cmFwOyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPjxzcGFuIGNsYXNzPSJlZGdlTGFiZWwiPjwvc3Bhbj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjwvZz48ZyBjbGFzcz0iZWRnZUxhYmVsIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLCAwKSIgY2xhc3M9ImxhYmVsIj48Zm9yZWlnbk9iamVjdCBoZWlnaHQ9IjAiIHdpZHRoPSIwIj48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdoaXRlLXNwYWNlOiBub3dyYXA7IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCI+PHNwYW4gY2xhc3M9ImVkZ2VMYWJlbCI+PC9zcGFuPjwvZGl2PjwvZm9yZWlnbk9iamVjdD48L2c+PC9nPjxnIGNsYXNzPSJlZGdlTGFiZWwiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsIDApIiBjbGFzcz0ibGFiZWwiPjxmb3JlaWduT2JqZWN0IGhlaWdodD0iMCIgd2lkdGg9IjAiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgd2hpdGUtc3BhY2U6IG5vd3JhcDsiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIj48c3BhbiBjbGFzcz0iZWRnZUxhYmVsIj48L3NwYW4+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjwvZz48L2c+PGcgY2xhc3M9ImVkZ2VMYWJlbCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwgMCkiIGNsYXNzPSJsYWJlbCI+PGZvcmVpZ25PYmplY3QgaGVpZ2h0PSIwIiB3aWR0aD0iMCI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aGl0ZS1zcGFjZTogbm93cmFwOyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPjxzcGFuIGNsYXNzPSJlZGdlTGFiZWwiPjwvc3Bhbj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjwvZz48ZyBjbGFzcz0iZWRnZUxhYmVsIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLCAwKSIgY2xhc3M9ImxhYmVsIj48Zm9yZWlnbk9iamVjdCBoZWlnaHQ9IjAiIHdpZHRoPSIwIj48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdoaXRlLXNwYWNlOiBub3dyYXA7IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCI+PHNwYW4gY2xhc3M9ImVkZ2VMYWJlbCI+PC9zcGFuPjwvZGl2PjwvZm9yZWlnbk9iamVjdD48L2c+PC9nPjxnIGNsYXNzPSJlZGdlTGFiZWwiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsIDApIiBjbGFzcz0ibGFiZWwiPjxmb3JlaWduT2JqZWN0IGhlaWdodD0iMCIgd2lkdGg9IjAiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgd2hpdGUtc3BhY2U6IG5vd3JhcDsiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIj48c3BhbiBjbGFzcz0iZWRnZUxhYmVsIj48L3NwYW4+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjwvZz48L2c+PGcgY2xhc3M9ImVkZ2VMYWJlbCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwgMCkiIGNsYXNzPSJsYWJlbCI+PGZvcmVpZ25PYmplY3QgaGVpZ2h0PSIwIiB3aWR0aD0iMCI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aGl0ZS1zcGFjZTogbm93cmFwOyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPjxzcGFuIGNsYXNzPSJlZGdlTGFiZWwiPjwvc3Bhbj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjwvZz48ZyBjbGFzcz0iZWRnZUxhYmVsIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLCAwKSIgY2xhc3M9ImxhYmVsIj48Zm9yZWlnbk9iamVjdCBoZWlnaHQ9IjAiIHdpZHRoPSIwIj48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdoaXRlLXNwYWNlOiBub3dyYXA7IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCI+PHNwYW4gY2xhc3M9ImVkZ2VMYWJlbCI+PC9zcGFuPjwvZGl2PjwvZm9yZWlnbk9iamVjdD48L2c+PC9nPjxnIGNsYXNzPSJlZGdlTGFiZWwiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsIDApIiBjbGFzcz0ibGFiZWwiPjxmb3JlaWduT2JqZWN0IGhlaWdodD0iMCIgd2lkdGg9IjAiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgd2hpdGUtc3BhY2U6IG5vd3JhcDsiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIj48c3BhbiBjbGFzcz0iZWRnZUxhYmVsIj48L3NwYW4+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjwvZz48L2c+PGcgY2xhc3M9ImVkZ2VMYWJlbCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwgMCkiIGNsYXNzPSJsYWJlbCI+PGZvcmVpZ25PYmplY3QgaGVpZ2h0PSIwIiB3aWR0aD0iMCI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aGl0ZS1zcGFjZTogbm93cmFwOyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPjxzcGFuIGNsYXNzPSJlZGdlTGFiZWwiPjwvc3Bhbj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjwvZz48L2c+PGcgY2xhc3M9Im5vZGVzIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTE5LjU1ODU5Mzc1LCAzMS41KSIgaWQ9ImZsb3djaGFydC1lbmVyZ3ktMzE3IiBjbGFzcz0ibm9kZSBkZWZhdWx0IGRlZmF1bHQgZmxvd2NoYXJ0LWxhYmVsIj48cmVjdCBoZWlnaHQ9IjYzIiB3aWR0aD0iMjA2LjcxODc1IiB5PSItMzEuNSIgeD0iLTEwMy4zNTkzNzUiIHJ5PSIwIiByeD0iMCIgc3R5bGU9IiIgY2xhc3M9ImJhc2ljIGxhYmVsLWNvbnRhaW5lciI+PC9yZWN0PjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC05NS44NTkzNzUsIC0yNCkiIHN0eWxlPSIiIGNsYXNzPSJsYWJlbCI+PHJlY3Q+PC9yZWN0Pjxmb3JlaWduT2JqZWN0IGhlaWdodD0iNDgiIHdpZHRoPSIxOTEuNzE4NzUiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgd2hpdGUtc3BhY2U6IG5vd3JhcDsiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIj48c3BhbiBjbGFzcz0ibm9kZUxhYmVsIj5lbmVyZ3k8YnIvPihtYXNzICogbGVuZ3RoXjIgLyB0aW1lXjIpPC9zcGFuPjwvZGl2PjwvZm9yZWlnbk9iamVjdD48L2c+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQ0OC4yNjk1MzEyNSwgMTMyLjUpIiBpZD0iZmxvd2NoYXJ0LW1lY2hhbmljYWxfZW5lcmd5LTMxOSIgY2xhc3M9Im5vZGUgZGVmYXVsdCBkZWZhdWx0IGZsb3djaGFydC1sYWJlbCI+PHJlY3QgaGVpZ2h0PSIzOSIgd2lkdGg9IjE1My4xNTYyNSIgeT0iLTE5LjUiIHg9Ii03Ni41NzgxMjUiIHJ5PSIwIiByeD0iMCIgc3R5bGU9IiIgY2xhc3M9ImJhc2ljIGxhYmVsLWNvbnRhaW5lciI+PC9yZWN0PjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02OS4wNzgxMjUsIC0xMikiIHN0eWxlPSIiIGNsYXNzPSJsYWJlbCI+PHJlY3Q+PC9yZWN0Pjxmb3JlaWduT2JqZWN0IGhlaWdodD0iMjQiIHdpZHRoPSIxMzguMTU2MjUiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgd2hpdGUtc3BhY2U6IG5vd3JhcDsiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIj48c3BhbiBjbGFzcz0ibm9kZUxhYmVsIj5tZWNoYW5pY2FsX2VuZXJneTwvc3Bhbj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNTUuMTM2NzE4NzUsIDIzMy41KSIgaWQ9ImZsb3djaGFydC1wb3RlbnRpYWxfZW5lcmd5LTMyMSIgY2xhc3M9Im5vZGUgZGVmYXVsdCBkZWZhdWx0IGZsb3djaGFydC1sYWJlbCI+PHJlY3QgaGVpZ2h0PSIzOSIgd2lkdGg9IjEzNy4wNzgxMjUiIHk9Ii0xOS41IiB4PSItNjguNTM5MDYyNSIgcnk9IjAiIHJ4PSIwIiBzdHlsZT0iIiBjbGFzcz0iYmFzaWMgbGFiZWwtY29udGFpbmVyIj48L3JlY3Q+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTYxLjAzOTA2MjUsIC0xMikiIHN0eWxlPSIiIGNsYXNzPSJsYWJlbCI+PHJlY3Q+PC9yZWN0Pjxmb3JlaWduT2JqZWN0IGhlaWdodD0iMjQiIHdpZHRoPSIxMjIuMDc4MTI1Ij48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdoaXRlLXNwYWNlOiBub3dyYXA7IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCI+PHNwYW4gY2xhc3M9Im5vZGVMYWJlbCI+cG90ZW50aWFsX2VuZXJneTwvc3Bhbj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNjIuNDUzMTI1LCAzNDYuNSkiIGlkPSJmbG93Y2hhcnQtZ3Jhdml0YXRpb25hbF9wb3RlbnRpYWxfZW5lcmd5LTMyMyIgY2xhc3M9Im5vZGUgZGVmYXVsdCBkZWZhdWx0IGZsb3djaGFydC1sYWJlbCI+PHJlY3QgaGVpZ2h0PSI2MyIgd2lkdGg9IjMyNC45MDYyNSIgeT0iLTMxLjUiIHg9Ii0xNjIuNDUzMTI1IiByeT0iMCIgcng9IjAiIHN0eWxlPSIiIGNsYXNzPSJiYXNpYyBsYWJlbC1jb250YWluZXIiPjwvcmVjdD48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTU0Ljk1MzEyNSwgLTI0KSIgc3R5bGU9IiIgY2xhc3M9ImxhYmVsIj48cmVjdD48L3JlY3Q+PGZvcmVpZ25PYmplY3QgaGVpZ2h0PSI0OCIgd2lkdGg9IjMwOS45MDYyNSI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aGl0ZS1zcGFjZTogbm93cmFwOyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPjxzcGFuIGNsYXNzPSJub2RlTGFiZWwiPmdyYXZpdGF0aW9uYWxfcG90ZW50aWFsX2VuZXJneTxici8+KG1hc3MgLyBhY2NlbGVyYXRpb25fb2ZfZnJlZV9mYWxsIC8gaGVpZ2h0KTwvc3Bhbj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1NDcuODIwMzEyNSwgMzQ2LjUpIiBpZD0iZmxvd2NoYXJ0LWVsYXN0aWNfcG90ZW50aWFsX2VuZXJneS0zMjUiIGNsYXNzPSJub2RlIGRlZmF1bHQgZGVmYXVsdCBmbG93Y2hhcnQtbGFiZWwiPjxyZWN0IGhlaWdodD0iNjMiIHdpZHRoPSIzNDUuODI4MTI1IiB5PSItMzEuNSIgeD0iLTE3Mi45MTQwNjI1IiByeT0iMCIgcng9IjAiIHN0eWxlPSIiIGNsYXNzPSJiYXNpYyBsYWJlbC1jb250YWluZXIiPjwvcmVjdD48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTY1LjQxNDA2MjUsIC0yNCkiIHN0eWxlPSIiIGNsYXNzPSJsYWJlbCI+PHJlY3Q+PC9yZWN0Pjxmb3JlaWduT2JqZWN0IGhlaWdodD0iNDgiIHdpZHRoPSIzMzAuODI4MTI1Ij48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdoaXRlLXNwYWNlOiBub3dyYXA7IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCI+PHNwYW4gY2xhc3M9Im5vZGVMYWJlbCI+ZWxhc3RpY19wb3RlbnRpYWxfZW5lcmd5PGJyLz4oc3ByaW5nX2NvbnN0YW50ICogYW1vdW50X29mX2NvbXByZXNzaW9uXjIpPC9zcGFuPjwvZGl2PjwvZm9yZWlnbk9iamVjdD48L2c+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDY5MC45MjE4NzUsIDIzMy41KSIgaWQ9ImZsb3djaGFydC1raW5ldGljX2VuZXJneS0zMjciIGNsYXNzPSJub2RlIGRlZmF1bHQgZGVmYXVsdCBmbG93Y2hhcnQtbGFiZWwiPjxyZWN0IGhlaWdodD0iNjMiIHdpZHRoPSIxMzUuNDUzMTI1IiB5PSItMzEuNSIgeD0iLTY3LjcyNjU2MjUiIHJ5PSIwIiByeD0iMCIgc3R5bGU9IiIgY2xhc3M9ImJhc2ljIGxhYmVsLWNvbnRhaW5lciI+PC9yZWN0PjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02MC4yMjY1NjI1LCAtMjQpIiBzdHlsZT0iIiBjbGFzcz0ibGFiZWwiPjxyZWN0PjwvcmVjdD48Zm9yZWlnbk9iamVjdCBoZWlnaHQ9IjQ4IiB3aWR0aD0iMTIwLjQ1MzEyNSI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aGl0ZS1zcGFjZTogbm93cmFwOyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPjxzcGFuIGNsYXNzPSJub2RlTGFiZWwiPmtpbmV0aWNfZW5lcmd5PGJyLz4obWFzcyAqIHNwZWVkXjIpPC9zcGFuPjwvZGl2PjwvZm9yZWlnbk9iamVjdD48L2c+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDExMTkuNTU4NTkzNzUsIDEzMi41KSIgaWQ9ImZsb3djaGFydC1lbnRoYWxweS0zMjkiIGNsYXNzPSJub2RlIGRlZmF1bHQgZGVmYXVsdCBmbG93Y2hhcnQtbGFiZWwiPjxyZWN0IGhlaWdodD0iMzkiIHdpZHRoPSI3Ny40ODQzNzUiIHk9Ii0xOS41IiB4PSItMzguNzQyMTg3NSIgcnk9IjAiIHJ4PSIwIiBzdHlsZT0iIiBjbGFzcz0iYmFzaWMgbGFiZWwtY29udGFpbmVyIj48L3JlY3Q+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMxLjI0MjE4NzUsIC0xMikiIHN0eWxlPSIiIGNsYXNzPSJsYWJlbCI+PHJlY3Q+PC9yZWN0Pjxmb3JlaWduT2JqZWN0IGhlaWdodD0iMjQiIHdpZHRoPSI2Mi40ODQzNzUiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgd2hpdGUtc3BhY2U6IG5vd3JhcDsiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIj48c3BhbiBjbGFzcz0ibm9kZUxhYmVsIj5lbnRoYWxweTwvc3Bhbj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5NjEuMjg5MDYyNSwgMjMzLjUpIiBpZD0iZmxvd2NoYXJ0LWludGVybmFsX2VuZXJneS0zMzEiIGNsYXNzPSJub2RlIGRlZmF1bHQgZGVmYXVsdCBmbG93Y2hhcnQtbGFiZWwiPjxyZWN0IGhlaWdodD0iMzkiIHdpZHRoPSIzMDUuMjgxMjUiIHk9Ii0xOS41IiB4PSItMTUyLjY0MDYyNSIgcnk9IjAiIHJ4PSIwIiBzdHlsZT0iIiBjbGFzcz0iYmFzaWMgbGFiZWwtY29udGFpbmVyIj48L3JlY3Q+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE0NS4xNDA2MjUsIC0xMikiIHN0eWxlPSIiIGNsYXNzPSJsYWJlbCI+PHJlY3Q+PC9yZWN0Pjxmb3JlaWduT2JqZWN0IGhlaWdodD0iMjQiIHdpZHRoPSIyOTAuMjgxMjUiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgd2hpdGUtc3BhY2U6IG5vd3JhcDsiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIj48c3BhbiBjbGFzcz0ibm9kZUxhYmVsIj5pbnRlcm5hbF9lbmVyZ3ksIHRoZXJtb2R5bmFtaWNfZW5lcmd5PC9zcGFuPjwvZGl2PjwvZm9yZWlnbk9iamVjdD48L2c+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDk2MS4yODkwNjI1LCAzNDYuNSkiIGlkPSJmbG93Y2hhcnQtSGVsbWhvbHR6X2VuZXJneS0zMzMiIGNsYXNzPSJub2RlIGRlZmF1bHQgZGVmYXVsdCBmbG93Y2hhcnQtbGFiZWwiPjxyZWN0IGhlaWdodD0iMzkiIHdpZHRoPSIyOTQuNzgxMjUiIHk9Ii0xOS41IiB4PSItMTQ3LjM5MDYyNSIgcnk9IjAiIHJ4PSIwIiBzdHlsZT0iIiBjbGFzcz0iYmFzaWMgbGFiZWwtY29udGFpbmVyIj48L3JlY3Q+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEzOS44OTA2MjUsIC0xMikiIHN0eWxlPSIiIGNsYXNzPSJsYWJlbCI+PHJlY3Q+PC9yZWN0Pjxmb3JlaWduT2JqZWN0IGhlaWdodD0iMjQiIHdpZHRoPSIyNzkuNzgxMjUiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgd2hpdGUtc3BhY2U6IG5vd3JhcDsiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIj48c3BhbiBjbGFzcz0ibm9kZUxhYmVsIj5IZWxtaG9sdHpfZW5lcmd5LCBIZWxtaG9sdHpfZnVuY3Rpb248L3NwYW4+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjwvZz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTI3Ny44MjgxMjUsIDIzMy41KSIgaWQ9ImZsb3djaGFydC1HaWJic19lbmVyZ3ktMzM1IiBjbGFzcz0ibm9kZSBkZWZhdWx0IGRlZmF1bHQgZmxvd2NoYXJ0LWxhYmVsIj48cmVjdCBoZWlnaHQ9IjM5IiB3aWR0aD0iMjI3Ljc5Njg3NSIgeT0iLTE5LjUiIHg9Ii0xMTMuODk4NDM3NSIgcnk9IjAiIHJ4PSIwIiBzdHlsZT0iIiBjbGFzcz0iYmFzaWMgbGFiZWwtY29udGFpbmVyIj48L3JlY3Q+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEwNi4zOTg0Mzc1LCAtMTIpIiBzdHlsZT0iIiBjbGFzcz0ibGFiZWwiPjxyZWN0PjwvcmVjdD48Zm9yZWlnbk9iamVjdCBoZWlnaHQ9IjI0IiB3aWR0aD0iMjEyLjc5Njg3NSI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aGl0ZS1zcGFjZTogbm93cmFwOyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPjxzcGFuIGNsYXNzPSJub2RlTGFiZWwiPkdpYmJzX2VuZXJneSwgR2liYnNfZnVuY3Rpb248L3NwYW4+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjwvZz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTI2Ni4wNjY0MDYyNSwgMTMyLjUpIiBpZD0iZmxvd2NoYXJ0LWFjdGl2ZV9lbmVyZ3ktMzM3IiBjbGFzcz0ibm9kZSBkZWZhdWx0IGRlZmF1bHQgZmxvd2NoYXJ0LWxhYmVsIj48cmVjdCBoZWlnaHQ9IjM5IiB3aWR0aD0iMTE1LjUzMTI1IiB5PSItMTkuNSIgeD0iLTU3Ljc2NTYyNSIgcnk9IjAiIHJ4PSIwIiBzdHlsZT0iIiBjbGFzcz0iYmFzaWMgbGFiZWwtY29udGFpbmVyIj48L3JlY3Q+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTUwLjI2NTYyNSwgLTEyKSIgc3R5bGU9IiIgY2xhc3M9ImxhYmVsIj48cmVjdD48L3JlY3Q+PGZvcmVpZ25PYmplY3QgaGVpZ2h0PSIyNCIgd2lkdGg9IjEwMC41MzEyNSI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aGl0ZS1zcGFjZTogbm93cmFwOyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPjxzcGFuIGNsYXNzPSJub2RlTGFiZWwiPmFjdGl2ZV9lbmVyZ3k8L3NwYW4+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjwvZz48L2c+PC9nPjwvZz48L2c+PC9zdmc+" /></p>
<p>Notice, that even though all of those quantities have the same
dimension and can be expressed in the same units, they have different
quantity equations used to create them implicitly:</p>
<ul>
<li><p><code class="sourceCode default">energy</code> is the most
generic one and thus can be created from base quantities of
<code class="sourceCode default">mass</code>,
<code class="sourceCode default">length</code>, and
<code class="sourceCode default">time</code>. As those are also the
roots of quantities of their kinds and all other quantities are
implicitly convertible to them, it means that an
<code class="sourceCode default">energy</code> can be implicitly
constructed from any quantity having proper powers of mass, length, and
time.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>implicitly_convertible<span class="op">(</span>isq<span class="op">::</span>mass <span class="op">*</span> pow<span class="op">&lt;</span><span class="dv">2</span><span class="op">&gt;(</span>isq<span class="op">::</span>length<span class="op">)</span> <span class="op">/</span> pow<span class="op">&lt;</span><span class="dv">2</span><span class="op">&gt;(</span>isq<span class="op">::</span>time<span class="op">)</span>, isq<span class="op">::</span>energy<span class="op">))</span>;</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>implicitly_convertible<span class="op">(</span>isq<span class="op">::</span>mass <span class="op">*</span> pow<span class="op">&lt;</span><span class="dv">2</span><span class="op">&gt;(</span>isq<span class="op">::</span>height<span class="op">)</span> <span class="op">/</span> pow<span class="op">&lt;</span><span class="dv">2</span><span class="op">&gt;(</span>isq<span class="op">::</span>time<span class="op">)</span>, isq<span class="op">::</span>energy<span class="op">))</span>;</span></code></pre></div></li>
<li><p><code class="sourceCode default">mechanical_energy</code> is a
more “specialized” quantity than
<code class="sourceCode default">energy</code> (not every
<code class="sourceCode default">energy</code> is a
<code class="sourceCode default">mechanical_energy</code>). It is why an
explicit cast is needed to convert from either
<code class="sourceCode default">energy</code> or the results of its
quantity equation.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(!</span>implicitly_convertible<span class="op">(</span>isq<span class="op">::</span>energy, isq<span class="op">::</span>mechanical_energy<span class="op">))</span>;</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>explicitly_convertible<span class="op">(</span>isq<span class="op">::</span>energy, isq<span class="op">::</span>mechanical_energy<span class="op">))</span>;</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(!</span>implicitly_convertible<span class="op">(</span>isq<span class="op">::</span>mass <span class="op">*</span> pow<span class="op">&lt;</span><span class="dv">2</span><span class="op">&gt;(</span>isq<span class="op">::</span>length<span class="op">)</span> <span class="op">/</span> pow<span class="op">&lt;</span><span class="dv">2</span><span class="op">&gt;(</span>isq<span class="op">::</span>time<span class="op">)</span>, isq<span class="op">::</span>mechanical_energy<span class="op">))</span>;</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>explicitly_convertible<span class="op">(</span>isq<span class="op">::</span>mass <span class="op">*</span> pow<span class="op">&lt;</span><span class="dv">2</span><span class="op">&gt;(</span>isq<span class="op">::</span>length<span class="op">)</span> <span class="op">/</span> pow<span class="op">&lt;</span><span class="dv">2</span><span class="op">&gt;(</span>isq<span class="op">::</span>time<span class="op">)</span>, isq<span class="op">::</span>mechanical_energy<span class="op">))</span>;</span></code></pre></div></li>
<li><p><code class="sourceCode default">gravitational_potential_energy</code>
is not only even more specialized one but additionally, it is special in
a way that it provides its own “constrained” quantity equation. Maybe
not every <code class="sourceCode default">mass * pow&lt;2&gt;(length) / pow&lt;2&gt;(time)</code>
is a
<code class="sourceCode default">gravitational_potential_energy</code>,
but every <code class="sourceCode default">mass * acceleration_of_free_fall * height</code>
is.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(!</span>implicitly_convertible<span class="op">(</span>isq<span class="op">::</span>energy, gravitational_potential_energy<span class="op">))</span>;</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>explicitly_convertible<span class="op">(</span>isq<span class="op">::</span>energy, gravitational_potential_energy<span class="op">))</span>;</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(!</span>implicitly_convertible<span class="op">(</span>isq<span class="op">::</span>mass <span class="op">*</span> pow<span class="op">&lt;</span><span class="dv">2</span><span class="op">&gt;(</span>isq<span class="op">::</span>length<span class="op">)</span> <span class="op">/</span> pow<span class="op">&lt;</span><span class="dv">2</span><span class="op">&gt;(</span>isq<span class="op">::</span>time<span class="op">)</span>, gravitational_potential_energy<span class="op">))</span>;</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>explicitly_convertible<span class="op">(</span>isq<span class="op">::</span>mass <span class="op">*</span> pow<span class="op">&lt;</span><span class="dv">2</span><span class="op">&gt;(</span>isq<span class="op">::</span>length<span class="op">)</span> <span class="op">/</span> pow<span class="op">&lt;</span><span class="dv">2</span><span class="op">&gt;(</span>isq<span class="op">::</span>time<span class="op">)</span>, gravitational_potential_energy<span class="op">))</span>;</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>implicitly_convertible<span class="op">(</span>isq<span class="op">::</span>mass <span class="op">*</span> isq<span class="op">::</span>acceleration_of_free_fall <span class="op">*</span> isq<span class="op">::</span>height, gravitational_potential_energy<span class="op">))</span>;</span></code></pre></div></li>
</ul>
<h2 data-number="3.7" id="modeling-a-quantity-kind"><span class="header-section-number">3.7</span> Modeling a quantity kind<a href="#modeling-a-quantity-kind" class="self-link"></a></h2>
<p>In the physical units library, we also need an abstraction describing
an entire family of quantities of the same kind. Such quantities have
not only the same dimension but also can be expressed in the same
units.</p>
<p>To annotate a quantity to represent its kind (and not just a
hierarchy tree’s root quantity) in <span class="citation" data-cites="MP-UNITS">[<a href="#ref-MP-UNITS" role="doc-biblioref">mp-units</a>]</span> we introduced a
<code class="sourceCode default">kind_of&lt;&gt;</code> specifier. For
example, to express any quantity of length, we need to type
<code class="sourceCode default">kind_of&lt;isq::length&gt;</code>. Such
an entity behaves as any quantity of its kind. This means that it is
implicitly convertible to any quantity in a tree:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(!</span>implicitly_convertible<span class="op">(</span>isq<span class="op">::</span>length, isq<span class="op">::</span>height<span class="op">))</span>;</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>implicitly_convertible<span class="op">(</span>kind_of<span class="op">&lt;</span>isq<span class="op">::</span>length<span class="op">&gt;</span>, isq<span class="op">::</span>height<span class="op">))</span>;</span></code></pre></div>
<p>Additionally, the result of operations on quantity kinds is also a
quantity kind:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>same_type<span class="op">&lt;</span>kind_of<span class="op">&lt;</span>isq<span class="op">::</span>length<span class="op">&gt;</span> <span class="op">/</span> kind_of<span class="op">&lt;</span>isq<span class="op">::</span>time<span class="op">&gt;</span>, kind_of<span class="op">&lt;</span>isq<span class="op">::</span>length <span class="op">/</span> isq<span class="op">::</span>time<span class="op">&gt;&gt;)</span>;</span></code></pre></div>
<p>However, if at least one equation’s operand is not a quantity kind,
the result becomes a “strong” quantity where all the kinds are converted
to the hierarchy tree’s root quantities:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(!</span>same_type<span class="op">&lt;</span>kind_of<span class="op">&lt;</span>isq<span class="op">::</span>length<span class="op">&gt;</span> <span class="op">/</span> isq<span class="op">::</span>time, kind_of<span class="op">&lt;</span>isq<span class="op">::</span>length <span class="op">/</span> isq<span class="op">::</span>time<span class="op">&gt;&gt;)</span>;</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>same_type<span class="op">&lt;</span>kind_of<span class="op">&lt;</span>isq<span class="op">::</span>length<span class="op">&gt;</span> <span class="op">/</span> isq<span class="op">::</span>time, isq<span class="op">::</span>length <span class="op">/</span> isq<span class="op">::</span>time<span class="op">&gt;)</span>;</span></code></pre></div>
<p>Please note that only a root quantity from the hierarchy tree or the
one marked with <code class="sourceCode default">is_kind</code>
specifier in the <code class="sourceCode default">quantity_spec</code>
definition can be put as a template parameter to the
<code class="sourceCode default">kind_of</code> specifier. For example,
<code class="sourceCode default">kind_of&lt;isq::width&gt;</code> will
fail to compile.</p>
<h1 data-number="4" id="systems-of-units"><span class="header-section-number">4</span> Systems of units<a href="#systems-of-units" class="self-link"></a></h1>
<p>Modeling a system of units is the most important feature and a
selling point of every physical units library. Thanks to that, the
library can protect users from performing invalid operations on
quantities and provide automated conversion factors between various
compatible units.</p>
<p>Probably all the libraries in the wild model the <span class="citation" data-cites="SI">[<a href="#ref-SI" role="doc-biblioref">SI</a>]</span>, and many of them provide support
for additional units belonging to various other systems
(e.g. imperial).</p>
<h2 data-number="4.1" id="systems-of-units-are-based-on-systems-of-quantities"><span class="header-section-number">4.1</span> Systems of units are based on
systems of quantities<a href="#systems-of-units-are-based-on-systems-of-quantities" class="self-link"></a></h2>
<p>Systems of quantities specify a set of quantities and equations
relating to those quantities. Those equations do not take any unit or a
numerical representation into account at all. In order to create a
quantity, we need to add those missing pieces of information. This is
where a system of units kicks in.</p>
<p>The <span class="citation" data-cites="SI">[<a href="#ref-SI" role="doc-biblioref">SI</a>]</span> is explicitly stated to be based on
the ISQ. Among others, it defines seven base units, one for each base
quantity. In the <span class="citation" data-cites="MP-UNITS">[<a href="#ref-MP-UNITS" role="doc-biblioref">mp-units</a>]</span>, this is
expressed by associating a quantity kind with a unit that is used to
express it:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> metre <span class="op">:</span> named_unit<span class="op">&lt;</span><span class="st">&quot;m&quot;</span>, kind_of<span class="op">&lt;</span>isq<span class="op">::</span>length<span class="op">&gt;&gt;</span> <span class="op">{}</span> metre;</span></code></pre></div>
<p>The
<code class="sourceCode default">kind_of&lt;isq::length&gt;</code> above
states explicitly that this unit has an associated quantity kind. In
other words, <code class="sourceCode default">si::metre</code> (and
scaled units based on it) can be used to express the amount of any
quantity of kind length.</p>
<p>Associated units are so useful and common in the <span class="citation" data-cites="MP-UNITS">[<a href="#ref-MP-UNITS" role="doc-biblioref">mp-units</a>]</span> library that they got their
own concepts
<code class="sourceCode default">AssociatedUnit&lt;T&gt;</code> to
improve the interfaces.</p>
<p>Please note that for some systems of units (i.e. natural units) a
unit may not have an associated quantity type. For example, if we assume
speed of light constant <code class="sourceCode default">c = 1</code> we
can define a system where both length and time will be measured in
seconds and speed will be a quantity measured with the unit
<code class="sourceCode default">one</code>. In such case the definition
will look as follows:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> second <span class="op">:</span> named_unit<span class="op">&lt;</span><span class="st">&quot;s&quot;</span><span class="op">&gt;</span> <span class="op">{}</span> second;</span></code></pre></div>
<h2 data-number="4.2" id="units-compose"><span class="header-section-number">4.2</span> Units compose<a href="#units-compose" class="self-link"></a></h2>
<p>One of the strongest points of the <span class="citation" data-cites="SI">[<a href="#ref-SI" role="doc-biblioref">SI</a>]</span>
system is that its units compose. This allows providing thousands of
different units for hundreds of various quantities with a really small
set of predefined units and prefixes. For example, one can write:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>quantity<span class="op">&lt;</span>si<span class="op">::</span>metre <span class="op">/</span> si<span class="op">::</span>second<span class="op">&gt;</span> q;</span></code></pre></div>
<p>to express a quantity of speed. The resulting quantity type is
implicitly inferred from the unit equation by repeating exactly the same
operations on the associated quantity kinds.</p>
<p>Also, as units are regular values we can easily provide a helper
ad-hoc unit with:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="kw">constexpr</span> <span class="kw">auto</span> mps <span class="op">=</span> si<span class="op">::</span>metre <span class="op">/</span> si<span class="op">::</span>second;</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>quantity<span class="op">&lt;</span>mps<span class="op">&gt;</span> q;</span></code></pre></div>
<h2 data-number="4.3" id="many-shades-of-the-same-unit"><span class="header-section-number">4.3</span> Many shades of the same unit<a href="#many-shades-of-the-same-unit" class="self-link"></a></h2>
<p>The <span class="citation" data-cites="SI">[<a href="#ref-SI" role="doc-biblioref">SI</a>]</span> provides the names for 22 common
coherent units of 22 derived quantities.</p>
<p>Each such named derived unit is a result of a specific predefined
unit equation. For example, a unit of power quantity is defined as:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> watt <span class="op">:</span> named_unit<span class="op">&lt;</span><span class="st">&quot;W&quot;</span>, joule <span class="op">/</span> second<span class="op">&gt;</span> <span class="op">{}</span> watt;</span></code></pre></div>
<p>However, a power quantity can be expressed in other units as well.
For example, the following:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="kw">auto</span> q1 <span class="op">=</span> <span class="dv">42</span> <span class="op">*</span> W;</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>std<span class="op">::</span>cout <span class="op">&lt;&lt;</span> q1 <span class="op">&lt;&lt;</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>;</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>std<span class="op">::</span>cout <span class="op">&lt;&lt;</span> q1<span class="op">.</span>in<span class="op">(</span>J <span class="op">/</span> s<span class="op">)</span> <span class="op">&lt;&lt;</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>;</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>std<span class="op">::</span>cout <span class="op">&lt;&lt;</span> q1<span class="op">.</span>in<span class="op">(</span>N <span class="op">*</span> m <span class="op">/</span> s<span class="op">)</span> <span class="op">&lt;&lt;</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>;</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>std<span class="op">::</span>cout <span class="op">&lt;&lt;</span> q1<span class="op">.</span>in<span class="op">(</span>kg <span class="op">*</span> m2 <span class="op">/</span> s3<span class="op">)</span> <span class="op">&lt;&lt;</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>;</span></code></pre></div>
<p>prints:</p>
<pre class="text"><code>42 W
42 J/s
42 N m/s
42 kg m²/s³</code></pre>
<p>All of the above quantities are equivalent and mean exactly the
same.</p>
<h2 data-number="4.4" id="constraining-a-derived-unit-to-work-only-with-a-specific-derived-quantity"><span class="header-section-number">4.4</span> Constraining a derived unit to
work only with a specific derived quantity<a href="#constraining-a-derived-unit-to-work-only-with-a-specific-derived-quantity" class="self-link"></a></h2>
<p>Some derived units are valid only for specific derived quantities.
For example, <span class="citation" data-cites="SI">[<a href="#ref-SI" role="doc-biblioref">SI</a>]</span> specifies both
<code class="sourceCode default">hertz</code> and
<code class="sourceCode default">becquerel</code> derived units with the
same unit equation <code class="sourceCode default">1/s</code>. However,
it also explicitly states:</p>
<blockquote>
<p>The hertz shall only be used for periodic phenomena and the becquerel
shall only be used for stochastic processes in activity referred to a
radionuclide.</p>
</blockquote>
<p>This is why it is important for the library to allow constraining
such units to be used only with a specific quantity kind:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> hertz <span class="op">:</span> named_unit<span class="op">&lt;</span><span class="st">&quot;Hz&quot;</span>, one <span class="op">/</span> second, kind_of<span class="op">&lt;</span>isq<span class="op">::</span>frequency<span class="op">&gt;&gt;</span> <span class="op">{}</span> hertz;</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> becquerel <span class="op">:</span> named_unit<span class="op">&lt;</span><span class="st">&quot;Bq&quot;</span>, one <span class="op">/</span> second, kind_of<span class="op">&lt;</span>isq<span class="op">::</span>activity<span class="op">&gt;&gt;</span> <span class="op">{}</span> becquerel;</span></code></pre></div>
<p>With the above, <code class="sourceCode default">hertz</code> can
only be used for frequencies, while
<code class="sourceCode default">becquerel</code> should only be used
for quantities of activity. This means that the following equation will
not compile improving the type-safety of the library:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="kw">auto</span> q <span class="op">=</span> <span class="dv">1</span> <span class="op">*</span> Hz <span class="op">+</span> <span class="dv">1</span> <span class="op">*</span> Bq;   <span class="co">// Fails to compile</span></span></code></pre></div>
<h2 data-number="4.5" id="prefixed-units"><span class="header-section-number">4.5</span> Prefixed units<a href="#prefixed-units" class="self-link"></a></h2>
<p>Besides named units, the <a href="../../appendix/glossary.md#si">SI</a> specifies also 24 prefixes
(all being a power of <code class="sourceCode default">10</code>) that
can be prepended to all named units to obtain various scaled versions of
them.</p>
<p>Implementation of <code class="sourceCode default">std::ratio</code>
provided by all major compilers is able to express only 16 of them. This
is why, in the <span class="citation" data-cites="MP-UNITS">[<a href="#ref-MP-UNITS" role="doc-biblioref">mp-units</a>]</span>, we had
to find an alternative way to represent unit magnitude in a more
flexible way.</p>
<p>Each prefix is implemented as:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="kw">template</span><span class="op">&lt;</span>PrefixableUnit <span class="kw">auto</span> U<span class="op">&gt;</span> <span class="kw">struct</span> quecto_ <span class="op">:</span> prefixed_unit<span class="op">&lt;</span><span class="st">&quot;q&quot;</span>, mag_power<span class="op">&lt;</span><span class="dv">10</span>, <span class="op">-</span><span class="dv">30</span><span class="op">&gt;</span>, U<span class="op">&gt;</span> <span class="op">{}</span>;</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="kw">template</span><span class="op">&lt;</span>PrefixableUnit <span class="kw">auto</span> U<span class="op">&gt;</span> <span class="kw">inline</span> <span class="kw">constexpr</span> quecto_<span class="op">&lt;</span>U<span class="op">&gt;</span> quecto;</span></code></pre></div>
<p>and then a unit can be prefixed in the following way:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">auto</span> qm <span class="op">=</span> quecto<span class="op">&lt;</span>metre<span class="op">&gt;</span>;</span></code></pre></div>
<p>The usage of <code class="sourceCode default">mag_power</code> not
only enables providing support for SI prefixes, but it can also
efficiently represent any rational magnitude. For example, IEC 80000
prefixes used in the IT industry can be implemented as:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="kw">template</span><span class="op">&lt;</span>PrefixableUnit <span class="kw">auto</span> U<span class="op">&gt;</span> <span class="kw">struct</span> yobi_ <span class="op">:</span> prefixed_unit<span class="op">&lt;</span><span class="st">&quot;Yi&quot;</span>, mag_power<span class="op">&lt;</span><span class="dv">2</span>, <span class="dv">80</span><span class="op">&gt;</span>, U<span class="op">&gt;</span> <span class="op">{}</span>;</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="kw">template</span><span class="op">&lt;</span>PrefixableUnit <span class="kw">auto</span> U<span class="op">&gt;</span> <span class="kw">inline</span> <span class="kw">constexpr</span> yobi_<span class="op">&lt;</span>U<span class="op">&gt;</span> yobi;</span></code></pre></div>
<h2 data-number="4.6" id="scaled-units"><span class="header-section-number">4.6</span> Scaled units<a href="#scaled-units" class="self-link"></a></h2>
<p>In the <span class="citation" data-cites="SI">[<a href="#ref-SI" role="doc-biblioref">SI</a>]</span>, all units are either base or
derived units or prefixed versions of those. However, those are not the
only options possible.</p>
<p>For example, there is a list of off-system units accepted for use
with <span class="citation" data-cites="SI">[<a href="#ref-SI" role="doc-biblioref">SI</a>]</span>. All of those are scaled versions of
the <span class="citation" data-cites="SI">[<a href="#ref-SI" role="doc-biblioref">SI</a>]</span> units with ratios that can’t be
explicitly expressed with predefined SI prefixes. Those include units
like minute, hour, or electronvolt:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> minute <span class="op">:</span> named_unit<span class="op">&lt;</span><span class="st">&quot;min&quot;</span>, mag<span class="op">&lt;</span><span class="dv">60</span><span class="op">&gt;</span> <span class="op">*</span> si<span class="op">::</span>second<span class="op">&gt;</span> <span class="op">{}</span> minute;</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> hour <span class="op">:</span> named_unit<span class="op">&lt;</span><span class="st">&quot;h&quot;</span>, mag<span class="op">&lt;</span><span class="dv">60</span><span class="op">&gt;</span> <span class="op">*</span> minute<span class="op">&gt;</span> <span class="op">{}</span> hour;</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> electronvolt <span class="op">:</span> named_unit<span class="op">&lt;</span><span class="st">&quot;eV&quot;</span>,</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>    mag<span class="op">&lt;</span>ratio<span class="op">{</span><span class="dv">1&#39;602&#39;176&#39;634</span>, <span class="dv">1&#39;000&#39;000&#39;000</span><span class="op">}&gt;</span> <span class="op">*</span> mag_power<span class="op">&lt;</span><span class="dv">10</span>, <span class="op">-</span><span class="dv">19</span><span class="op">&gt;</span> <span class="op">*</span> si<span class="op">::</span>joule<span class="op">&gt;</span> <span class="op">{}</span> electronvolt;</span></code></pre></div>
<p>Also, units of other systems of units are often defined in terms of
scaled versions of other (often SI) units. For example, the
international yard is defined as:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> yard <span class="op">:</span> named_unit<span class="op">&lt;</span><span class="st">&quot;yd&quot;</span>, mag<span class="op">&lt;</span>ratio<span class="op">{</span><span class="dv">9&#39;144</span>, <span class="dv">10&#39;000</span><span class="op">}&gt;</span> <span class="op">*</span> si<span class="op">::</span>metre<span class="op">&gt;</span> <span class="op">{}</span> yard;</span></code></pre></div>
<p>and then a <code class="sourceCode default">foot</code> can be
defined as:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> foot <span class="op">:</span> named_unit<span class="op">&lt;</span><span class="st">&quot;ft&quot;</span>, mag<span class="op">&lt;</span>ratio<span class="op">{</span><span class="dv">1</span>, <span class="dv">3</span><span class="op">}&gt;</span> <span class="op">*</span> yard<span class="op">&gt;</span> <span class="op">{}</span> foot;</span></code></pre></div>
<p>For some units, a magnitude might also be irrational. The best
example here is a <code class="sourceCode default">degree</code> which
is defined using a floating-point magnitude having a factor of the
number π (Pi):</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> mag_pi <span class="op">:</span> magnitude<span class="op">&lt;</span>std<span class="op">::</span>numbers<span class="op">::</span>pi_v<span class="op">&lt;</span><span class="dt">long</span> <span class="dt">double</span><span class="op">&gt;&gt;</span> <span class="op">{}</span> mag_pi;</span></code></pre></div>
<div class="sourceCode" id="cb44"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> degree <span class="op">:</span> named_unit<span class="op">&lt;</span>basic_symbol_text<span class="op">{</span><span class="st">&quot;°&quot;</span>, <span class="st">&quot;deg&quot;</span><span class="op">}</span>, mag_pi <span class="op">/</span> mag<span class="op">&lt;</span><span class="dv">180</span><span class="op">&gt;</span> <span class="op">*</span> si<span class="op">::</span>radian<span class="op">&gt;</span> <span class="op">{}</span> degree;</span></code></pre></div>
<h2 data-number="4.7" id="unit-symbols"><span class="header-section-number">4.7</span> Unit symbols<a href="#unit-symbols" class="self-link"></a></h2>
<p>In the <span class="citation" data-cites="MP-UNITS">[<a href="#ref-MP-UNITS" role="doc-biblioref">mp-units</a>]</span> library
units are available via their full names or through their short symbols.
To use a long version it is enough to type:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;mp-units/systems/si/si.h&gt;</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> mp_units;</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>quantity q <span class="op">=</span> <span class="dv">42</span> <span class="op">*</span> si<span class="op">::</span>metre;</span></code></pre></div>
<p>The same can be obtained using an optional unit symbol:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;mp-units/systems/si/si.h&gt;</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> mp_units;</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> mp_units<span class="op">::</span>si<span class="op">::</span>unit_symbols;</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>quantity q <span class="op">=</span> <span class="dv">42</span> <span class="op">*</span> m;</span></code></pre></div>
<p>Unit symbols introduce a lot of short identifiers into the current
namespace, and that is why they are opt-in. A user has to explicitly
“import” them from a dedicated
<code class="sourceCode default">unit_symbols</code> namespace.</p>
<h1 data-number="5" id="operations-on-units-dimensions-and-quantity-types"><span class="header-section-number">5</span> Operations on units, dimensions,
and quantity types<a href="#operations-on-units-dimensions-and-quantity-types" class="self-link"></a></h1>
<p>Modern C++ physical quantities and units library should expose
compile-time constants for units, dimensions, and quantity types. Each
of such constants should be of a different type. Said otherwise, every
unit, dimension, and quantity type has a unique type and a compile-time
instance. This allows us to do regular algebra on such identifiers and
get proper types as results of such operations.</p>
<p>The operations exposed by such a library should include at least:</p>
<ul>
<li>multiplication
(e.g. <code class="sourceCode default">newton * metre</code>),</li>
<li>division
(e.g. <code class="sourceCode default">metre / second</code>),</li>
<li>power
(e.g. <code class="sourceCode default">pow&lt;2&gt;(metre)</code> or
<code class="sourceCode default">pow&lt;1, 2&gt;(metre * metre)</code>)</li>
</ul>
<p>To improve the usability of the library, we also recommend
adding:</p>
<ul>
<li>square root
(e.g. <code class="sourceCode default">sqrt(metre * metre)</code> is
equivalent to
<code class="sourceCode default">pow&lt;1, 2&gt;(metre * metre)</code>),</li>
<li>cubic root
(e.g. <code class="sourceCode default">cbrt(metre * metre * metre)</code>
is equivalent to <code class="sourceCode default">pow&lt;1, 3&gt;(metre * metre * metre)</code>),</li>
<li>inversion
(e.g. <code class="sourceCode default">inverse(second)</code> is
equivalent to
<code class="sourceCode default">one / second</code>).</li>
</ul>
<p>Additionally, for units only, to improve the readability of the code,
it makes sense to expose the following:</p>
<ul>
<li>square power
(e.g. <code class="sourceCode default">square(metre)</code> is
equivalent to
<code class="sourceCode default">pow&lt;2&gt;(metre)</code>)</li>
<li>cubic power
(e.g. <code class="sourceCode default">cubic(metre)</code> is equivalent
to <code class="sourceCode default">pow&lt;3&gt;(metre)</code>)</li>
</ul>
<p>The above two functions could also be considered for dimensions and
quantity types. However,
<code class="sourceCode default">cubic(length)</code> does not seem to
make much sense, and probably
<code class="sourceCode default">pow&lt;3&gt;(length)</code> should be
preferred instead.</p>
<h2 data-number="5.1" id="expression-templates"><span class="header-section-number">5.1</span> Expression templates<a href="#expression-templates" class="self-link"></a></h2>
<p>Modern C++ physical quantities and units libraries use opaque types
to improve the user experience while analyzing compile-time errors or
inspecting types in a debugger. This is a huge usability improvement
over the older libraries that use aliases to refer to long
instantiations of class templates.</p>
<h3 data-number="5.1.1" id="derived-entities"><span class="header-section-number">5.1.1</span> Derived entities<a href="#derived-entities" class="self-link"></a></h3>
<p>Having such strong types for entities is not enough. While doing
arithmetics on them, we get derived entities, and they also should be
easy to understand and correlate with the code written by the user. This
is where expression templates come into play.</p>
<p>The library should use the same unified approach to represent the
results of arithmetics on all kinds of entities. It is worth mentioning
that a generic purpose expression templates library is not a good
solution for a physical quantities and units library.</p>
<p>Let’s assume that we want to represent the results of the following
two unit equations:</p>
<ul>
<li><code class="sourceCode default">metre / second * second</code></li>
<li><code class="sourceCode default">metre * metre / metre</code></li>
</ul>
<p>Both of them should result in a type equivalent to
<code class="sourceCode default">metre</code>. A general-purpose library
will probably result with the types similar to the below:</p>
<ul>
<li><code class="sourceCode default">mul&lt;div&lt;metre, second&gt;, second&gt;</code></li>
<li><code class="sourceCode default">div&lt;mul&lt;metre, metre&gt;, metre&gt;</code></li>
</ul>
<p>Comparing such types for equivalence would not only be very expensive
at compile-time but would also be really confusing to the users
observing them in the compilation logs. This is why we need a dedicated
solution here.</p>
<p>In a physical quantities and units library, we need expression
templates to express the results of:</p>
<ul>
<li>dimension equations,</li>
<li>quantity type equations,</li>
<li>unit equations,</li>
<li>unit magnitude equations.</li>
</ul>
<p>If the above equation results in a derived entity, we must create a
type that clearly describes what we are dealing with. We need to pack a
simplified expression template into some container for that. There are
various possibilities here. The table below presents the types generated
from unit expressions by two leading products on the market in this
subject:</p>
<!-- markdownlint-disable MD013 -->
<table style="width:100%;">
<colgroup>
<col style="width: 9%" />
<col style="width: 42%" />
<col style="width: 47%" />
</colgroup>
<thead>
<tr class="header">
<th><div style="text-align:center">
<strong>Unit</strong>
</div></th>
<th><div style="text-align:center">
<strong><span class="citation" data-cites="MP-UNITS">[<a href="#ref-MP-UNITS" role="doc-biblioref">mp-units</a>]</span></strong>
</div></th>
<th><div style="text-align:center">
<strong><span class="citation" data-cites="AU">[<a href="#ref-AU" role="doc-biblioref">Au</a>]</span></strong>
</div></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code class="sourceCode default">N⋅m</code></td>
<td><code class="sourceCode default">derived_unit&lt;metre, newton&gt;</code></td>
<td><code class="sourceCode default">UnitProduct&lt;Meters, Newtons&gt;</code></td>
</tr>
<tr class="even">
<td><code class="sourceCode default">1/s</code></td>
<td><code class="sourceCode default">derived_unit&lt;one, per&lt;second&gt;&gt;</code></td>
<td><code class="sourceCode default">Pow&lt;Seconds, -1&gt;</code></td>
</tr>
<tr class="odd">
<td><code class="sourceCode default">km/h</code></td>
<td><code class="sourceCode default">derived_unit&lt;kilo_&lt;metre&gt;, per&lt;hour&gt;&gt;</code></td>
<td><code class="sourceCode default">UnitProduct&lt;Kilo&lt;Meters&gt;, Pow&lt;Hours, -1&gt;&gt;</code></td>
</tr>
<tr class="even">
<td><code class="sourceCode default">kg⋅m²/(s³⋅K)</code></td>
<td><code class="sourceCode default">derived_unit&lt;kilogram, pow&lt;metre, 2&gt;, per&lt;kelvin, power&lt;second, 3&gt;&gt;&gt;</code></td>
<td><code class="sourceCode default">UnitProduct&lt;Pow&lt;Meters, 2&gt;, Kilo&lt;Grams&gt;, Pow&lt;Seconds, -3&gt;, Pow&lt;Kelvins, -1&gt;&gt;</code></td>
</tr>
<tr class="odd">
<td><code class="sourceCode default">m²/m</code></td>
<td><code class="sourceCode default">metre</code></td>
<td><code class="sourceCode default">Meters</code></td>
</tr>
<tr class="even">
<td><code class="sourceCode default">km/m</code></td>
<td><code class="sourceCode default">derived_unit&lt;kilo_&lt;metre&gt;, per&lt;metre&gt;&gt;</code></td>
<td><code class="sourceCode default">UnitProduct&lt;Pow&lt;Meters, -1&gt;, Kilo&lt;Meters&gt;&gt;</code></td>
</tr>
<tr class="odd">
<td><code class="sourceCode default">m/m</code></td>
<td><code class="sourceCode default">one</code></td>
<td><code class="sourceCode default">UnitProduct&lt;&gt;</code></td>
</tr>
</tbody>
</table>
<!-- markdownlint-enable MD013 -->
<p>It is a matter of taste which solution is better. While discussing
the pros and cons here, we should remember that our users often do not
have a scientific background. This is why the <span class="citation" data-cites="MP-UNITS">[<a href="#ref-MP-UNITS" role="doc-biblioref">mp-units</a>]</span> library decided to use syntax
that is as similar to the correct English language as possible. It
consistently uses the <code class="sourceCode default">derived_</code>
prefix for types representing derived units, dimensions, and quantity
specifications. Those are instantiated first with the contents of the
numerator followed by the entities of the denominator (if present)
enclosed in the <code class="sourceCode default">per&lt;...&gt;</code>
expression template.</p>
<h3 data-number="5.1.2" id="identities"><span class="header-section-number">5.1.2</span> Identities<a href="#identities" class="self-link"></a></h3>
<p>The arithmetics on units, dimensions, and quantity types require a
special identity value. Such value can be returned as a result of the
division of the same entities, or using it should not modify the
expression template on multiplication.</p>
<p>The <span class="citation" data-cites="MP-UNITS">[<a href="#ref-MP-UNITS" role="doc-biblioref">mp-units</a>]</span> library
chose the following names here:</p>
<ul>
<li><code class="sourceCode default">one</code> in the domain of
units,</li>
<li><code class="sourceCode default">dimension_one</code> in the domain
of dimensions,</li>
<li><code class="sourceCode default">dimensionless</code> in the domain
of quantity types.</li>
</ul>
<p>The above names were selected based on the following quote from the
<span class="citation" data-cites="ISO80000">[<a href="#ref-ISO80000" role="doc-biblioref">ISO 80000</a>]</span>:</p>
<blockquote>
<p>A quantity whose dimensional exponents are all equal to zero has the
dimensional product denoted A<sup>0</sup>B<sup>0</sup>C<sup>0</sup>… =
1, where the symbol 1 denotes the corresponding dimension. There is no
agreement on how to refer to such quantities. They have been called
<strong>dimensionless</strong> quantities (although this term should now
be avoided), quantities with <strong>dimension one</strong>, quantities
with dimension number, or quantities with the <strong>unit one</strong>.
Such quantities are dimensionally simply numbers. To avoid confusion, it
is helpful to use explicit units with these quantities where possible,
e.g., m/m, nmol/mol, rad, as specified in the SI Brochure.</p>
</blockquote>
<h3 data-number="5.1.3" id="supported-operations-and-their-results"><span class="header-section-number">5.1.3</span> Supported operations and
their results<a href="#supported-operations-and-their-results" class="self-link"></a></h3>
<p>The table below presents all the operations that can be done on
units, dimensions, and quantity types in a physical quantities and units
library and corresponding expression templates chosen by the <span class="citation" data-cites="MP-UNITS">[<a href="#ref-MP-UNITS" role="doc-biblioref">mp-units</a>]</span> project as their results:</p>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 46%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"><div style="text-align:center">
<strong>Operation</strong>
</div></th>
<th style="text-align: center;"><div style="text-align:center">
<strong>Resulting template expression arguments</strong>
</div></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code class="sourceCode default">A * B</code></td>
<td style="text-align: center;"><code class="sourceCode default">A, B</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code class="sourceCode default">B * A</code></td>
<td style="text-align: center;"><code class="sourceCode default">A, B</code></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code class="sourceCode default">A * A</code></td>
<td style="text-align: center;"><code class="sourceCode default">power&lt;A, 2&gt;</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code class="sourceCode default">{identity} * A</code></td>
<td style="text-align: center;"><code class="sourceCode default">A</code></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code class="sourceCode default">A * {identity}</code></td>
<td style="text-align: center;"><code class="sourceCode default">A</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code class="sourceCode default">A / B</code></td>
<td style="text-align: center;"><code class="sourceCode default">A, per&lt;B&gt;</code></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code class="sourceCode default">A / A</code></td>
<td style="text-align: center;"><code class="sourceCode default">{identity}</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code class="sourceCode default">A / {identity}</code></td>
<td style="text-align: center;"><code class="sourceCode default">A</code></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code class="sourceCode default">{identity} / A</code></td>
<td style="text-align: center;"><code class="sourceCode default">{identity}, per&lt;A&gt;</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code class="sourceCode default">pow&lt;2&gt;(A)</code></td>
<td style="text-align: center;"><code class="sourceCode default">power&lt;A, 2&gt;</code></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code class="sourceCode default">pow&lt;2&gt;({identity})</code></td>
<td style="text-align: center;"><code class="sourceCode default">{identity}</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code class="sourceCode default">sqrt(A)</code>
or <code class="sourceCode default">pow&lt;1, 2&gt;(A)</code></td>
<td style="text-align: center;"><code class="sourceCode default">power&lt;A, 1, 2&gt;</code></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code class="sourceCode default">sqrt({identity})</code>
or
<code class="sourceCode default">pow&lt;1, 2&gt;({identity})</code></td>
<td style="text-align: center;"><code class="sourceCode default">{identity}</code></td>
</tr>
</tbody>
</table>
<h3 data-number="5.1.4" id="simplifying-the-resulting-expression-templates"><span class="header-section-number">5.1.4</span> Simplifying the resulting
expression templates<a href="#simplifying-the-resulting-expression-templates" class="self-link"></a></h3>
<p>To limit the length and improve the readability of generated types,
there are many rules to simplify the resulting expression template.</p>
<ol type="1">
<li><p><strong>Ordering</strong></p>
<p>The resulting comma-separated arguments of multiplication are always
sorted according to a specific predicate. This is why:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>A <span class="op">*</span> B <span class="op">==</span> B <span class="op">*</span> A<span class="op">)</span>;</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>std<span class="op">::</span>is_same_v<span class="op">&lt;</span><span class="kw">decltype</span><span class="op">(</span>A <span class="op">*</span> B<span class="op">)</span>, <span class="kw">decltype</span><span class="op">(</span>B <span class="op">*</span> A<span class="op">)&gt;)</span>;</span></code></pre></div>
<p>This is probably the most important of all the steps, as it allows
comparing types and enables the rest of the simplification rules.</p>
<p>Units and dimensions have unique symbols, but ordering quantity types
might not be that trivial. Although the ISQ defined in <span class="citation" data-cites="ISO80000">[<a href="#ref-ISO80000" role="doc-biblioref">ISO 80000</a>]</span> provides symbols for each
quantity, there is little use for them in the C++ code. This is caused
by the fact that such symbols use a lot of characters that are not
available with the Unicode encoding. Most of the limitations correspond
to Unicode providing only a minimal set of characters available as
subscripts, which are often used to differentiate various quantities of
the same kind. For example, it is impossible to encode the symbols of
the following quantities:</p>
<ul>
<li><em>c</em><sub>sat</sub> - specific heat capacity at saturated
vapour pressure,</li>
<li><em>μ</em><sub>JT</sub> - Joule-Thomson coefficient,</li>
<li><em>w</em><sub>H<sub>2</sub>O</sub> - mass fraction of water,</li>
<li><em>σ</em><sub>Ω,E</sub> - direction and energy distribution of
cross section,</li>
<li><em>d</em><sub>1/2</sub> - half-value thickness,</li>
<li><em>Φ</em><sub>e,λ</sub> - spectral radiant flux.</li>
</ul>
<p>This is why the <span class="citation" data-cites="MP-UNITS">[<a href="#ref-MP-UNITS" role="doc-biblioref">mp-units</a>]</span> library
chose to use type name identifiers in such cases.</p></li>
<li><p><strong>Aggregation</strong></p>
<p>In case two of the same type identifiers are found next to each other
on the argument list, they will be aggregated in one entry:</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;"><div style="text-align:center">
<strong>Before</strong>
</div></th>
<th style="text-align: center;"><div style="text-align:center">
<strong>After</strong>
</div></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code class="sourceCode default">A, A</code></td>
<td style="text-align: center;"><code class="sourceCode default">power&lt;A, 2&gt;</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code class="sourceCode default">A, power&lt;A, 2&gt;</code></td>
<td style="text-align: center;"><code class="sourceCode default">power&lt;A, 3&gt;</code></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code class="sourceCode default">power&lt;A, 1, 2&gt;, power&lt;A, 2&gt;</code></td>
<td style="text-align: center;"><code class="sourceCode default">power&lt;A, 5, 2&gt;</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code class="sourceCode default">power&lt;A, 1, 2&gt;, power&lt;A, 1, 2&gt;</code></td>
<td style="text-align: center;"><code class="sourceCode default">A</code></td>
</tr>
</tbody>
</table></li>
<li><p><strong>Simplification</strong></p>
<p>In case two of the same type identifiers are found in the numerator
and denominator argument lists, they are being simplified into one
entry:</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;"><div style="text-align:center">
<strong>Before</strong>
</div></th>
<th style="text-align: center;"><div style="text-align:center">
<strong>After</strong>
</div></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code class="sourceCode default">A, per&lt;A&gt;</code></td>
<td style="text-align: center;"><code class="sourceCode default">{identity}</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code class="sourceCode default">power&lt;A, 2&gt;, per&lt;A&gt;</code></td>
<td style="text-align: center;"><code class="sourceCode default">A</code></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code class="sourceCode default">power&lt;A, 3&gt;, per&lt;A&gt;</code></td>
<td style="text-align: center;"><code class="sourceCode default">power&lt;A, 2&gt;</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code class="sourceCode default">A, per&lt;power&lt;A, 2&gt;&gt;</code></td>
<td style="text-align: center;"><code class="sourceCode default">{identity}, per&lt;A&gt;</code></td>
</tr>
</tbody>
</table>
<p>It is important to notice here that only the elements with exactly
the same type are being simplified. This means that, for example,
<code class="sourceCode default">m/m</code> results in
<code class="sourceCode default">one</code>, but
<code class="sourceCode default">km/m</code> will not be simplified. The
resulting derived unit will preserve both symbols and their relative
magnitude. This allows us to properly print symbols of some units or
constants that require such behavior. For example, the Hubble constant
is expressed in <code class="sourceCode default">km⋅s⁻¹⋅Mpc⁻¹</code>,
where both <code class="sourceCode default">km</code> and
<code class="sourceCode default">Mpc</code> are units of
length.</p></li>
<li><p><strong>Repacking</strong></p>
<p>In case an expression uses two results of some other operations, the
components of its arguments are repacked into one resulting type and
simplified there.</p>
<p>For example, assuming:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="kw">constexpr</span> <span class="kw">auto</span> X <span class="op">=</span> A <span class="op">/</span> B;</span></code></pre></div>
<p>then:</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;"><div style="text-align:center">
<strong>Operation</strong>
</div></th>
<th style="text-align: center;"><div style="text-align:center">
<strong>Resulting template expression arguments</strong>
</div></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code class="sourceCode default">X * B</code></td>
<td style="text-align: center;"><code class="sourceCode default">A</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code class="sourceCode default">X * A</code></td>
<td style="text-align: center;"><code class="sourceCode default">power&lt;A, 2&gt;, per&lt;B&gt;</code></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code class="sourceCode default">X * X</code></td>
<td style="text-align: center;"><code class="sourceCode default">power&lt;A, 2&gt;, per&lt;power&lt;B, 2&gt;&gt;</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code class="sourceCode default">X / X</code></td>
<td style="text-align: center;"><code class="sourceCode default">{identity}</code></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code class="sourceCode default">X / A</code></td>
<td style="text-align: center;"><code class="sourceCode default">{identity}, per&lt;B&gt;</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code class="sourceCode default">X / B</code></td>
<td style="text-align: center;"><code class="sourceCode default">A, per&lt;power&lt;B, 2&gt;&gt;</code></td>
</tr>
</tbody>
</table></li>
</ol>
<p>Please note that for as long as for the ordering step in some cases,
we use user-provided symbols, the aggregation, and the next steps do not
benefit from those. They always use type identifiers to determine
whether the operation should be performed.</p>
<p>Unit symbols are not guaranteed to be unique in the project. For
example, someone may use
<code class="sourceCode default">&quot;s&quot;</code> as a symbol for a
count of samples, which, when used in a unit expression with seconds,
would cause fatal consequences
(e.g. <code class="sourceCode default">sample * second</code> would
yield <code class="sourceCode default">s²</code>, or
<code class="sourceCode default">sample / second</code> would result in
<code class="sourceCode default">one</code>).</p>
<p>Some units would provide worse text output if the ordering step used
type identifiers rather than unit symbols. For example, <code class="sourceCode default">si::metre * si::second * cgs::second</code>
would result in <code class="sourceCode default">s m s</code>, or
<code class="sourceCode default">newton * metre</code> would result in
<code class="sourceCode default">m N</code>, which is not how we
typically spell this unit. However, for the sake of consistency, we may
also consider changing the algorithm used for ordering to be based on
type identifiers.</p>
<h3 data-number="5.1.5" id="example"><span class="header-section-number">5.1.5</span> Example<a href="#example" class="self-link"></a></h3>
<p>Thanks to all of the steps described above, a user may write the code
like this one:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> mp_units<span class="op">::</span>si<span class="op">::</span>unit_symbols;</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>quantity speed <span class="op">=</span> isq<span class="op">::</span>speed<span class="op">(</span><span class="fl">60.</span> <span class="op">*</span> km <span class="op">/</span> h<span class="op">)</span>;</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>quantity duration <span class="op">=</span> <span class="dv">8</span> <span class="op">*</span> s;</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>quantity acceleration1 <span class="op">=</span> speed <span class="op">/</span> duration;</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>quantity acceleration2 <span class="op">=</span> isq<span class="op">::</span>acceleration<span class="op">(</span>acceleration1<span class="op">.</span>in<span class="op">(</span>m <span class="op">/</span> s2<span class="op">))</span>;</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>std<span class="op">::</span>cout <span class="op">&lt;&lt;</span> <span class="st">&quot;acceleration: &quot;</span> <span class="op">&lt;&lt;</span> acceleration1 <span class="op">&lt;&lt;</span> <span class="st">&quot; (&quot;</span> <span class="op">&lt;&lt;</span> acceleration2 <span class="op">&lt;&lt;</span> <span class="st">&quot;)</span><span class="sc">\n</span><span class="st">&quot;</span>;</span></code></pre></div>
<p>the text output provides:</p>
<pre class="text"><code>acceleration: 7.5 km h⁻¹ s⁻¹ (2.08333 m/s²)</code></pre>
<p>The above program will produce the following types for acceleration
quantities (after stripping the
<code class="sourceCode default">mp_units</code> namespace for
brevity):</p>
<ul>
<li><p><code class="sourceCode default">acceleration1</code></p>
<pre class="text"><code>quantity&lt;reference&lt;derived_quantity_spec&lt;isq::speed, per&lt;isq::time&gt;&gt;{}, 
                  derived_unit&lt;si::kilo_&lt;si::metre{}&gt;, per&lt;non_si::hour, si::second&gt;&gt;{}&gt;{},
         double&gt;</code></pre></li>
<li><p><code class="sourceCode default">acceleration2</code></p>
<pre class="text"><code>quantity&lt;reference&lt;isq::speed, per&lt;isq::time&gt;&gt;{}, 
                   derived_unit&lt;si::metre, per&lt;power&lt;si::second, 2&gt;&gt;&gt;{}&gt;{},
         double&gt;&gt;</code></pre></li>
</ul>
<h2 data-number="5.2" id="scaled-units-1"><span class="header-section-number">5.2</span> Scaled units<a href="#scaled-units-1" class="self-link"></a></h2>
<h3 data-number="5.2.1" id="unit-magnitudes"><span class="header-section-number">5.2.1</span> Unit magnitudes<a href="#unit-magnitudes" class="self-link"></a></h3>
<p>TBD</p>
<h3 data-number="5.2.2" id="construction-helpers"><span class="header-section-number">5.2.2</span> Construction helpers<a href="#construction-helpers" class="self-link"></a></h3>
<h3 data-number="5.2.3" id="common-units"><span class="header-section-number">5.2.3</span> Common units<a href="#common-units" class="self-link"></a></h3>
<h2 data-number="5.3" id="faster-than-lightspeed-constants"><span class="header-section-number">5.3</span> Faster than lightspeed
constants<a href="#faster-than-lightspeed-constants" class="self-link"></a></h2>
<p>In most libraries, physical constants are implemented as constant
(possibly <code class="sourceCode default">constexpr</code>) quantity
values. Such an approach has some disadvantages, often resulting in
longer compilation times and a loss of precision.</p>
<h3 data-number="5.3.1" id="simplifying-constants-in-an-equation"><span class="header-section-number">5.3.1</span> Simplifying constants in an
equation<a href="#simplifying-constants-in-an-equation" class="self-link"></a></h3>
<p>When dealing with equations involving physical constants, they often
occur more than once in an expression. Such a constant may appear both
in a numerator and denominator of a quantity equation. As we know from
fundamental physics, we can simplify such an expression by simply
striking a constant out of the equation. Supporting such behavior allows
a faster runtime performance and often a better precision of the
resulting value.</p>
<h3 data-number="5.3.2" id="physical-constants-as-units"><span class="header-section-number">5.3.2</span> Physical constants as units<a href="#physical-constants-as-units" class="self-link"></a></h3>
<p>The <span class="citation" data-cites="MP-UNITS">[<a href="#ref-MP-UNITS" role="doc-biblioref">mp-units</a>]</span> library
allows and encourages implementing physical constants as regular units.
With that, the constant’s value is handled at compile-time, and under
favorable circumstances, it can be simplified in the same way as all
other repeated units do. If it is not simplified, the value is stored in
a type, and the expensive multiplication or division operations can be
delayed in time until a user selects a specific unit to represent/print
the data.</p>
<p>Such a feature often also allows the use of simpler or faster
representation types in the equation. For example, instead of always
multiplying a small integral value with a big floating-point constant
number, we can just use the integral type all the way. Only in case a
constant will not simplify in the equation, and the user will require a
specific unit, such a multiplication will be lazily invoked, and the
representation type will need to be expanded to facilitate that. With
that, addition, subtractions, multiplications, and divisions will always
be the fastest - compiled away or done on the fast arithmetic types or
in out-of-order execution.</p>
<p>To benefit from all of the above, in the <span class="citation" data-cites="MP-UNITS">[<a href="#ref-MP-UNITS" role="doc-biblioref">mp-units</a>]</span> library, SI defining and other
constants are implemented as units in the following way:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="kw">namespace</span> si <span class="op">{</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="kw">namespace</span> si2019 <span class="op">{</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> speed_of_light_in_vacuum <span class="op">:</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>  named_unit<span class="op">&lt;</span><span class="st">&quot;c&quot;</span>, mag<span class="op">&lt;</span><span class="dv">299&#39;792&#39;458</span><span class="op">&gt;</span> <span class="op">*</span> metre <span class="op">/</span> second<span class="op">&gt;</span> <span class="op">{}</span> speed_of_light_in_vacuum;</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span>  <span class="co">// namespace si2019</span></span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> magnetic_constant <span class="op">:</span></span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>  named_unit<span class="op">&lt;</span>basic_symbol_text<span class="op">{</span><span class="st">&quot;μ₀&quot;</span>, <span class="st">&quot;u_0&quot;</span><span class="op">}</span>, mag<span class="op">&lt;</span><span class="dv">4</span><span class="op">&gt;</span> <span class="op">*</span> mag_pi <span class="op">*</span> mag_power<span class="op">&lt;</span><span class="dv">10</span>, <span class="op">-</span><span class="dv">7</span><span class="op">&gt;</span> <span class="op">*</span> henry <span class="op">/</span> metre<span class="op">&gt;</span> <span class="op">{}</span> magnetic_constant;</span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a><span class="op">}</span>  <span class="co">// namespace mp_units::si</span></span></code></pre></div>
<h3 data-number="5.3.3" id="usage-examples"><span class="header-section-number">5.3.3</span> Usage examples<a href="#usage-examples" class="self-link"></a></h3>
<p>With the above definitions, we can calculate vacuum permittivity
as:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="kw">constexpr</span> <span class="kw">auto</span> permeability_of_vacuum <span class="op">=</span> <span class="fl">1.</span> <span class="op">*</span> si<span class="op">::</span>magnetic_constant;</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="kw">constexpr</span> <span class="kw">auto</span> speed_of_light_in_vacuum <span class="op">=</span> <span class="dv">1</span> <span class="op">*</span> si<span class="op">::</span>si2019<span class="op">::</span>speed_of_light_in_vacuum;</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>QuantityOf<span class="op">&lt;</span>isq<span class="op">::</span>permittivity_of_vacuum<span class="op">&gt;</span> <span class="kw">auto</span> q <span class="op">=</span> <span class="dv">1</span> <span class="op">/</span> <span class="op">(</span>permeability_of_vacuum <span class="op">*</span> pow<span class="op">&lt;</span><span class="dv">2</span><span class="op">&gt;(</span>speed_of_light_in_vacuum<span class="op">))</span>;</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>std<span class="op">::</span>cout <span class="op">&lt;&lt;</span> <span class="st">&quot;permittivity of vacuum = &quot;</span> <span class="op">&lt;&lt;</span> q <span class="op">&lt;&lt;</span> <span class="st">&quot; = &quot;</span> <span class="op">&lt;&lt;</span> q<span class="op">.</span>in<span class="op">(</span>F <span class="op">/</span> m<span class="op">)</span> <span class="op">&lt;&lt;</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>;</span></code></pre></div>
<p>The above first prints the following:</p>
<pre class="text"><code>permittivity of vacuum = 1  μ₀⁻¹ c⁻² = 8.85419e-12 F/m</code></pre>
<p>As we can clearly see, all the calculations above were just about
multiplying and dividing the number
<code class="sourceCode default">1</code> with the rest of the
information provided as a compile-time type. Only when a user wants a
specific SI unit as a result, the unit ratios are lazily resolved.</p>
<p>Another similar example can be an equation for total energy:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>QuantityOf<span class="op">&lt;</span>isq<span class="op">::</span>mechanical_energy<span class="op">&gt;</span> <span class="kw">auto</span> total_energy<span class="op">(</span>QuantityOf<span class="op">&lt;</span>isq<span class="op">::</span>momentum<span class="op">&gt;</span> <span class="kw">auto</span> p,</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>                                                     QuantityOf<span class="op">&lt;</span>isq<span class="op">::</span>mass<span class="op">&gt;</span> <span class="kw">auto</span> m,</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>                                                     QuantityOf<span class="op">&lt;</span>isq<span class="op">::</span>speed<span class="op">&gt;</span> <span class="kw">auto</span> c<span class="op">)</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> isq<span class="op">::</span>mechanical_energy<span class="op">(</span>sqrt<span class="op">(</span>pow<span class="op">&lt;</span><span class="dv">2</span><span class="op">&gt;(</span>p <span class="op">*</span> c<span class="op">)</span> <span class="op">+</span> pow<span class="op">&lt;</span><span class="dv">2</span><span class="op">&gt;(</span>m <span class="op">*</span> pow<span class="op">&lt;</span><span class="dv">2</span><span class="op">&gt;(</span>c<span class="op">))))</span>;</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb53"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="kw">constexpr</span> <span class="kw">auto</span> GeV <span class="op">=</span> si<span class="op">::</span>giga<span class="op">&lt;</span>si<span class="op">::</span>electronvolt<span class="op">&gt;</span>;</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="kw">constexpr</span> QuantityOf<span class="op">&lt;</span>isq<span class="op">::</span>speed<span class="op">&gt;</span> <span class="kw">auto</span> c <span class="op">=</span> <span class="fl">1.</span> <span class="op">*</span> si<span class="op">::</span>si2019<span class="op">::</span>speed_of_light_in_vacuum;</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="kw">constexpr</span> <span class="kw">auto</span> c2 <span class="op">=</span> pow<span class="op">&lt;</span><span class="dv">2</span><span class="op">&gt;(</span>c<span class="op">)</span>;</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> <span class="kw">auto</span> p1 <span class="op">=</span> isq<span class="op">::</span>momentum<span class="op">(</span><span class="fl">4.</span> <span class="op">*</span> GeV <span class="op">/</span> c<span class="op">)</span>;</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> QuantityOf<span class="op">&lt;</span>isq<span class="op">::</span>mass<span class="op">&gt;</span> <span class="kw">auto</span> m1 <span class="op">=</span> <span class="fl">3.</span> <span class="op">*</span> GeV <span class="op">/</span> c2;</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> <span class="kw">auto</span> E <span class="op">=</span> total_energy<span class="op">(</span>p1, m1, c<span class="op">)</span>;</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>std<span class="op">::</span>cout <span class="op">&lt;&lt;</span> <span class="st">&quot;in `GeV` and `c`:</span><span class="sc">\n</span><span class="st">&quot;</span></span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>          <span class="op">&lt;&lt;</span> <span class="st">&quot;p = &quot;</span> <span class="op">&lt;&lt;</span> p1 <span class="op">&lt;&lt;</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span></span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>          <span class="op">&lt;&lt;</span> <span class="st">&quot;m = &quot;</span> <span class="op">&lt;&lt;</span> m1 <span class="op">&lt;&lt;</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span></span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>          <span class="op">&lt;&lt;</span> <span class="st">&quot;E = &quot;</span> <span class="op">&lt;&lt;</span> E <span class="op">&lt;&lt;</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>;</span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> <span class="kw">auto</span> p2 <span class="op">=</span> p1<span class="op">.</span>in<span class="op">(</span>GeV <span class="op">/</span> <span class="op">(</span>m <span class="op">/</span> s<span class="op">))</span>;</span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> <span class="kw">auto</span> m2 <span class="op">=</span> m1<span class="op">.</span>in<span class="op">(</span>GeV <span class="op">/</span> pow<span class="op">&lt;</span><span class="dv">2</span><span class="op">&gt;(</span>m <span class="op">/</span> s<span class="op">))</span>;</span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> <span class="kw">auto</span> E2 <span class="op">=</span> total_energy<span class="op">(</span>p2, m2, c<span class="op">).</span>in<span class="op">(</span>GeV<span class="op">)</span>;</span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a>std<span class="op">::</span>cout <span class="op">&lt;&lt;</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">in `GeV`:</span><span class="sc">\n</span><span class="st">&quot;</span></span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a>          <span class="op">&lt;&lt;</span> <span class="st">&quot;p = &quot;</span> <span class="op">&lt;&lt;</span> p2 <span class="op">&lt;&lt;</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span></span>
<span id="cb53-20"><a href="#cb53-20" aria-hidden="true" tabindex="-1"></a>          <span class="op">&lt;&lt;</span> <span class="st">&quot;m = &quot;</span> <span class="op">&lt;&lt;</span> m2 <span class="op">&lt;&lt;</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span></span>
<span id="cb53-21"><a href="#cb53-21" aria-hidden="true" tabindex="-1"></a>          <span class="op">&lt;&lt;</span> <span class="st">&quot;E = &quot;</span> <span class="op">&lt;&lt;</span> E2 <span class="op">&lt;&lt;</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>;</span>
<span id="cb53-22"><a href="#cb53-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-23"><a href="#cb53-23" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> <span class="kw">auto</span> p3 <span class="op">=</span> p1<span class="op">.</span>in<span class="op">(</span>kg <span class="op">*</span> m <span class="op">/</span> s<span class="op">)</span>;</span>
<span id="cb53-24"><a href="#cb53-24" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> <span class="kw">auto</span> m3 <span class="op">=</span> m1<span class="op">.</span>in<span class="op">(</span>kg<span class="op">)</span>;</span>
<span id="cb53-25"><a href="#cb53-25" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> <span class="kw">auto</span> E3 <span class="op">=</span> total_energy<span class="op">(</span>p3, m3, c<span class="op">).</span>in<span class="op">(</span>J<span class="op">)</span>;</span>
<span id="cb53-26"><a href="#cb53-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-27"><a href="#cb53-27" aria-hidden="true" tabindex="-1"></a>std<span class="op">::</span>cout <span class="op">&lt;&lt;</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">in SI base units:</span><span class="sc">\n</span><span class="st">&quot;</span></span>
<span id="cb53-28"><a href="#cb53-28" aria-hidden="true" tabindex="-1"></a>          <span class="op">&lt;&lt;</span> <span class="st">&quot;p = &quot;</span> <span class="op">&lt;&lt;</span> p3 <span class="op">&lt;&lt;</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span></span>
<span id="cb53-29"><a href="#cb53-29" aria-hidden="true" tabindex="-1"></a>          <span class="op">&lt;&lt;</span> <span class="st">&quot;m = &quot;</span> <span class="op">&lt;&lt;</span> m3 <span class="op">&lt;&lt;</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span></span>
<span id="cb53-30"><a href="#cb53-30" aria-hidden="true" tabindex="-1"></a>          <span class="op">&lt;&lt;</span> <span class="st">&quot;E = &quot;</span> <span class="op">&lt;&lt;</span> E3 <span class="op">&lt;&lt;</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>;</span></code></pre></div>
<p>The above prints the following:</p>
<pre class="text"><code>in `GeV` and `c`:
p = 4 GeV/c
m = 3 GeV/c²
E = 5 GeV

in `GeV`:
p = 1.33426e-08 GeV s/m
m = 3.33795e-17 GeV s²/m²
E = 5 GeV

in SI base units:
p = 2.13771e-18 kg m/s
m = 5.34799e-27 kg
E = 8.01088e-10 J</code></pre>
<h2 data-number="5.4" id="equivalence"><span class="header-section-number">5.4</span> Equivalence<a href="#equivalence" class="self-link"></a></h2>
<p>Units, dimensions, and quantity types can be checked for equivalence
with <code class="sourceCode default">operator==</code>. However, what
it means to be an equivalent entity means something different for each
case here.</p>
<h3 data-number="5.4.1" id="dimensions"><span class="header-section-number">5.4.1</span> Dimensions<a href="#dimensions" class="self-link"></a></h3>
<p>Equivalence is the simplest to reason about in the case of
dimensions. The only thing to account for here is the point when a user
would like to derive its own strong type from the library-provided
one.</p>
<p>Please note that the library never provides strong types for derived
dimensions besides the
<code class="sourceCode default">dimension_one</code>. For example, ISQ
defines length (<code class="sourceCode default">L</code>) and time
(<code class="sourceCode default">T</code>) dimensions, but there is no
such thing as a speed dimension. It does not have its own symbol as
well. There is only a derived dimension of speed described with
<code class="sourceCode default">LT⁻¹</code>. This is the reason why a
user should also not derive strong types from the derived
dimensions.</p>
<p>The equality operator for dimensions can be implemented as:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="kw">template</span><span class="op">&lt;</span>Dimension Lhs, Dimension Rhs<span class="op">&gt;</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="op">[[</span><span class="at">nodiscard</span><span class="op">]]</span> <span class="kw">consteval</span> <span class="dt">bool</span> <span class="kw">operator</span><span class="op">==(</span>Lhs, Rhs<span class="op">)</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> std<span class="op">::</span>derived_from<span class="op">&lt;</span>Lhs, Rhs<span class="op">&gt;</span> <span class="op">||</span> std<span class="op">::</span>derived_from<span class="op">&lt;</span>Rhs, Lhs<span class="op">&gt;</span>;</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 data-number="5.4.2" id="quantity-types"><span class="header-section-number">5.4.2</span> Quantity types<a href="#quantity-types" class="self-link"></a></h3>
<p>Equality for quantity types is similar to dimensions. Again, users
are allowed to derive their own types but only from the named strong
types provided by the library:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="kw">template</span><span class="op">&lt;</span>QuantitySpec Lhs, QuantitySpec Rhs<span class="op">&gt;</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="op">[[</span><span class="at">nodiscard</span><span class="op">]]</span> <span class="kw">consteval</span> <span class="dt">bool</span> <span class="kw">operator</span><span class="op">==(</span>Lhs, Rhs<span class="op">)</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> <span class="kw">constexpr</span> <span class="op">(</span>detail<span class="op">::</span>NamedQuantitySpec<span class="op">&lt;</span>Lhs<span class="op">&gt;</span> <span class="op">&amp;&amp;</span> detail<span class="op">::</span>NamedQuantitySpec<span class="op">&lt;</span>Rhs<span class="op">&gt;)</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> std<span class="op">::</span>derived_from<span class="op">&lt;</span>Lhs, Rhs<span class="op">&gt;</span> <span class="op">||</span> std<span class="op">::</span>derived_from<span class="op">&lt;</span>Rhs, Lhs<span class="op">&gt;</span>;</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> is_same_v<span class="op">&lt;</span>Lhs, Rhs<span class="op">&gt;</span>;</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 data-number="5.4.3" id="units"><span class="header-section-number">5.4.3</span> Units<a href="#units" class="self-link"></a></h3>
<p>Equality for units is a bit more complicated. Not only watt
(<code class="sourceCode default">W</code>) should be equivalent to
<code class="sourceCode default">J/s</code> or
<code class="sourceCode default">kg m²/s³</code> but also litre
(<code class="sourceCode default">l</code>) should be equivalent to
cubic decimetre (<code class="sourceCode default">dm³</code>). This is
why in this case we do not compare user-provided types but first convert
each unit to its canonical representation and then we compare if the
reference unit and the magnitude is the same:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="op">[[</span><span class="at">nodiscard</span><span class="op">]]</span> <span class="kw">consteval</span> <span class="dt">bool</span> <span class="kw">operator</span><span class="op">==(</span>Unit <span class="kw">auto</span> lhs, Unit <span class="kw">auto</span> rhs<span class="op">)</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">auto</span> canonical_lhs <span class="op">=</span> detail<span class="op">::</span>get_canonical_unit<span class="op">(</span>lhs<span class="op">)</span>;</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">auto</span> canonical_rhs <span class="op">=</span> detail<span class="op">::</span>get_canonical_unit<span class="op">(</span>rhs<span class="op">)</span>;</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> detail<span class="op">::</span>have_same_canonical_reference_unit<span class="op">(</span>canonical_lhs<span class="op">.</span>reference_unit, canonical_rhs<span class="op">.</span>reference_unit<span class="op">)</span> <span class="op">&amp;&amp;</span></span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>         canonical_lhs<span class="op">.</span>mag <span class="op">==</span> canonical_rhs<span class="op">.</span>mag;</span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 data-number="5.5" id="ordering"><span class="header-section-number">5.5</span> Ordering<a href="#ordering" class="self-link"></a></h2>
<p>Please note that the ordering for dimensions and quantity types has
no physical sense.</p>
<p>We could entertain adding ordering for units, but this would work
only for quantities having the same reference unit, which would be
inconsistent with how equivalence works.</p>
<p>Let’s see the following example:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="kw">constexpr</span> Unit <span class="kw">auto</span> my_unit <span class="op">=</span> si<span class="op">::</span>second;</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="kw">constexpr</span> <span class="op">(</span>my_unit <span class="op">==</span> si<span class="op">::</span>metre<span class="op">)</span> <span class="op">{</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ...</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="kw">constexpr</span> <span class="op">(</span>my_unit <span class="op">&gt;</span> si<span class="op">::</span>metre<span class="op">)</span> <span class="op">{</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ...</span></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="kw">constexpr</span> <span class="op">(</span>my_unit <span class="op">&gt;</span> si<span class="op">::</span>nano<span class="op">(</span>si<span class="op">::</span>second<span class="op">))</span> <span class="op">{</span></span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ...</span></span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>In the above code, the first check could be useful for some use
cases. However, the second one is impossible to implement and should not
compile. The third one could be considered useful, but the current
version of <span class="citation" data-cites="MP-UNITS">[<a href="#ref-MP-UNITS" role="doc-biblioref">mp-units</a>]</span> does not
expose such an interface to limit potential confusion. Also, it is
really hard to mathematically prove that unit magnitude representation
that we us in the library is greater or smaller than the other one in
some cases.</p>
<h1 data-number="6" id="quantities"><span class="header-section-number">6</span> Quantities<a href="#quantities" class="self-link"></a></h1>
<p><code class="sourceCode default">quantity</code> class template is
the workhorse of the library. It can be considered a generalization of
<code class="sourceCode default">std::chrono::duration</code>, but is
not directly compatible with it.</p>
<h2 data-number="6.1" id="quantity-references"><span class="header-section-number">6.1</span> Quantity references<a href="#quantity-references" class="self-link"></a></h2>
<p><em>Note: we know that probably the term “reference” will not survive
too long in the Committee, but we couldn’t find a better name for it in
the <span class="citation" data-cites="MP-UNITS">[<a href="#ref-MP-UNITS" role="doc-biblioref">mp-units</a>]</span>
library.</em></p>
<p><span class="citation" data-cites="ISO-GUIDE">[<a href="#ref-ISO-GUIDE" role="doc-biblioref">ISO/IEC Guide 99</a>]</span>
says:</p>
<blockquote>
<p><strong>quantity</strong> - property of a phenomenon, body, or
substance, where the property has a magnitude that can be expressed as a
number and a reference. … A reference can be a measurement unit, a
measurement procedure, a reference material, or a combination of
such.</p>
</blockquote>
<p>In the <span class="citation" data-cites="MP-UNITS">[<a href="#ref-MP-UNITS" role="doc-biblioref">mp-units</a>]</span> library a
quantity reference represents all the domain-specific meta-data about
the quantity besides its representation type and its value. A
<code class="sourceCode default">Reference</code> concept is satisfied
by either of:</p>
<ul>
<li>an associated unit
(e.g. <code class="sourceCode default">si::metre</code>),</li>
<li>an instantiation of the <code class="sourceCode default">reference&lt;QuantitySpec, Unit&gt;</code>
class template explicitly specifying the quantity type and its
unit.</li>
</ul>
<p>A reference type is implicitly created as a result of the following
expression:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> mp_units<span class="op">::</span>si<span class="op">::</span>unit_symbols;</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="kw">constexpr</span> <span class="kw">auto</span> ref <span class="op">=</span> isq<span class="op">::</span>height<span class="op">[</span>m<span class="op">]</span>;</span></code></pre></div>
<p>The above example resulted in the following type <code class="sourceCode default">reference&lt;isq::height, si::metre&gt;</code>
being instantiated.</p>
<p>Reference class template also exposes arithmetic interface similar to
the one that we have already discussed in case of units and quantity
types. It just simply forwards the operation to its quantity type an
units members. For example:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="kw">template</span><span class="op">&lt;</span>QuantitySpec <span class="kw">auto</span> Q, Unit <span class="kw">auto</span> U<span class="op">&gt;</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> reference <span class="op">{</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">template</span><span class="op">&lt;</span><span class="kw">auto</span> Q2, <span class="kw">auto</span> U2<span class="op">&gt;</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">[[</span><span class="at">nodiscard</span><span class="op">]]</span> <span class="kw">friend</span> <span class="kw">consteval</span> <span class="dt">bool</span> <span class="kw">operator</span><span class="op">==(</span>reference, reference<span class="op">&lt;</span>Q2, U2<span class="op">&gt;)</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">{</span></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> Q <span class="op">==</span> Q2 <span class="op">&amp;&amp;</span> U <span class="op">==</span> U2;</span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">template</span><span class="op">&lt;</span>AssociatedUnit U2<span class="op">&gt;</span></span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>  <span class="op">[[</span><span class="at">nodiscard</span><span class="op">]]</span> <span class="kw">friend</span> <span class="kw">consteval</span> <span class="dt">bool</span> <span class="kw">operator</span><span class="op">==(</span>reference, U2 u2<span class="op">)</span></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>  <span class="op">{</span></span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> Q <span class="op">==</span> get_quantity_spec<span class="op">(</span>u2<span class="op">)</span> <span class="op">&amp;&amp;</span> U <span class="op">==</span> u2;</span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a>  <span class="kw">template</span><span class="op">&lt;</span><span class="kw">auto</span> Q2, <span class="kw">auto</span> U2<span class="op">&gt;</span></span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a>  <span class="op">[[</span><span class="at">nodiscard</span><span class="op">]]</span> <span class="kw">friend</span> <span class="kw">consteval</span> reference<span class="op">&lt;</span>Q <span class="op">*</span> Q2, U <span class="op">*</span> U2<span class="op">&gt;</span> <span class="kw">operator</span><span class="op">*(</span>reference, reference<span class="op">&lt;</span>Q2, U2<span class="op">&gt;)</span></span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a>  <span class="op">{</span></span>
<span id="cb59-18"><a href="#cb59-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="op">{}</span>;</span>
<span id="cb59-19"><a href="#cb59-19" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb59-20"><a href="#cb59-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-21"><a href="#cb59-21" aria-hidden="true" tabindex="-1"></a>  <span class="kw">template</span><span class="op">&lt;</span>AssociatedUnit U2<span class="op">&gt;</span></span>
<span id="cb59-22"><a href="#cb59-22" aria-hidden="true" tabindex="-1"></a>  <span class="op">[[</span><span class="at">nodiscard</span><span class="op">]]</span> <span class="kw">friend</span> <span class="kw">consteval</span> reference<span class="op">&lt;</span>Q <span class="op">*</span> get_quantity_spec<span class="op">(</span>U2<span class="op">{})</span>, U <span class="op">*</span> U2<span class="op">{}&gt;</span> <span class="kw">operator</span><span class="op">*(</span>reference, U2<span class="op">)</span></span>
<span id="cb59-23"><a href="#cb59-23" aria-hidden="true" tabindex="-1"></a>  <span class="op">{</span></span>
<span id="cb59-24"><a href="#cb59-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="op">{}</span>;</span>
<span id="cb59-25"><a href="#cb59-25" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb59-26"><a href="#cb59-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-27"><a href="#cb59-27" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ...</span></span>
<span id="cb59-28"><a href="#cb59-28" aria-hidden="true" tabindex="-1"></a><span class="op">}</span>;</span></code></pre></div>
<p>Please note that all of the operators work on two
<code class="sourceCode default">reference</code> instantiations, or one
its instantiation and an
<code class="sourceCode default">AssociatedUnit</code>.</p>
<h2 data-number="6.2" id="quantity-class-template"><span class="header-section-number">6.2</span>
<code class="sourceCode default">quantity</code> class template<a href="#quantity-class-template" class="self-link"></a></h2>
<p>Based on the ISO definition above, the
<code class="sourceCode default">quantity</code> class template has the
following signature:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="kw">template</span><span class="op">&lt;</span>Reference <span class="kw">auto</span> R, RepresentationOf<span class="op">&lt;</span>get_quantity_spec<span class="op">(</span>R<span class="op">).</span>character<span class="op">&gt;</span> Rep <span class="op">=</span> <span class="dt">double</span><span class="op">&gt;</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> quantity;</span></code></pre></div>
<p>It has only one data member of
<code class="sourceCode default">Rep</code> type. Unfortunately, this
data member is publicly exposed to satisfy the C++ language requirements
for structural types. Hopefully, the language rules for structural types
will improve with time before this library gets standardized.</p>
<h2 data-number="6.3" id="quantity-construction-helpers"><span class="header-section-number">6.3</span> Quantity construction helpers<a href="#quantity-construction-helpers" class="self-link"></a></h2>
<p>As we already noticed in many examples above a numerical value
multiplied or divided by the
<code class="sourceCode default">Reference</code> creates the value of
<code class="sourceCode default">quantity</code> class template with the
representation type and reference deduced from the types used in the
expression.</p>
<p>We have a few options to choose from here:</p>
<ul>
<li>simple quantities (quantities of a quantity kind)</li>
</ul>
<div class="sourceCode" id="cb61"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>quantity<span class="op">&lt;</span>si<span class="op">::</span>metre <span class="op">/</span> si<span class="op">::</span>second, <span class="dt">int</span><span class="op">&gt;</span> q1 <span class="op">=</span> <span class="dv">42</span> <span class="op">*</span> m <span class="op">/</span> s;</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>quantity q2 <span class="op">=</span> <span class="dv">42</span> <span class="op">*</span> m <span class="op">/</span> s;</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>std<span class="op">::</span>is_same_v<span class="op">&lt;</span><span class="kw">decltype</span><span class="op">(</span>q1<span class="op">)</span>, <span class="kw">decltype</span><span class="op">(</span>q2<span class="op">)&gt;)</span>;</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>q1<span class="op">.</span>quantity_spec <span class="op">==</span> kind_of<span class="op">&lt;</span>isq<span class="op">::</span>length <span class="op">/</span> isq<span class="op">::</span>time<span class="op">&gt;)</span>;</span></code></pre></div>
<ul>
<li>typed quantities</li>
</ul>
<div class="sourceCode" id="cb62"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>quantity<span class="op">&lt;</span>isq<span class="op">::</span>speed<span class="op">[</span>si<span class="op">::</span>metre <span class="op">/</span> si<span class="op">::</span>second<span class="op">]</span>, <span class="dt">int</span><span class="op">&gt;</span> q3 <span class="op">=</span> <span class="dv">42</span> <span class="op">*</span> m <span class="op">/</span> s;</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>quantity q4 <span class="op">=</span> <span class="dv">42</span> <span class="op">*</span> isq<span class="op">::</span>speed<span class="op">[</span>m <span class="op">/</span> s<span class="op">]</span>;</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>quantity q5 <span class="op">=</span> isq<span class="op">::</span>speed<span class="op">(</span><span class="dv">42</span> <span class="op">*</span> m <span class="op">/</span> s<span class="op">)</span>;</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>std<span class="op">::</span>is_same_v<span class="op">&lt;</span><span class="kw">decltype</span><span class="op">(</span>q3<span class="op">)</span>, <span class="kw">decltype</span><span class="op">(</span>q4<span class="op">)&gt;)</span>;</span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>std<span class="op">::</span>is_same_v<span class="op">&lt;</span><span class="kw">decltype</span><span class="op">(</span>q3<span class="op">)</span>, <span class="kw">decltype</span><span class="op">(</span>q5<span class="op">)&gt;)</span>;</span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a><span class="kw">static_assert</span><span class="op">(</span>q3<span class="op">.</span>quantity_spec <span class="op">==</span> isq<span class="op">::</span>speed<span class="op">)</span>;</span></code></pre></div>
<p>In case someone doesn’t like the multiply syntax or there is an
ambiguity between <code class="sourceCode default">operator*</code>
provided by this and other libraries, a quantity can also be created
with a dedicated factory function:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>quantity q <span class="op">=</span> make_quantity<span class="op">&lt;</span>isq<span class="op">::</span>speed<span class="op">[</span>m <span class="op">/</span> s<span class="op">]&gt;(</span><span class="dv">42</span><span class="op">)</span>;</span></code></pre></div>
<h2 data-number="6.4" id="quantity-constructors-and-value-conversions"><span class="header-section-number">6.4</span> Quantity constructors and value
conversions<a href="#quantity-constructors-and-value-conversions" class="self-link"></a></h2>
<p><code class="sourceCode default">quantity</code> class template has a
converting constructor that participates in the overload resolution only
when:</p>
<ul>
<li>source quantity specification is implicitly convertible to the
destination one,</li>
<li>both units share the same reference unit,</li>
<li>the resulting value conversion will be value-preserving.</li>
</ul>
<p>Additionally, this constructor becomes explicit if the source
representation type is not convertible to the destination one.</p>
<h3 data-number="6.4.1" id="value-preserving-conversions"><span class="header-section-number">6.4.1</span> Value-preserving
conversions<a href="#value-preserving-conversions" class="self-link"></a></h3>
<p>As of today, the <span class="citation" data-cites="MP-UNITS">[<a href="#ref-MP-UNITS" role="doc-biblioref">mp-units</a>]</span> library
follows <a href="https://en.cppreference.com/w/cpp/chrono/duration/duration">the
rules of <code class="sourceCode default">std::chrono::duration</code>
for value-preserving conversions</a>. We realize that some time has
passed now and maybe we can improve in this domain. However, to our
knowledge, as of today, we do not have any tools we could use in the C++
Standard to improve that.</p>
<p>Below we describe the current approach.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="kw">auto</span> q1 <span class="op">=</span> <span class="dv">5</span> <span class="op">*</span> km;</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>std<span class="op">::</span>cout <span class="op">&lt;&lt;</span> q1<span class="op">.</span>in<span class="op">(</span>m<span class="op">)</span> <span class="op">&lt;&lt;</span> <span class="ch">&#39;</span><span class="sc">\n</span><span class="ch">&#39;</span>;</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>quantity<span class="op">&lt;</span>si<span class="op">::</span>metre, <span class="dt">int</span><span class="op">&gt;</span> q2 <span class="op">=</span> q1;</span></code></pre></div>
<p>The second line above converts the current quantity to the one
expressed in metres and prints its contents. The third line converts the
quantity expressed in kilometers into the one measured in metres.</p>
<p>In both cases we assume that one can convert a quantity into another
one with a unit of a higher resolution. There is no protection against
overflow of the representation type. In case the target quantity ends up
with a value bigger than the representation type can handle, we will be
facing Undefined Behavior.</p>
<p>If we try similar, but this time opposite, operations to the above,
both conversions should fail to compile:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="kw">auto</span> q1 <span class="op">=</span> <span class="dv">5</span> <span class="op">*</span> m;</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>std<span class="op">::</span>cout <span class="op">&lt;&lt;</span> q1<span class="op">.</span>in<span class="op">(</span>km<span class="op">)</span> <span class="op">&lt;&lt;</span> <span class="ch">&#39;</span><span class="sc">\n</span><span class="ch">&#39;</span>;              <span class="co">// Compile-time error</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>quantity<span class="op">&lt;</span>si<span class="op">::</span>kilo<span class="op">&lt;</span>si<span class="op">::</span>metre<span class="op">&gt;</span>, <span class="dt">int</span><span class="op">&gt;</span> q2 <span class="op">=</span> q1;  <span class="co">// Compile-time error</span></span></code></pre></div>
<p>We can’t preserve the value of a source quantity when we convert it
to a one using the unit of a lower resolution while dealing with an
integral representation type for a quantity. In the example above,
converting <code class="sourceCode default">5</code> meters would result
in <code class="sourceCode default">0</code> kilometers if internal
conversion is performed using regular integer arithmetic.</p>
<p>While this could be a valid behavior, the problem arises when the
user expects to be able to convert the quantity back to the original
unit without loss of information. So the library should prevent such
conversions from happening implicitly; whether the library should offer
explicitly marked unsafe conversions for these cases is yet to be
discussed.</p>
<p>To make the above conversions compile, we could use a floating-point
representation type:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="kw">auto</span> q1 <span class="op">=</span> <span class="fl">5.</span> <span class="op">*</span> m;    <span class="co">// source quantity uses `double` as a representation type</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>std<span class="op">::</span>cout <span class="op">&lt;&lt;</span> q1<span class="op">.</span>in<span class="op">(</span>km<span class="op">)</span> <span class="op">&lt;&lt;</span> <span class="ch">&#39;</span><span class="sc">\n</span><span class="ch">&#39;</span>;</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>quantity<span class="op">&lt;</span>si<span class="op">::</span>kilo<span class="op">&lt;</span>si<span class="op">::</span>metre<span class="op">&gt;&gt;</span> q2 <span class="op">=</span> q1;</span></code></pre></div>
<p>or:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="kw">auto</span> q1 <span class="op">=</span> <span class="dv">5</span> <span class="op">*</span> m;     <span class="co">// source quantity uses `int` as a representation type</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>std<span class="op">::</span>cout <span class="op">&lt;&lt;</span> value_cast<span class="op">&lt;</span><span class="dt">double</span><span class="op">&gt;(</span>q1<span class="op">).</span>in<span class="op">(</span>km<span class="op">)</span> <span class="op">&lt;&lt;</span> <span class="ch">&#39;</span><span class="sc">\n</span><span class="ch">&#39;</span>;</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>quantity<span class="op">&lt;</span>si<span class="op">::</span>kilo<span class="op">&lt;</span>si<span class="op">::</span>metre<span class="op">&gt;&gt;</span> q2 <span class="op">=</span> q1;  <span class="co">// double by default</span></span></code></pre></div>
<p><em>The <span class="citation" data-cites="MP-UNITS">[<a href="#ref-MP-UNITS" role="doc-biblioref">mp-units</a>]</span> library
follows <code class="sourceCode default">std::chrono::duration</code>
logic and treats floating-point types as value-preserving.</em></p>
<h3 data-number="6.4.2" id="value-truncating-conversions"><span class="header-section-number">6.4.2</span> Value-truncating
conversions<a href="#value-truncating-conversions" class="self-link"></a></h3>
<p>Another possibility would be to force such a truncating conversion
explicitly from the code:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="kw">auto</span> q1 <span class="op">=</span> <span class="dv">5</span> <span class="op">*</span> m;     <span class="co">// source quantity uses `int` as a representation type</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>std<span class="op">::</span>cout <span class="op">&lt;&lt;</span> q1<span class="op">.</span>force_in<span class="op">(</span>km<span class="op">)</span> <span class="op">&lt;&lt;</span> <span class="ch">&#39;</span><span class="sc">\n</span><span class="ch">&#39;</span>;</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>quantity<span class="op">&lt;</span>si<span class="op">::</span>kilo<span class="op">&lt;</span>si<span class="op">::</span>metre<span class="op">&gt;</span>, <span class="dt">int</span><span class="op">&gt;</span> q2 <span class="op">=</span> value_cast<span class="op">&lt;</span>km<span class="op">&gt;(</span>q1<span class="op">)</span>;</span></code></pre></div>
<p>The code above makes it clear that “something bad” may happen here if
we are not extra careful.</p>
<p>Another case for truncation happens when we assign a quantity with a
floating-point representation type to the one using an integral
representation type for its value:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="kw">auto</span> q1 <span class="op">=</span> <span class="fl">2.5</span> <span class="op">*</span> m;</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>quantity<span class="op">&lt;</span>si<span class="op">::</span>metre, <span class="dt">int</span><span class="op">&gt;</span> q2 <span class="op">=</span> q1;</span></code></pre></div>
<p>Such an operation should fail to compile as well. Again, to force
such a truncation, we have to be explicit in the code:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="kw">auto</span> q1 <span class="op">=</span> <span class="fl">2.5</span> <span class="op">*</span> m;</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>quantity<span class="op">&lt;</span>si<span class="op">::</span>metre, <span class="dt">int</span><span class="op">&gt;</span> q2 <span class="op">=</span> value_cast<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;(</span>q1<span class="op">)</span>;</span></code></pre></div>
<p>As we can see, it is essential not to allow such truncating
conversions to happen implicitly and a good physical quantities and
units library should fail at compile time in case a user makes such a
mistake.</p>
<h2 data-number="6.5" id="character-of-a-quantity"><span class="header-section-number">6.5</span> Character of a quantity<a href="#character-of-a-quantity" class="self-link"></a></h2>
<p>This chapter is just a short preview to the feature that will get its
own paper in the future if the Committee is interested in exploring this
path.</p>
<h3 data-number="6.5.1" id="scalars-vectors-and-tensors"><span class="header-section-number">6.5.1</span> Scalars, vectors, and
tensors<a href="#scalars-vectors-and-tensors" class="self-link"></a></h3>
<p><span class="citation" data-cites="ISO80000">[<a href="#ref-ISO80000" role="doc-biblioref">ISO 80000</a>]</span> explicitly states:</p>
<blockquote>
<p>Scalars, vectors and tensors are mathematical objects that can be
used to denote certain physical quantities and their values. They are as
such independent of the particular choice of a coordinate system,
whereas each scalar component of a vector or a tensor and each component
vector and component tensor depend on that choice.</p>
</blockquote>
<p>Such distinction is important because each quantity character
represents different properties and allows different operations to be
done on its quantities.</p>
<p>For example, imagine a physical units library that allows the
creation of a <code class="sourceCode default">speed</code> quantity
from both <code class="sourceCode default">length / time</code> and
<code class="sourceCode default">length * time</code>. It wouldn’t be
too safe to use such a product, right?</p>
<p>Now we have to realize that both of the above operations
(multiplication and division) are not even mathematically defined for
linear algebra types such as vectors or tensors. On the other hand, two
vectors can be passed as arguments to dot and cross-product operations.
The result of the first one is a scalar. The second one results in a
vector that is perpendicular to both vectors passed as arguments. Again,
it wouldn’t be safe to allow replacing those two operations with each
other or expect the same results from both cases. This simply can’t
work.</p>
<h3 data-number="6.5.2" id="isq-defines-quantities-of-all-characters"><span class="header-section-number">6.5.2</span> ISQ defines quantities of all
characters<a href="#isq-defines-quantities-of-all-characters" class="self-link"></a></h3>
<p>While defining quantities ISO 80000 explicitly mentions when a
specific quantity has a vector or tensor character. Here are some
examples:</p>
<table>
<colgroup>
<col style="width: 26%" />
<col style="width: 15%" />
<col style="width: 57%" />
</colgroup>
<thead>
<tr class="header">
<th><div style="text-align:center">
<strong>Quantity</strong>
</div></th>
<th style="text-align: center;"><div style="text-align:center">
<strong>Character</strong>
</div></th>
<th style="text-align: center;"><div style="text-align:center">
<strong>Quantity Equation</strong>
</div></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code class="sourceCode default">duration</code></td>
<td style="text-align: center;">scalar</td>
<td style="text-align: center;"><em>{base quantity}</em></td>
</tr>
<tr class="even">
<td><code class="sourceCode default">mass</code></td>
<td style="text-align: center;">scalar</td>
<td style="text-align: center;"><em>{base quantity}</em></td>
</tr>
<tr class="odd">
<td><code class="sourceCode default">length</code></td>
<td style="text-align: center;">scalar</td>
<td style="text-align: center;"><em>{base quantity}</em></td>
</tr>
<tr class="even">
<td><code class="sourceCode default">path_length</code></td>
<td style="text-align: center;">scalar</td>
<td style="text-align: center;"><em>{base quantity}</em></td>
</tr>
<tr class="odd">
<td><code class="sourceCode default">radius</code></td>
<td style="text-align: center;">scalar</td>
<td style="text-align: center;"><em>{base quantity}</em></td>
</tr>
<tr class="even">
<td><code class="sourceCode default">position_vector</code></td>
<td style="text-align: center;"><strong>vector</strong></td>
<td style="text-align: center;"><em>{base quantity}</em></td>
</tr>
<tr class="odd">
<td><code class="sourceCode default">velocity</code></td>
<td style="text-align: center;"><strong>vector</strong></td>
<td style="text-align: center;"><code class="sourceCode default">position_vector / duration</code></td>
</tr>
<tr class="even">
<td><code class="sourceCode default">acceleration</code></td>
<td style="text-align: center;"><strong>vector</strong></td>
<td style="text-align: center;"><code class="sourceCode default">velocity / duration</code></td>
</tr>
<tr class="odd">
<td><code class="sourceCode default">force</code></td>
<td style="text-align: center;"><strong>vector</strong></td>
<td style="text-align: center;"><code class="sourceCode default">mass * acceleration</code></td>
</tr>
<tr class="even">
<td><code class="sourceCode default">power</code></td>
<td style="text-align: center;">scalar</td>
<td style="text-align: center;"><code class="sourceCode default">force ⋅ velocity</code></td>
</tr>
<tr class="odd">
<td><code class="sourceCode default">moment_of_force</code></td>
<td style="text-align: center;"><strong>vector</strong></td>
<td style="text-align: center;"><code class="sourceCode default">position_vector × force</code></td>
</tr>
<tr class="even">
<td><code class="sourceCode default">torque</code></td>
<td style="text-align: center;">scalar</td>
<td style="text-align: center;"><code class="sourceCode default">moment_of_force ⋅ {unit-vector}</code></td>
</tr>
<tr class="odd">
<td><code class="sourceCode default">surface_tension</code></td>
<td style="text-align: center;">scalar</td>
<td style="text-align: center;"><code class="sourceCode default">|force| / length</code></td>
</tr>
<tr class="even">
<td><code class="sourceCode default">angular_displacement</code></td>
<td style="text-align: center;">scalar</td>
<td style="text-align: center;"><code class="sourceCode default">path_length / radius</code></td>
</tr>
<tr class="odd">
<td><code class="sourceCode default">angular_velocity</code></td>
<td style="text-align: center;"><strong>vector</strong></td>
<td style="text-align: center;"><code class="sourceCode default">angular_displacement / duration * {unit-vector}</code></td>
</tr>
<tr class="even">
<td><code class="sourceCode default">momentum</code></td>
<td style="text-align: center;"><strong>vector</strong></td>
<td style="text-align: center;"><code class="sourceCode default">mass * velocity</code></td>
</tr>
<tr class="odd">
<td><code class="sourceCode default">angular_momentum</code></td>
<td style="text-align: center;"><strong>vector</strong></td>
<td style="text-align: center;"><code class="sourceCode default">position_vector × momentum</code></td>
</tr>
<tr class="even">
<td><code class="sourceCode default">moment_of_inertia</code></td>
<td style="text-align: center;"><strong><em>tensor</em></strong></td>
<td style="text-align: center;"><code class="sourceCode default">angular_momentum ⊗ angular_velocity</code></td>
</tr>
</tbody>
</table>
<p>In the above equations:</p>
<ul>
<li><code class="sourceCode default">a * b</code> - regular
multiplication where one of the arguments has to be scalar</li>
<li><code class="sourceCode default">a / b</code> - regular division
where the divisor has to be scalar</li>
<li><code class="sourceCode default">a ⋅ b</code> - dot product of two
vectors</li>
<li><code class="sourceCode default">a × b</code> - cross product of two
vectors</li>
<li><code class="sourceCode default">|a|</code> - magnitude of a
vector</li>
<li><code class="sourceCode default">{unit-vector}</code> - a special
vector with the magnitude of
<code class="sourceCode default">1</code></li>
<li><code class="sourceCode default">a ⊗ b</code> - tensor product of
two vectors or tensors</li>
</ul>
<p>As of now, all of the C++ physical units libraries on the market
besides <span class="citation" data-cites="MP-UNITS">[<a href="#ref-MP-UNITS" role="doc-biblioref">mp-units</a>]</span> do not
support the operations mentioned above. They expose only multiplication
and division operators, which do not work for linear algebra-based
representation types. If a user of those libraries would like to create
the quantities provided in the above table properly, this would result
in a compile-time error stating that multiplication and division of two
linear algebra vectors is impossible.</p>
<p>Outside of C++ only <span class="citation" data-cites="PINT">[<a href="#ref-PINT" role="doc-biblioref">Pint</a>]</span> provides a great
support in this domain.</p>
<h3 data-number="6.5.3" id="characters-dont-apply-to-dimensions-and-units"><span class="header-section-number">6.5.3</span> Characters don’t apply to
dimensions and units<a href="#characters-dont-apply-to-dimensions-and-units" class="self-link"></a></h3>
<p><span class="citation" data-cites="ISO80000">[<a href="#ref-ISO80000" role="doc-biblioref">ISO 80000</a>]</span> explicitly states that
dimensions are orthogonal to quantity characters:</p>
<blockquote>
<p>In deriving the dimension of a quantity, no account is taken of its
scalar, vector, or tensor character.</p>
</blockquote>
<p>Also, it explicitly states that:</p>
<blockquote>
<p>All units are scalars.</p>
</blockquote>
<h3 data-number="6.5.4" id="defining-vector-and-tensor-quantities"><span class="header-section-number">6.5.4</span> Defining vector and tensor
quantities<a href="#defining-vector-and-tensor-quantities" class="self-link"></a></h3>
<p>To specify that a specific quantity has a vector or tensor character
a value of <code class="sourceCode default">quantity_character</code>
enumeration can be appended to the
<code class="sourceCode default">quantity_spec</code> describing such a
quantity type:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> position_vector <span class="op">:</span> quantity_spec<span class="op">&lt;</span>length, quantity_character<span class="op">::</span>vector<span class="op">&gt;</span> <span class="op">{}</span> position_vector;</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> displacement <span class="op">:</span> quantity_spec<span class="op">&lt;</span>length, quantity_character<span class="op">::</span>vector<span class="op">&gt;</span> <span class="op">{}</span> displacement;</span></code></pre></div>
<p>With the above, all the quantities derived from
<code class="sourceCode default">position_vector</code> or
<code class="sourceCode default">displacement</code> will have a correct
character determined according to the kind of operations included in the
quantity equation defining a derived quantity.</p>
<p>For example, <code class="sourceCode default">velocity</code> in the
below definition will be defined as a vector quantity (no explicit
character override is needed):</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="kw">struct</span> velocity <span class="op">:</span> quantity_spec<span class="op">&lt;</span>speed, position_vector <span class="op">/</span> duration<span class="op">&gt;</span> <span class="op">{}</span> velocity;</span></code></pre></div>
<h3 data-number="6.5.5" id="representation-types-for-vector-and-tensor-quantities"><span class="header-section-number">6.5.5</span> Representation types for
vector and tensor quantities<a href="#representation-types-for-vector-and-tensor-quantities" class="self-link"></a></h3>
<p>As we specified before, the
<code class="sourceCode default">quantity</code> class template is
defined as follows:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="kw">template</span><span class="op">&lt;</span>Reference <span class="kw">auto</span> R,</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>         RepresentationOf<span class="op">&lt;</span>get_quantity_spec<span class="op">(</span>R<span class="op">).</span>character<span class="op">&gt;</span> Rep <span class="op">=</span> <span class="dt">double</span><span class="op">&gt;</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> quantity;</span></code></pre></div>
<p>The second template parameter is constrained with a
<code class="sourceCode default">RepresentationOf</code> concept that
checks if the provided representation type satisfies the requirements
for the character associated with this quantity type.</p>
<p>Unfortunately, the current version of the C++ Standard Library does
not provide any types that could be used as a representation type for
vector and tensor quantities. This is why users are on their own
here.</p>
<p>However, thanks to the provided customization points, any linear
algebra library types can be used as a vector or tensor quantity
representation type.</p>
<p>To enable the usage of a user-defined type as a representation type
for vector or tensor quantities, user needs to provide a partial
specialization of <code class="sourceCode default">is_vector</code> or
<code class="sourceCode default">is_tensor</code> customization
points.</p>
<p>For example, here is how it can be done for the <a href="https://wg21.link/p1385">P1385</a> types:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;matrix&gt;</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> la_vector <span class="op">=</span> STD_LA<span class="op">::</span>fixed_size_column_vector<span class="op">&lt;</span><span class="dt">double</span>, <span class="dv">3</span><span class="op">&gt;</span>;</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a><span class="kw">template</span><span class="op">&lt;&gt;</span></span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="dt">bool</span> mp_units<span class="op">::</span>is_vector<span class="op">&lt;</span>la_vector<span class="op">&gt;</span> <span class="op">=</span> <span class="kw">true</span>;</span></code></pre></div>
<p>With the above, we can use
<code class="sourceCode default">la_vector</code> as a representation
type for our quantity:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>Quantity <span class="kw">auto</span> q <span class="op">=</span> la_vector<span class="op">{</span><span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span><span class="op">}</span> <span class="op">*</span> isq<span class="op">::</span>velocity<span class="op">[</span>m <span class="op">/</span> s<span class="op">]</span>;</span></code></pre></div>
<p>Pleas note, that the following does not work:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>Quantity <span class="kw">auto</span> q1 <span class="op">=</span> la_vector<span class="op">{</span><span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span><span class="op">}</span> <span class="op">*</span> m <span class="op">/</span> s;</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>Quantity <span class="kw">auto</span> q2 <span class="op">=</span> isq<span class="op">::</span>velocity<span class="op">(</span>la_vector<span class="op">{</span><span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span><span class="op">}</span> <span class="op">*</span> m <span class="op">/</span> s<span class="op">)</span>;</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>quantity<span class="op">&lt;</span>isq<span class="op">::</span>velocity<span class="op">[</span>m<span class="op">/</span>s<span class="op">]&gt;</span> q3<span class="op">{</span>la_vector<span class="op">{</span><span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span><span class="op">}</span> <span class="op">*</span> m <span class="op">/</span> s<span class="op">}</span>;</span></code></pre></div>
<p>In all the cases above, the SI unit
<code class="sourceCode default">m / s</code> has an associated scalar
quantity of
<code class="sourceCode default">isq::length / isq::time</code>.
<code class="sourceCode default">la_vector</code> is not a correct
representation type for a scalar quantity so the construction fails.</p>
<h3 data-number="6.5.6" id="hacking-the-character"><span class="header-section-number">6.5.6</span> Hacking the character<a href="#hacking-the-character" class="self-link"></a></h3>
<p>Sometimes we want to use a vector quantity, but we don’t care about
its direction. For example, the standard gravity acceleration constant
always points down, so we might not care about this in a particular
scenario. In such a case, we may want to “hack” the library to allow
scalar types to be used as a representation type for scalar
quantities.</p>
<p>For example, we can do the following:</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="kw">template</span><span class="op">&lt;</span><span class="kw">class</span> T<span class="op">&gt;</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">requires</span> mp_units<span class="op">::</span>is_scalar<span class="op">&lt;</span>T<span class="op">&gt;</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">constexpr</span> <span class="dt">bool</span> mp_units<span class="op">::</span>is_vector<span class="op">&lt;</span>T<span class="op">&gt;</span> <span class="op">=</span> <span class="kw">true</span>;</span></code></pre></div>
<p>which says that every type that can be used as a scalar
representation is also allowed for vector quantities.</p>
<p>Doing the above is actually not such a big “hack” as the <span class="citation" data-cites="ISO80000">[<a href="#ref-ISO80000" role="doc-biblioref">ISO 80000</a>]</span> explicitly allows it:</p>
<blockquote>
<p>A vector is a tensor of the first order and a scalar is a tensor of
order zero.</p>
</blockquote>
<p>Despite it being allowed by <span class="citation" data-cites="ISO80000">[<a href="#ref-ISO80000" role="doc-biblioref">ISO
80000</a>]</span>, for type-safety reasons, we do not allow such a
behavior by default, and a user has to opt into such scenarios
explicitly.</p>
<ul>
<li>exceptions and special cases for dimensionless quantities</li>
<li>quantity arithmetics + quirks of modulo arithmetic and integral
division</li>
<li>custom representation types (improve safety, provide additional info
like measurement, linear algebra, minimal requirements)</li>
<li>representation type constraints</li>
<li>non-negative quantities</li>
</ul>
<h2 data-number="6.6" id="dimensionless-quantities"><span class="header-section-number">6.6</span> Dimensionless quantities<a href="#dimensionless-quantities" class="self-link"></a></h2>
<h1 data-number="7" id="value-conversions"><span class="header-section-number">7</span> Value conversions<a href="#value-conversions" class="self-link"></a></h1>
<h1 data-number="8" id="the-affine-space"><span class="header-section-number">8</span> The affine space<a href="#the-affine-space" class="self-link"></a></h1>
<h1 data-number="9" id="unit-safe-math"><span class="header-section-number">9</span> Unit-safe math<a href="#unit-safe-math" class="self-link"></a></h1>
<h1 data-number="10" id="acknowledgements"><span class="header-section-number">10</span> Acknowledgements<a href="#acknowledgements" class="self-link"></a></h1>
<p>Special thanks and recognition goes to <a href="http://www.epam.com">Epam Systems</a> for supporting Mateusz’s
membership in the ISO C++ Committee and the production of this
proposal.</p>
<p>We would also like to thank Peter Sommerlad for providing valuable
feedback that helped us shape the final version of this document.</p>
<!-- markdownlint-disable -->
<h1 data-number="11" id="bibliography"><span class="header-section-number">11</span> References<a href="#bibliography" class="self-link"></a></h1>
<div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-AU" class="csl-entry" role="doc-biblioentry">
[Au] The Au Units library. <a href="https://aurora-opensource.github.io/au"><div class="csl-block">https://aurora-opensource.github.io/au</div></a>
</div>
<div id="ref-ISO80000" class="csl-entry" role="doc-biblioentry">
[ISO 80000] ISO80000: Quantities and units. <a href="https://www.iso.org/standard/76921.html"><div class="csl-block">https://www.iso.org/standard/76921.html</div></a>
</div>
<div id="ref-ISO-GUIDE" class="csl-entry" role="doc-biblioentry">
[ISO/IEC Guide 99] ISO/IEC Guide 99: International vocabulary of
metrology — Basic and general concepts and associated terms (VIM). <a href="https://www.iso.org/obp/ui#iso:std:iso-iec:guide:99"><div class="csl-block">https://www.iso.org/obp/ui#iso:std:iso-iec:guide:99</div></a>
</div>
<div id="ref-BIPM-VIM" class="csl-entry" role="doc-biblioentry">
[JCGM 200:2012] International vocabulary of metrology - Basic and
general concepts and associated terms (VIM) (JCGM 200:2012, 3rd
edition). <a href="https://jcgm.bipm.org/vim/en"><div class="csl-block">https://jcgm.bipm.org/vim/en</div></a>
</div>
<div id="ref-MP-UNITS" class="csl-entry" role="doc-biblioentry">
[mp-units] mp-units - A Physical Quantities and Units library for C++.
<a href="https://mpusz.github.io/mp-units"><div class="csl-block">https://mpusz.github.io/mp-units</div></a>
</div>
<div id="ref-PINT" class="csl-entry" role="doc-biblioentry">
[Pint] Pint: makes units easy. <a href="https://pint.readthedocs.io/en/stable/index.html"><div class="csl-block">https://pint.readthedocs.io/en/stable/index.html</div></a>
</div>
<div id="ref-SI" class="csl-entry" role="doc-biblioentry">
[SI] SI Brochure: The International System of Units (SI). <a href="https://www.bipm.org/en/publications/si-brochure"><div class="csl-block">https://www.bipm.org/en/publications/si-brochure</div></a>
</div>
</div>
</div>
</div>
</body>
</html>
